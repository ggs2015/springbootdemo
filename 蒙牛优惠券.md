---
title: 蒙牛优惠券
language_tabs:
  - shell: Shell
  - http: HTTP
  - javascript: JavaScript
  - ruby: Ruby
  - python: Python
  - php: PHP
  - java: Java
  - go: Go
toc_footers: []
includes: []
search: true
code_clipboard: true
highlight_theme: darkula
headingLevel: 2
generator: "@tarslib/widdershins v4.0.23"

---

# 蒙牛优惠券

Base URLs:

# Authentication

# OpenApi

## POST 搜索优惠券模版

POST /weimob_crm/v2.0/coupon/template/search

用于通过指定条件检索对应的优惠券，支持各种条件检索优惠券，如：优惠券类型、发放渠道、有效期、适应门店等。
▪  关于该接口调用的常见问题与错误码，请参见 券码问题 与 优惠券 API 错误码。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3111&isold=2

> Body 请求参数

```json
{
  "couponTypes": [
    1
  ],
  "name": "openapi",
  "pageNum": 1,
  "pageSize": 10,
  "vid": 6013679462319,
  "bosId": 4020068801319
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» saasChannel|body|string| 否 |openAPI来源标识；扩展字段|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 是 |节点id|
|» pageNum|body|integer| 是 |当前页,从1开始|
|» pageSize|body|integer| 是 |分页大小|
|» couponType|body|integer| 否 |券类型 不传默认全部 待搜索优惠券的类型。类型包括：1-代金券；2-折扣券；3-兑换券；|
|» couponTypes|body|[integer]| 否 |券类型 不传默认全部 待搜索优惠券的类型。类型包括：1-代金券；2-折扣券；3-兑换券；|
|» name|body|string| 否 |待搜索优惠券的名称|
|» status|body|integer| 否 |券模板状态 待搜索优惠券的状态。类型包括：0-不可用；1-可用；2-已过期；3；暂停投放。|
|» platformType|body|integer| 否 |券平台 默认传1|
|» publishChannels|body|[integer]| 否 |优惠券渠道：0-默认的渠道；1-店铺直接领取；2-活动发券；3-商家发券；|
|» belongVids|body|[integer]| 否 |券归属|
|» belongVidType|body|integer| 否 |券归属类型|
|» acceptVidType|body|integer| 否 |待搜索优惠券的适用门店类型。类型包括：1-全部门店适用；2-指定区域适用；3-指定门店适用。|
|» acceptVids|body|[integer]| 否 |券模板适用|
|» paths|body|[integer]| 否 |待搜索优惠券的发放规则。类型包括：140000-免费发放；140001-付费购买|
|» queryChannel|body|integer| 否 |优惠券渠道：0-默认的渠道；1-店铺直接领取；2-活动发券；3-商家发券；4-导购发券；5-客户列表发券；6-客服送券；9-企业助手送券；7-扫码购；8-视频号直播|
|» needAppendRefer|body|boolean| 否 |是否需要拼接 refer。true-是；false-否。|
|» acquireChannelId|body|string| 否 |发券人标识 投放链接用|
|» sendTimeAvailable|body|boolean| 否 |是否发放时间在可用时间内|
|» orderField|body|string| 否 |排序字段 不传默认更新时间倒叙|
|» needAcceptInfo|body|boolean| 否 |是否需要查适用对象|

> 返回示例

```json
"{\n    \"code\": {\n        \"bizErrmsg\": null,\n        \"errcode\": \"0\",\n        \"errmsg\": \"处理成功\"\n    },\n    \"data\": {\n        \"pageList\": [\n            {\n                \"acceptGoodsTypeDesc\": \"全部商品适用\",\n                \"acceptStoreTypeDesc\": null,\n                \"acceptTypeDTO\": {\n                    \"acceptGoodGroups\": null,\n                    \"acceptGoodsIds\": null,\n                    \"acceptGoodsType\": 1,\n                    \"acceptObjects\": null,\n                    \"acceptStoreIds\": null,\n                    \"acceptStoreType\": 1,\n                    \"acceptStores\": null,\n                    \"basicInfo\": null,\n                    \"belongVid\": 6013540415319,\n                    \"belongVidType\": null,\n                    \"bosId\": null,\n                    \"excludeAcceptObjects\": null,\n                    \"excludeGoodsIds\": null,\n                    \"excludeSkuIdInfos\": null,\n                    \"excludeSkuInfos\": null,\n                    \"excludeStoreIds\": null,\n                    \"existExcludeGoods\": null,\n                    \"existExcludeStore\": false,\n                    \"goodsNum\": null,\n                    \"includeStoreGoods\": false,\n                    \"produceId\": 145,\n                    \"productIds\": null,\n                    \"skuIdInfos\": null,\n                    \"skuInfos\": null,\n                    \"skuNum\": null,\n                    \"vidInfos\": null\n                },\n                \"basicTemplateId\": 1004404,\n                \"belongVid\": 6013540415319,\n                \"bosId\": 4019965204319,\n                \"canCashTicket\": false,\n                \"canGiveFriend\": null,\n                \"canGoodsNumber\": false,\n                \"canStoreLaunch\": false,\n                \"cashConditionStr\": \"无使用门槛\",\n                \"cashTicketAmt\": 10.00,\n                \"cashTicketCondition\": null,\n                \"codeGenerateType\": 0,\n                \"couponCost\": 10.00,\n                \"couponCostType\": 1,\n                \"couponExtDTO\": null,\n                \"couponScopeList\": null,\n                \"couponTemplateId\": 1003802,\n                \"couponType\": 1,\n                \"couponTypeDesc\": \"代金券\",\n                \"createAreaCode\": null,\n                \"createStoreId\": null,\n                \"createTime\": \"2024-11-22 17:02:05\",\n                \"createType\": null,\n                \"createTypeName\": null,\n                \"desc\": \"测试代金券备注-openapi\",\n                \"discount\": null,\n                \"discountAmount\": 10.00,\n                \"discountLimitType\": null,\n                \"discountLimitValue\": null,\n                \"durationThreshold\": null,\n                \"explain\": null,\n                \"freightReduceType\": null,\n                \"goodsAdapterUrl\": null,\n                \"goodsCashTicket\": null,\n                \"hasUseThreshold\": false,\n                \"imageUrl\": null,\n                \"isEnable\": null,\n                \"isExternalCoupon\": null,\n                \"isInPackage\": null,\n                \"isPayment\": false,\n                \"logo\": \"https://image-c-dev.weimobwmc.com/qa-saas-wxbiz/93a8fee8627c4c27923255e1fb3d0946.png\",\n                \"maxCashTicketAmt\": null,\n                \"maxGoodsNumber\": null,\n                \"merchantId\": 2000000143319,\n                \"minCashTicketAmt\": null,\n                \"minGoodsNumber\": null,\n                \"name\": \"测试代金券-openapi\",\n                \"pid\": 0,\n                \"platformType\": 1,\n                \"preferentialWay\": 1,\n                \"publishChannels\": [\n                    1\n                ],\n                \"publishCount\": null,\n                \"recommendEndTime\": \"2025-10-30 18:00:05\",\n                \"recommendStartTime\": \"2024-11-22 17:02:05\",\n                \"redirectType\": null,\n                \"reduceDuration\": null,\n                \"reducePriceDesc\": \"无门槛减10.00元\",\n                \"reducePriceType\": 1,\n                \"serviceMchid\": null,\n                \"share\": null,\n                \"shareImageUrl\": null,\n                \"sourceMerchantName\": null,\n                \"sourceProdInstanceId\": 74364976,\n                \"sourceProductId\": 147,\n                \"sourceProductVersionId\": 1,\n                \"status\": 1,\n                \"stock\": 9990,\n                \"stockCreatorMchid\": null,\n                \"stockUnlimited\": false,\n                \"storeAdapterUrl\": null,\n                \"subName\": \"\",\n                \"tcode\": \"weimob\",\n                \"thirdTemplateId\": \"\",\n                \"totalStock\": 10000,\n                \"updateTime\": \"2024-11-22 17:02:05\",\n                \"usageDesType\": 0,\n                \"useRule\": null,\n                \"userReceiveInfo\": null,\n                \"userTakeLimit\": null,\n                \"validDate\": {\n                    \"subUseTimeType\": null,\n                    \"useDelayDays\": 0,\n                    \"useEndTime\": \"2025-10-30 18:00:05\",\n                    \"useStartTime\": \"2024-11-22 17:02:05\",\n                    \"useTimeType\": 1,\n                    \"validDateDesc\": \"2024.11.22 17:02-2025.10.30 18:00\",\n                    \"validDays\": 0\n                },\n                \"vid\": 6013540415319,\n                \"vidType\": 2,\n                \"vids\": [\n                    6013540415319\n                ],\n                \"wechatLiveNickName\": null,\n                \"wechatLiveSyncMsg\": null\n            }...\n        ],\n        \"pageNum\": 1,\n        \"pageSize\": 10,\n        \"totalCount\": 8\n    },\n    \"globalTicket\": null,\n    \"monitorTrackId\": \"2b585f74-63ed-4a03-a36d-951ee682c9d2\",\n    \"pageNum\": 1,\n    \"pageSize\": 10,\n    \"totalCount\": 8\n}"
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|object|true|none||请求返回的对象|
|»» errcode|string|true|none||请求返回的状态码|
|»» errmsg|string|true|none||请求返回的信息|
|» data|object|true|none||业务返回数据|
|»» pageSize|integer|true|none||分页大小|
|»» pageList|[object]|true|none||分页数据|
|»»» explain|string|false|none||使用说明 1:所有门店可用。\n2:所有商品适用。\n3:所有时间适用。\n4:单笔订单允许叠加5张券使用。\n5:券可与其他优惠同享。\n6:订单金额满12元可使用券。\n|
|»»» discountLimitValue|string|false|none||折扣券优惠上限值|
|»»» canGiveFriend|boolean|false|none||优惠券是否支持转赠。true-支持；false-不支持。|
|»»» codeGenerateType|integer|false|none||优惠券券码的生成类型。类型包括：0-系统生成；1-自定义；2-导入。|
|»»» validDate|object|false|none||优惠券的有效期|
|»»»» useEndTime|string|true|none||优惠券有效期的结束时间。格式：日期字符串。2021-12-06 11:03:00|
|»»»» validDateDesc|string|true|none||优惠券有效期的时间描述。格式：日期字符串。2021-12-06 11:03:00|
|»»»» useTimeType|integer|true|none||优惠券的使用有效期类型。类型包括：1-固定时间；2-动态时间；3-周期时间。|
|»»»» useStartTime|string|true|none||优惠券有效期的开始时间。格式：日期字符串。2021-12-06 11:03:00|
|»»»» useDelayDays|integer|true|none||优惠券领取后几天生效|
|»»»» validDays|integer|true|none||优惠券的有效天数|
|»»» cashTicketCondition|string|false|none||优惠券减免满足条件金额|
|»»» acceptTypeDTO|object|false|none||适用门店/商品类型|
|»»»» acceptStoreType|integer|true|none||适用门店类型：1-全部门店适用；2-指定区域适用;3-指定门店适用）4-门店标签 5-区域门店混选|
|»»»» acceptGoodsType|integer|true|none||适用商品类型。类型包括：1-全部商品适用；2-部分商品适用；3-部分分组适用；4-部分类目适用。|
|»»»» existExcludeGoods|boolean|true|none||是否存在排除商品。true-存在；false-不存在。|
|»»» platformType|integer|false|none||平台类型:1-蒙牛|
|»»» discount|string|false|none||优惠券减免折扣数值|
|»»» recommendEndTime|string|false|none||推荐领取结束时间。格式：日期字符串。2023-12-31 23:04:26|
|»»» stockUnlimited|boolean|false|none||是否不限制库存。true-不限制，false-限制。|
|»»» hasUseThreshold|boolean|false|none||是否使用有门槛。true-使用；false-不使用。|
|»»» maxGoodsNumber|integer|false|none||最多可优惠商品件数|
|»»» vid|integer|false|none||组织架构节点 ID。组织的唯一标识，是创建组织时自动生成的 ID。|
|»»» sourceProductVersionId|integer|false|none||产品实例版本 ID|
|»»» couponType|integer|false|none||优惠券类型。类型包括：1-代金券；2-折扣券；3-兑换券；5-随机金额代金券；9-免运费|
|»»» bosId|integer|false|none||店铺bosid|
|»»» share|object|false|none||优惠券的分享信息|
|»»»» imageUrl|string|true|none||优惠券的分享图片地址|
|»»»» shareUrl|object|true|none||优惠券的分享地址信息|
|»»»»» h5Url|string|true|none||优惠券的分享 H5 地址|
|»»»»» miniUrl|string|true|none||优惠券的分享小程序地址|
|»»»» title|string|true|none||优惠券的分享标题|
|»»»» content|string|true|none||优惠券的分享内容|
|»»» stock|integer|false|none||库存|
|»»» canGoodsNumber|boolean|false|none||是否开启满件门槛。true-开启；false-不开启。|
|»»» minGoodsNumber|integer|false|none||至少要下单商品件数|
|»»» vidType|integer|false|none||组织类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点。可以通过 bos/organization/getList 接口返回参数中的 data.vidType 获取指定组织的类型。|
|»»» reducePriceType|integer|false|none||优惠券的减免的类型；0-无门槛立减X元；1-满X元减X元；2-每满X元减X元。|
|»»» recommendStartTime|string|false|none||推荐领取开始时间。格式：日期字符串。2021-12-06 11:04:22|
|»»» cashTicketAmt|string|false|none||优惠券减免金额数值|
|»»» couponTemplateId|integer|false|none||优惠券 ID|
|»»» canCashTicket|boolean|false|none||是否开启满元门槛。true-开启；false-不开启。|
|»»» sourceProductId|integer|false|none||产品 ID，扩展字段|
|»»» discountLimitType|integer|false|none||折扣上限类型：1-不封顶；2-按件封顶；3-按金额封顶|
|»»» minCashTicketAmt|string|false|none||随机金额券的最低减免金额数值|
|»»» userTakeLimit|integer|false|none||用户限领优惠券张数|
|»»» isPayment|boolean|false|none||优惠券是否付费购买。true-付费购买；false-非付费购买。|
|»»» publishChannels|[integer]|false|none||优惠券渠道：0-默认的渠道；1-店铺直接领取；2-活动发券；3-商家发券；4-导购发券；5-客户列表发券；6-客服送券；9-企业助手送券；7-扫码购；8-视频号直播|
|»»» maxCashTicketAmt|string|false|none||随机金额券的最高减免金额数值|
|»»» createTime|string|false|none||优惠券的创建时间。格式：日期字符串。2021-12-06 11:04:37|
|»»» subName|string|false|none||优惠券副标题|
|»»» canStoreLaunch|boolean|false|none||优惠券是否允许下级投放。true-允许；false-不允许。|
|»»» name|string|false|none||优惠券名称|
|»»» sourceProdInstanceId|integer|false|none||产品实例 ID，扩展字段|
|»»» status|integer|false|none||优惠券状态。状态包括：0-不可用；1-可用；2-已过期；3-暂停投放。|
|»»» desc|string|false|none||优惠券描述信息|
|»» totalCount|integer|true|none||总数量|
|»» pageNum|integer|true|none||当前页数|

## POST 批量获取优惠券模版列表

POST /weimob_crm/v2.0/coupon/template/getList

用于根据选取的优惠券 ID 查询优惠券列表信息。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3160&isold=2

> Body 请求参数

```json
{
  "couponTemplateIds": [
    1001001,
    1001002
  ],
  "bosId": 4020068801319
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id，扩展字段|
|» vidType|body|integer| 否 |节点类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点。|
|» vid|body|integer| 否 |节点id|
|» couponTemplateIds|body|[integer]| 是 |优惠券模板id列表|
|» useful|body|boolean| 否 |是否过滤无效的券模板，默认过滤|

#### 详细说明

**» useful**: 是否过滤无效的券模板，默认过滤
true：过滤，false：不过滤

> 返回示例

```json
{
  "code": {
    "errcode": "",
    "errmsg": "",
    "bizErrmsg": ""
  },
  "data": [
    {
      "tcode": "",
      "pid": 0,
      "merchantId": 0,
      "bosId": 0,
      "vid": 0,
      "vidType": 0,
      "sourceProdInstanceId": 0,
      "sourceProductId": 0,
      "sourceProductVersionId": 0,
      "vids": [
        0
      ],
      "couponTemplateId": 0,
      "belongVid": 0,
      "basicTemplateId": 0,
      "name": "",
      "subName": "",
      "couponType": 0,
      "validDate": {
        "useTimeType": 0,
        "subUseTimeType": 0,
        "useStartTime": "",
        "useEndTime": "",
        "useDelayDays": 0,
        "validDays": 0,
        "validDateDesc": ""
      },
      "status": 0,
      "publishChannels": [
        0
      ],
      "platformType": 0,
      "stock": 0,
      "totalStock": 0,
      "stockUnlimited": false,
      "explain": "",
      "logo": "",
      "useRule": "",
      "createStoreId": 0,
      "reducePriceType": 0,
      "cashTicketAmt": 0,
      "minCashTicketAmt": 0,
      "maxCashTicketAmt": 0,
      "discount": 0,
      "discountAmount": 0,
      "reduceDuration": 0,
      "durationThreshold": 0,
      "preferentialWay": 0,
      "hasUseThreshold": false,
      "canCashTicket": false,
      "canGoodsNumber": false,
      "minGoodsNumber": 0,
      "maxGoodsNumber": 0,
      "cashTicketCondition": 0,
      "discountLimitType": 0,
      "discountLimitValue": 0,
      "userTakeLimit": 0,
      "canStoreLaunch": false,
      "isEnable": false,
      "createType": 0,
      "createTypeName": "",
      "isExternalCoupon": false,
      "createAreaCode": "",
      "desc": "",
      "acceptTypeDTO": {
        "basicInfo": {
          "merchantId": 0,
          "bosId": 0,
          "vid": 0,
          "vidType": 0,
          "rootVid": 0,
          "productId": 0,
          "productVersionId": 0,
          "productInstanceId": 0,
          "cid": 0,
          "tcode": ""
        },
        "produceId": 0,
        "bosId": 0,
        "belongVid": 0,
        "belongVidType": 0,
        "acceptStoreType": 0,
        "acceptStoreIds": [
          0
        ],
        "acceptStores": [
          {
            "merchantId": 0,
            "bosId": 0,
            "vid": 0,
            "vidName": "",
            "vidType": 0
          }
        ],
        "vidInfos": [
          {
            "merchantId": 0,
            "bosId": 0,
            "vid": 0,
            "vidName": "",
            "vidType": 0
          }
        ],
        "acceptGoodsType": 0,
        "acceptGoodsIds": [
          0
        ],
        "acceptObjects": [
          {
            "acceptObjectId": 0,
            "productId": 0,
            "channel": 0,
            "bizVid": 0
          }
        ],
        "existExcludeGoods": false,
        "excludeGoodsIds": [
          0
        ],
        "excludeAcceptObjects": [
          {
            "acceptObjectId": 0,
            "productId": 0,
            "channel": 0,
            "bizVid": 0
          }
        ],
        "existExcludeStore": false,
        "excludeStoreIds": [
          0
        ],
        "includeStoreGoods": false,
        "acceptGoodGroups": [
          {
            "classifyId": 0,
            "name": "",
            "classifyLevel": 0,
            "parentId": 0,
            "child": [
              {
                "classifyId": 0,
                "name": "",
                "classifyLevel": 0,
                "parentId": 0,
                "child": [],
                "bizVid": 0,
                "productId": 0,
                "channel": 0,
                "channelName": ""
              }
            ],
            "bizVid": 0,
            "productId": 0,
            "channel": 0,
            "channelName": ""
          }
        ],
        "skuInfos": [
          {
            "skuId": 0,
            "goodsId": 0,
            "vid": 0,
            "itemTitle": "",
            "specValueInfo": "",
            "salePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": "",
            "defaultImageUrl": ""
          }
        ],
        "skuIdInfos": [
          {
            "skuId": 0,
            "goodsId": 0,
            "vid": 0,
            "itemTitle": "",
            "specValueInfo": "",
            "salePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": "",
            "defaultImageUrl": ""
          }
        ],
        "excludeSkuInfos": [
          {
            "skuId": 0,
            "goodsId": 0,
            "vid": 0,
            "itemTitle": "",
            "specValueInfo": "",
            "salePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": "",
            "defaultImageUrl": ""
          }
        ],
        "excludeSkuIdInfos": [
          {
            "skuId": 0,
            "goodsId": 0,
            "vid": 0,
            "itemTitle": "",
            "specValueInfo": "",
            "salePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": "",
            "defaultImageUrl": ""
          }
        ],
        "goodsNum": 0,
        "skuNum": 0,
        "productIds": [
          0
        ]
      },
      "recommendStartTime": "",
      "recommendEndTime": "",
      "imageUrl": "",
      "shareImageUrl": "",
      "stockCreatorMchid": "",
      "serviceMchid": "",
      "isPayment": false,
      "sourceMerchantName": "",
      "couponScopeList": [
        {
          "couponScopeType": 0,
          "couponScopeText": ""
        }
      ],
      "canGiveFriend": false,
      "codeGenerateType": 0,
      "createTime": "",
      "updateTime": "",
      "publishCount": 0,
      "isInPackage": 0,
      "couponExtDTO": {},
      "share": {
        "title": "",
        "content": "",
        "imageUrl": "",
        "shareUrl": {
          "h5Url": "",
          "miniUrl": ""
        }
      },
      "userReceiveInfo": {
        "publishCount": 0,
        "receiveStatus": 0,
        "condition": "",
        "isExpired": false,
        "weChatSendCouponResult": {
          "sendUrl": "",
          "sign": "",
          "sendCouponMerchant": "",
          "sendCouponParams": "",
          "left": 0
        }
      },
      "redirectType": 0,
      "freightReduceType": 0,
      "thirdTemplateId": "",
      "goodsCashTicket": 0,
      "cashConditionStr": "",
      "wechatLiveNickName": "",
      "wechatLiveSyncMsg": "",
      "acceptGoodsTypeDesc": "",
      "acceptStoreTypeDesc": "",
      "reducePriceDesc": "",
      "couponTypeDesc": "",
      "goodsAdapterUrl": "",
      "storeAdapterUrl": "",
      "couponCostType": 0,
      "couponCost": 0,
      "usageDesType": 0
    }
  ],
  "globalTicket": "",
  "monitorTrackId": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseListCouponTemplateVO](#schemaopenexportresponselistcoupontemplatevo)|

## POST 领取优惠券

POST /weimob_crm/v2.0/coupon/receive

用于向指定用户发放优惠券（用户无需领取）。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3188&isold=2

> Body 请求参数

```json
"{\n    \"couponNums\": [\n        {\n            \"requestId\": {{$timestamp}},\n            \"num\": 10,\n            \"couponTemplateId\": 1003800\n        }\n    ],\n    \"wid\": 4590952,\n    \"scene\": 945000,\n    \"vid\": 6013540415319,\n    \"vidType\": 2,\n    // 组织类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点。可以通过 bos/organization/getList 接口返回参数中的 data.vidType 获取指定组织的类型。\n    \"bosId\": 4019965204319 //创建券模板的店铺\n}"
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id；扩展字段|
|» vidType|body|integer| 是 |节点类型，类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 是 |节点id|
|» couponNums|body|[[BatchCouponVO](#schemabatchcouponvo)]| 是 |批量领取券列表|
|»» couponTemplateId|body|integer| 是 |券模板id|
|»» num|body|integer| 是 |领取数量|
|»» requestId|body|string| 是 |幂等id|
|»» code|body|string| 否 |待发券的优惠券码值。可通过 weimob_crm/v2.0/coupon/template/search 接口返回参数中的 data.pageList.code 获取该码值。|
|»» effectStartTime|body|string| 否 |有效期的开始时间，有效期类型为“领取后生效”时，则可使用本接口设置有效期。格式为日期字符串“yyyy-MM-dd HH:mm:ss”。可通过 “weimob_crm/v2.0/coupon/template/detail/get”接口返回参数中的 data.useRule.useValidDate.useTimeType 获取改时间。|
|»» effectEndTime|body|string| 否 |有效期的结束时间，有效期类型为“领取后生效”时，则可使用本接口设置有效期。格式为日期字符串“yyyy-MM-dd HH:mm:ss”。可通过 weimob_crm/v2.0/coupon/template/detail/get 接口返回参数中的 data.useRule.useValidDate.useEndTime 获取改时间。|
|» wid|body|integer| 是 |C端用户wid|
|» channel|body|integer| 否 |领券渠道|
|» scene|body|integer| 是 |领券来源|
|» sceneId|body|string| 否 |领券来源id(活动id)|
|» isPreReceive|body|boolean| 否 |是否预发领取|
|» source|body|integer| 否 |来源，扩展字段|
|» needNextCheck|body|boolean| 否 |检查是否可继续领取|
|» vidCode|body|string| 否 |优先取vid|

#### 详细说明

**» channel**: 领券渠道
/**
 * 一级发放渠道
 */
STORE_DIRECT_COLLECT(1L, "店铺直接领取"),
ACTIVITY_PUBLISH_COUPON(2L, "活动发券"),
MERCHANT_ISSUE_COUPON(3L, "商家发券"),
 
/**
 * 商家发券二级渠道
 */
SHOPPING_GUIDE_SEND_COUPON(4L, "导购发券"),
MEMBER_LIST_SEND_COUPON(5L, "客户列表发券"),
CUSTOMER_SERVICE_SEND_COUPON(6L, "客服送券"),

**» scene**: 领券来源
见文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "applyNo": null,
    "couponResultList": [
      {
        "canReceive": 1,
        "codes": [
          "02840008832405200896",
          "02840008832413589504",
          "02840008832421978112",
          "02840008832421978113",
          "02840008832421978114",
          "02840008832430366720",
          "02840008832430366721",
          "02840008832430366722",
          "02840008832438755328",
          "02840008832438755329"
        ],
        "couponTemplateId": 1003800,
        "errCode": null,
        "errMsg": null,
        "expDate": null,
        "failureNum": 0,
        "isSuccess": true,
        "name": "测试代金券-openapi",
        "wid": 4590952
      }
    ],
    "failedCount": 0,
    "status": 1,
    "successCount": 10
  },
  "globalTicket": null,
  "monitorTrackId": "474ccb53-2c9c-48c0-b6e4-2db53ad82c9f"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBatchReceiveCouponResponseVO](#schemaopenexportresponsebatchreceivecouponresponsevo)|

## POST 冻结优惠券

POST /weimob_crm/v2.0/coupon/freeze

用于对未使用的优惠券进行冻结操作。
▪  用户购买了优惠券，进行售后时，一般先执行冻结。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3112&isold=2

> Body 请求参数

```json
{
  "operateCoupons": [
    {
      "orderNo": "300377496096431",
      "code": "02829181482864091136",
      "couponTemplateId": 1001400
    }
  ],
  "wid": 11107871382,
  "bosId": "4019965204319"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» vidType|body|integer| 否 |节点类型 ，类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» wid|body|integer| 是 |C端用户id|
|» operateCoupons|body|[object]| 是 |优惠券列表|
|»» couponTemplateId|body|integer| 是 |券模板id|
|»» orderNo|body|string| 是 |订单id|
|»» code|body|string| 是 |优惠券码|
|»» amount|body|number| 否 |实际优惠金额|
|»» codeType|body|integer| 否 |非必须，1:微盟code，2:外部code|
|»» tradeChannel|body|string| 否 |交易渠道：微信、支付宝、其他|
|»» thirdTradeNo|body|string| 否 |第三方交易单号 如支付宝交易单号|
|» useScene|body|integer| 否 |核销场景|

#### 详细说明

**»» tradeChannel**: 交易渠道：微信、支付宝、其他
核销用
支付宝 6、21
微信	1、13、27、28

**»» thirdTradeNo**: 第三方交易单号 如支付宝交易单号
核销用

**» useScene**: 核销场景
https://docs.qq.com/doc/DRGN0YmRtd2diSnZP

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": true,
  "globalTicket": null,
  "monitorTrackId": "9140d81c-7feb-4574-bf76-5df6dfa07b18"
}
```

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "001460100000500",
    "errmsg": "无法冻结此资源,资源实例状态不正确,资源id:1000200,资源状态:2"
  },
  "data": null,
  "globalTicket": null,
  "monitorTrackId": "onecrm-coupon-openapi-private-ac16901b-481184-44"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBoolean](#schemaopenexportresponseboolean)|

## POST 优惠券锁券

POST /weimob_crm/v2.0/coupon/lock

用于对未使用的优惠券进行锁定操作。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3187&isold=2

> Body 请求参数

```json
{
  "bosId": "4019965204319",
  "couponList": [
    {
      "orderNo": "12312312312312",
      "code": "02838580877184532480",
      "couponTemplateId": 1003402
    }
  ],
  "useScene": 7,
  "isIgnoreGoodsInfo": true,
  "wid": 4590952,
  "vidType": 2,
  "vid": 6013540415319
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» wid|body|integer| 是 |用户id|
|» merchantId|body|integer| 否 |店铺merchantid|
|» couponList|body|[object]| 是 |优惠券|
|»» bosId|body|integer| 否 |商户id|
|»» couponTemplateId|body|integer| 是 |券模板id|
|»» orderNo|body|string| 否 |订单id|
|»» code|body|string| 是 |优惠码码值|
|»» amount|body|number| 否 |校验的金额(单位元)|
|»» duration|body|number| 否 |时长单位分钟|
|» storeGoodsInfoDTOS|body|[object]¦null| 否 |店铺商品信息|
|»» vidNodeList|body|object| 否 |none|
|»»» merchantId|body|integer| 否 |none|
|»»» bosId|body|integer| 否 |none|
|»»» vid|body|integer| 否 |none|
|»»» vidName|body|string| 否 |none|
|»»» vidType|body|integer| 否 |none|
|»»» vidCode|body|string| 否 |vid优先|
|»» goodsInfos|body|[[GoodsInfoDTO](#schemagoodsinfodto)]| 否 |none|
|»»» id|body|integer| 否 |商品ID|
|»»» skus|body|[[SkuInfoDTO](#schemaskuinfodto)]| 否 |SKU集合|
|»»»» id|body|integer| 否 |商品sku的 id|
|»»»» price|body|number| 否 |商品 sku 价格|
|»»»» num|body|integer| 否 |sku 数量|
|»»»» selected|body|boolean| 否 |是否选中。是为true，否为false。|
|»»» categoryIds|body|[integer]| 否 |类目ids|
|»»» tags|body|[string]| 否 |商品标签 ID，与用户的tags类似，我们不感知具体业务含义，仅用来做规则筛选与校验等内容|
|»»» tagIds|body|[integer]| 否 |标签id|
|»»» groupIds|body|[integer]| 否 |分组id集合|
|» useScene|body|integer| 否 |核销场景，类型包括：1-网店订单；7-api核销。默认填 7|
|» orderAmount|body|number| 否 |订单金额|
|» isIgnoreGoodsInfo|body|boolean| 否 |冻结时是否忽略商品等维度的check|

> 返回示例

```json
{
  "code": {
    "errcode": "0",
    "errmsg": "success"
  },
  "data": true
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBoolean](#schemaopenexportresponseboolean)|

## POST 解冻优惠券

POST /weimob_crm/v2.0/coupon/unfreeze

用于对冻结中的优惠券进行解冻操作。
用户购买的优惠券发起售后且售后失败，则对冻结中的优惠券进行解冻。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3113&isold=2

> Body 请求参数

```json
{
  "operateCoupons": [
    {
      "orderNo": "300377496096431",
      "code": "02829181482864091136",
      "couponTemplateId": 1001400
    }
  ],
  "wid": 11107871382,
  "bosId": "4019965204319"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» wid|body|integer| 是 |C端用户 id，该优惠券的持有者的用户 ID|
|» operateCoupons|body|[object]| 是 |优惠券列表|
|»» couponTemplateId|body|integer| 是 |待解冻的优惠券 ID。可通过 weimob_crm/coupon/customer/getList 接口返回参数中的 data.pageList.couponTemplateId 获取该 ID。|
|»» orderNo|body|string| 是 |订单id|
|»» code|body|string| 是 |待解冻的优惠券码值。可通过 weimob_crm/coupon/customer/getList 接口返回参数中的 data.pageList.code 获取该码值。|
|»» amount|body|number| 否 |实际优惠金额|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": true,
  "globalTicket": null,
  "monitorTrackId": "bb57ba7d-f419-42eb-ad76-985dfd3f6056"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBoolean](#schemaopenexportresponseboolean)|

## POST 优惠券解锁

POST /weimob_crm/v2.0/coupon/unlock

用于对锁定中的优惠券进行解锁。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3186&isold=2

> Body 请求参数

```json
"{\n    \"bosId\": \"4019965204319\",\n    \"couponList\": [\n        {\n            // \"amount\": 70,\n            \"orderNo\": \"300376905097614\",\n            \"code\": \"02829181482864091136\",\n            \"couponTemplateId\": 1001400\n        }\n    ],\n    \"useScene\": 7,\n    \"wid\": 11107871382\n}"
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» saasChannel|body|string| 否 |openAPI来源标识|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店|
|» vid|body|integer| 否 |节点id|
|» wid|body|integer| 否 |用户id|
|» merchantId|body|integer| 否 |店铺merchantid|
|» couponList|body|[object]| 是 |优惠券|
|»» bosId|body|integer| 否 |商户id|
|»» couponTemplateId|body|integer| 是 |券模板id|
|»» orderNo|body|string| 是 |订单id|
|»» code|body|string| 是 |优惠码码值|
|»» amount|body|number| 否 |校验的金额(单位元)|
|»» duration|body|number| 否 |时长单位分钟|
|» useScene|body|integer| 否 |核销场景|
|» vidCode|body|string| 否 |vid优先|

> 返回示例

```json
{
  "code": {
    "errcode": "0",
    "errmsg": "success"
  },
  "data": true
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|»» errcode|string|true|none||异常编码|
|»» errmsg|string|false|none||异常描述|
|»» bizErrmsg|string|false|none||业务异常描述|
|» data|boolean|false|none||业务数据|
|» globalTicket|string|false|none||全局跟踪id|
|» monitorTrackId|string|false|none||单次跟踪id|

## POST 作废优惠券

POST /weimob_crm/v2.0/coupon/cancel

用于对已发放的优惠券进行作废，可用于售后作废和直接作废场景。
▪  售后作废是指用户购买相关优惠拥有优惠券后，发起售后并成功，此时将已经发放给用户的该张优惠券作废。
▪  直接作废就是直接作废优惠券码值，不需要订单号信息。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3114&isold=2

> Body 请求参数

```json
{
  "bosId": "4019965204319",
  "operateCoupons": [
    {
      "code": "02838408942212661250",
      "codeType": 1,
      "couponTemplateId": 1003301
    }
  ],
  "wid": 989434,
  "type": 2
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|string| 是 |bosid|
|» vidType|body|integer| 否 |节点类型，类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» type|body|integer| 是 |作废类型 1.售后作废 2.码库作废|
|» wid|body|integer| 是 |C端用户id|
|» operateCoupons|body|[object]| 是 |优惠券列表|
|»» couponTemplateId|body|integer| 否 |券模板id|
|»» orderNo|body|string| 否 |订单id|
|»» code|body|string| 是 |优惠券码|
|»» amount|body|number| 否 |实际优惠金额|
|»» codeType|body|integer| 是 |非必须，默认传1|
|» useScene|body|integer| 否 |核销场景|

#### 详细说明

**» useScene**: 核销场景
https://docs.qq.com/doc/DRGN0YmRtd2diSnZP

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": true,
  "globalTicket": null,
  "monitorTrackId": "bb57ba7d-f419-42eb-ad76-985dfd3f6056"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBoolean](#schemaopenexportresponseboolean)|

## POST 转赠优惠券

POST /weimob_crm/v2.0/coupon/present/confirm

用于修改券状态为转赠中状态。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3622&isold=2

> Body 请求参数

```json
{
  "bosId": "4019965204319",
  "fromWid": 11107871382,
  "code": "02829030641896595456"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» fromWid|body|integer| 是 |券当前归属的用户 id|
|» code|body|string| 是 |券码|

> 返回示例

```json
{
  "code": {
    "errcode": "0",
    "errmsg": "success"
  },
  "data": {
    "result": true
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseCouponOperateResponseVO](#schemaopenexportresponsecouponoperateresponsevo)|

## POST 取消转赠

POST /weimob_crm/v2.0/coupon/present/cancel

用于取消转赠指定的优惠券。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3869&isold=2

> Body 请求参数

```json
{
  "bosId": "4019965204319",
  "wid": 11107871382,
  "code": "02828416178706964480"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» vid|body|integer| 否 |节点id|
|» wid|body|integer| 是 |券归属的用户id|
|» code|body|string| 是 |需要取消转增的优惠券码值。仅转赠中的优惠券才可以取消转赠。可通过 weimob_crm/v2.0/coupon/customer/getList 接口返回参数中的 data.pageList.code 获取该码值。|

> 返回示例

```json
{
  "code": {
    "errcode": "0",
    "errmsg": "success"
  },
  "data": {
    "result": true
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseCouponOperateResponseVO](#schemaopenexportresponsecouponoperateresponsevo)|

## POST 转赠领取

POST /weimob_crm/v2.0/coupon/present/receive

用于对正在转赠中的券进行领取。
▪  券状态必须是“转赠中”状态，其他用户才能对该券进行领取。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3623&isold=2

> Body 请求参数

```json
{
  "bosId": "4019965204319",
  "fromWid": 11107871382,
  "targetWid": 1111,
  "code": "02829030641896595456"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» vidType|body|integer| 否 |节点类型，类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» fromWid|body|integer| 是 |券当前归属用户id|
|» targetWid|body|integer| 是 |领取转赠用户id|
|» code|body|string| 是 |券码|

> 返回示例

```json
{
  "code": {
    "errcode": "0",
    "errmsg": "success"
  },
  "data": {
    "result": true
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|»» errcode|string|true|none||异常编码|
|»» errmsg|string|false|none||异常描述|
|»» bizErrmsg|string|false|none||业务异常描述|
|» data|object|false|none||业务数据|
|»» result|boolean|false|none||true：成功，false：失败|
|» globalTicket|string|false|none||全局跟踪id|
|» monitorTrackId|string|false|none||单次跟踪id|

## POST 核销优惠券

POST /weimob_crm/v2.0/coupon/consume

用于对用户拥有的优惠券进行核销，支持线上/线下核销。
调用逻辑
▪  线上核销，需要执行锁定优惠券成功后，才能触发优惠券核销。 
▪  线下核销，可直接核销，不需要订单相关信息。 
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3159&isold=2

> Body 请求参数

```json
{
  "bosId": 4019965204319,
  "useResourceType": 2,
  "operateCoupons": [
    {
      "amount": 10.01,
      "orderNo": "12312312312312",
      "code": "02840008832421978113"
    }
  ],
  "useScene": 7,
  "wid": 4590952,
  "vidType": 10,
  "vid": 6013540415319
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» vidType|body|integer| 是 |节点类型，类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 是 |节点id|
|» wid|body|integer| 是 |券归属用户id|
|» operateCoupons|body|[object]| 是 |优惠券列表|
|»» couponTemplateId|body|integer| 否 |券模板id|
|»» orderNo|body|string| 否 |订单id|
|»» code|body|string| 是 |优惠券码|
|»» amount|body|number¦null| 否 |实际优惠金额|
|» useScene|body|integer| 否 |核销场景|
|» operator|body|integer| 否 |核销操作人id|
|» useResourceType|body|integer| 是 |核销方式，类型包括：1- 线上核销 ；2- 线下核销。|

#### 详细说明

**» useScene**: 核销场景
https://docs.qq.com/doc/DRGN0YmRtd2diSnZP

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": true,
  "globalTicket": null,
  "monitorTrackId": "f8558c8a-2f9f-45d3-982d-f0065aefdffd"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBoolean](#schemaopenexportresponseboolean)|

## POST 创建发券任务

POST /weimob_crm/v2.0/coupon/createSendCouponTask

> Body 请求参数

```json
{
  "bosId": 4019965204319,
  "productVersionId": 0,
  "productInstanceId": 12334319,
  "tcode": "weimob",
  "bizId": "1",
  "subBizId": "1",
  "requestId": "requestId_cf37bcfed63c",
  "vid": 6013679462319,
  "vidType": 10,
  "couponNums": [
    {
      "couponTemplateId": 1001514,
      "num": 1,
      "requestId": 1732519993,
      "matchRuleId": {},
      "effectStartTime": "1732519993",
      "effectEndTime": 1730978932
    }
  ],
  "needExpireNotice": true,
  "orderNo": 1732519993,
  "wid": 11107871382
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» productVersionId|body|string| 否 |默认147|
|» vidType|body|integer| 是 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 是 |节点id|
|» merchantId|body|integer| 否 |商家id|
|» wid|body|integer| 是 |用户id|
|» bizId|body|string| 否 |业务id 默认传1|
|» subBizId|body|string| 否 |子业务id 默认传1|
|» requestId|body|string| 是 |幂等id|
|» couponNums|body|[object]| 是 |发放的券模板信息|
|»» couponTemplateId|body|integer| 是 |模板id|
|»» code|body|string¦null| 否 |发券指定code 暂时只支持单个|
|»» codeList|body|[string]¦null| 否 |支持指定多个code和num数量匹配|
|»» num|body|integer| 是 |发放数量|
|»» requestId|body|string| 否 |幂等id|
|»» matchRuleId|body|[MapLong](#schemamaplong)| 否 |wid对应的人群规则id|
|»»» 0|body|integer| 否 |key 是 long 型|
|»» effectStartTime|body|string| 是 |券生效开始时间|
|»» effectEndTime|body|string| 是 |券生效结束时间|
|» needExpireNotice|body|boolean| 否 |是否需要过期通知 默认传true|
|» orderNo|body|string| 是 |唯一订单号（幂等id）|

#### 详细说明

**» bizId**: 业务id 默认传1
付费购买传虚拟订单号

**»» effectStartTime**: 券生效开始时间
yyyy-MM-dd HH:mm:ss

**»» effectEndTime**: 券生效结束时间
yyyy-MM-dd HH:mm:ss

**» needExpireNotice**: 是否需要过期通知 默认传true
默认不通知

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "taskId": 10008
  },
  "globalTicket": null,
  "monitorTrackId": "b03f9646-c76e-49cc-b0b0-34157e27c80a"
}
```

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "001460100000506",
    "errmsg": "您已领过了哦"
  },
  "data": null,
  "globalTicket": null,
  "monitorTrackId": "onecrm-coupon-openapi-private-ac169022-481255-13"
}
```

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "001460100001000",
    "errmsg": "bosId不能为空"
  },
  "data": null,
  "globalTicket": null,
  "monitorTrackId": "onecrm-coupon-openapi-private-ac169022-481255-24"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseCreateSendCouponTaskResponseVO](#schemaopenexportresponsecreatesendcoupontaskresponsevo)|

## POST 同步用户券信息

POST /weimob_crm/v2.0/coupon/customer/sync

用于同步外部系统的优惠券。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3734&isold=2

> Body 请求参数

```json
{
  "bosId": "4019965204319",
  "acquireTime": 1659974399000,
  "couponTemplateId": 1001200,
  "code": "third1657296000000",
  "wid": 989434,
  "expireEndTime": 1659974399000,
  "expireStartTime": 1657296000000,
  "vid": 6000223298212
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» merchantId|body|integer| 否 |merchantId|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 是 |节点id|
|» couponTemplateId|body|integer| 是 |模板id：基于“新建优惠券/coupon/template/create”接口生成的模板id|
|» code|body|string| 是 |外部券id|
|» wid|body|integer| 是 |券归属的用户id，c 端用户|
|» acquireTime|body|string| 是 |领券时间。如：1730978932|
|» expireStartTime|body|string| 是 |有效期开始时间。如：1730978932|
|» expireEndTime|body|string| 是 |有效期结束时间。如：1730978932|
|» scene|body|integer¦null| 否 |领券场景|
|» sceneId|body|string¦null| 否 |领券场景id|
|» saasChannel|body|string¦null| 否 |openapi渠道标识|
|» status|body|integer| 否 |券状态，不传默认为“未使用”, 1，未使用；2，已使用；3，已过期；15，已作废|

> 返回示例

```json
{
  "code": {
    "errcode": "0",
    "errmsg": "success"
  },
  "data": {
    "result": true
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseCouponOperateResponseVO](#schemaopenexportresponsecouponoperateresponsevo)|

## POST 查询用户券列表

POST /weimob_crm/v2.0/coupon/customer/getList

用于查询用户拥有的优惠券列表。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3734&isold=2

> Body 请求参数

```json
{
  "wid": 4590952,
  "statusRange": [
    1,
    2,
    3
  ],
  "pageNum": 1,
  "pageSize": 10,
  "bosId": 4019965204319
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» pageNum|body|integer| 是 |当前页,从1开始|
|» pageSize|body|integer| 是 |分页大小|
|» wid|body|integer| 是 |C端用户id，默认蒙牛中台用户 id|
|» status|body|integer| 是 |券状态，(1, "未使用"),(2, "已使用"),(3, "已过期"),|
|» statusRange|body|[integer]| 否 |status 列表 优先使用 statusRange|
|» needAcceptInfo|body|boolean| 否 |是否需要查询适用对象列表|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "pageList": [
      {
        "acceptInfo": null,
        "acceptTypeDTO": {
          "acceptGoodGroups": null,
          "acceptGoodsIds": null,
          "acceptGoodsType": 1,
          "acceptObjects": null,
          "acceptStoreIds": null,
          "acceptStoreType": 1,
          "acceptStores": null,
          "basicInfo": null,
          "belongVid": 6013540415319,
          "belongVidType": null,
          "bosId": null,
          "excludeAcceptObjects": null,
          "excludeGoodsIds": null,
          "excludeSkuIdInfos": null,
          "excludeSkuInfos": null,
          "excludeStoreIds": null,
          "existExcludeGoods": null,
          "existExcludeStore": false,
          "goodsNum": null,
          "includeStoreGoods": false,
          "produceId": 145,
          "productIds": null,
          "skuIdInfos": null,
          "skuInfos": null,
          "skuNum": null,
          "vidInfos": null
        },
        "allSceneDTO": null,
        "allSceneList": [],
        "basicTemplateId": null,
        "belongMerchantId": null,
        "belongVid": null,
        "belongVidType": null,
        "bosId": null,
        "canGift": null,
        "canPresentCancel": null,
        "canShare": null,
        "cashConditionStr": null,
        "code": "02840690700918185985",
        "couponSubType": 11,
        "couponTemplateId": 1003802,
        "couponType": 1,
        "couponTypeDesc": null,
        "cycleUnuseRule": null,
        "cycleUseRule": null,
        "desc": "测试代金券备注-openapi",
        "discountAmount": 10,
        "discountLimitType": null,
        "discountLimitValue": null,
        "durationThreshold": null,
        "explain": null,
        "freightReduceType": null,
        "giftCountLimit": null,
        "hasGiftLimit": null,
        "hasUnuseTime": null,
        "isAllUseScene": true,
        "isPartTimeUse": null,
        "isPayment": false,
        "maxCashTicketAmt": null,
        "maxGoodsCount": null,
        "merchantId": null,
        "minCashTicketAmt": null,
        "minGoodsCount": null,
        "name": "测试代金券-openapi",
        "outer": null,
        "platformType": 1,
        "preferentialWay": null,
        "pricingType": null,
        "productId": 147,
        "productInstanceId": 74364976,
        "productVersionId": 1,
        "publishTime": "2024-11-22 17:45:20",
        "reduceDuration": null,
        "reducePriceType": 1,
        "scopeDesc": null,
        "sendEndDate": null,
        "sendStartDate": null,
        "sendTimeType": null,
        "status": 1,
        "subName": null,
        "subTitle": null,
        "thirdTemplateId": "",
        "updateTime": "2024-11-22 17:45:20",
        "usageDesType": 0,
        "useThreshold": null,
        "userTakeDayLimit": null,
        "userTakeLimit": null,
        "validDate": {
          "subUseTimeType": null,
          "useDelayDays": null,
          "useEndTime": "2025-10-30 18:00:05",
          "useStartTime": "2024-11-22 17:02:05",
          "useTimeType": 1,
          "validDateDesc": "2024.11.22 17:02~2025.10.30 18:00",
          "validDays": null
        },
        "vid": null
      }
    ],
    "pageNum": 1,
    "pageSize": 1,
    "totalCount": 216
  },
  "globalTicket": null,
  "monitorTrackId": "5e0a5244-487f-41c6-bb6b-da048be81f60"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|»» errcode|string|true|none||异常编码|
|»» errmsg|string|false|none||异常描述|
|»» bizErrmsg|string|false|none||业务异常描述|
|» data|object|false|none||业务数据|
|»» pageNum|integer|false|none||当前页，从1开始|
|»» pageSize|integer|false|none||分页大小|
|»» totalCount|integer|false|none||总数|
|»» pageList|[object]|false|none||列表数据|
|»»» belongVid|integer|false|none||券模板归属vid|
|»»» belongVidType|integer|false|none||券模板归属vid类型|
|»»» platformType|integer|false|none||券来源|
|»»» couponSubType|integer|false|none||优惠券子类型|
|»»» couponTemplateId|integer|false|none||券模板Id|
|»»» basicTemplateId|integer|false|none||基础模板ID|
|»»» thirdTemplateId|string|false|none||第三方模板id  如支付宝券|
|»»» couponType|integer|false|none||优惠券类型(1.代金券;2.折扣券;3.兑换券)|
|»»» reducePriceType|integer|false|none||减免的类型<br />1130期增加|
|»»» discountLimitType|integer|false|none||优惠券的折扣上限类型：1-不封顶；2-按件封顶；3-按金额封顶。|
|»»» discountLimitValue|number|false|none||折扣券抵扣上线|
|»»» couponTypeDesc|string|false|none||券类型描述|
|»»» status|integer|false|none||券码状态|
|»»» name|string|false|none||优惠券标题|
|»»» subName|string|false|none||优惠券副标题|
|»»» validDate|[UseValidDate](#schemausevaliddate)|false|none||券的有效期|
|»»»» useTimeType|integer|false|none||时间类型，1：固定，2：动态，3：周期|
|»»»» subUseTimeType|integer|false|none||动态 时间子类型 参考中台 时间类型 UseTimeTypeEnum|
|»»»» useStartTime|string|false|none||使用开始时间|
|»»»» useEndTime|string|false|none||使用结束时间|
|»»»» useDelayDays|integer|false|none||领取后几天生效|
|»»»» validDays|integer|false|none||有效天数|
|»»»» validDateDesc|string|false|none||有效期时间描述<br />eg:领取后3天有效<br />2021/08/12 00:00-2022/08/12 23:59|
|»»» discountAmount|number|false|none||优惠金额、折扣信息|
|»»» minCashTicketAmt|number|false|none||随机金额券 最低减免金额|
|»»» maxCashTicketAmt|number|false|none||随机金额券 最高减免金额|
|»»» reduceDuration|number|false|none||减免时长|
|»»» durationThreshold|number|false|none||时长门槛|
|»»» preferentialWay|integer|false|none||1金额<br />2时长|
|»»» useThreshold|number|false|none||使用金额门槛|
|»»» maxGoodsCount|integer|false|none||最高件数|
|»»» minGoodsCount|integer|false|none||最低件数|
|»»» acceptTypeDTO|[AcceptTypeDTO](#schemaaccepttypedto)|false|none||适用门店/商品类型|
|»»»» basicInfo|[BasicInfo](#schemabasicinfo)|false|none||创建券的basicInfo信息<br />查的时候有些需要通过创建的basicInfo信息查<br />比如区域的分组，在品牌需要通过区域的vid才能查到|
|»»»»» merchantId|integer|false|none||蒙牛 mnAppId|
|»»»»» bosId|integer|true|none||操作系统 id|
|»»»»» vid|integer|false|none||节点 id|
|»»»»» vidType|integer|false|none||节点类型|
|»»»»» rootVid|integer|false|none||根节点 id|
|»»»»» productId|integer|false|none||产品 id，扩展字段|
|»»»»» productVersionId|integer|false|none||产品版本，扩展字段|
|»»»»» productInstanceId|integer|false|none||产品实例 id，扩展字段|
|»»»»» cid|integer|false|none||端应用id，扩展字段|
|»»»»» tcode|string|false|none||中台id，扩展字段|
|»»»» produceId|integer|false|none||产品实例id|
|»»»» bosId|integer|false|none||商家id|
|»»»» belongVid|integer|false|none||券归属的vid|
|»»»» belongVidType|integer|false|none||归属节点类型|
|»»»» acceptStoreType|integer|false|none||适用门店类型（1:全部门店适用；2指定区域适用 3 指定门店适用 4门店标签， 5混选）|
|»»»» acceptStoreIds|[integer]|false|none||适用门店列表 老结构|
|»»»» acceptStores|[[VidInfo](#schemavidinfo)]|false|none||适用门店列表<br />建券入参|
|»»»»» merchantId|integer|false|none||对应蒙牛 mnAppId|
|»»»»» bosId|integer|true|none||对应操作系统 bosid|
|»»»»» vid|integer|true|none||节点 id|
|»»»»» vidName|string|false|none||节点名称|
|»»»»» vidType|integer|false|none||节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|»»»» vidInfos|[[VidInfo](#schemavidinfo)]|false|none||适用门店信息|
|»»»»» merchantId|integer|false|none||对应蒙牛 mnAppId|
|»»»»» bosId|integer|true|none||对应操作系统 bosid|
|»»»»» vid|integer|true|none||节点 id|
|»»»»» vidName|string|false|none||节点名称|
|»»»»» vidType|integer|false|none||节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|»»»» acceptGoodsType|integer|false|none||适用商品类型（1:全部商品适用；2:部分商品适用;3:部分商品不适用;5:部分类目适用;7:部分分组适用）|
|»»»» acceptGoodsIds|[integer]|false|none||适用商品列表|
|»»»» acceptObjects|[[AcceptObject](#schemaacceptobject)]|false|none||适用对象列表<br />「已废弃」|
|»»»»» acceptObjectId|integer|false|none||适用对象id|
|»»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»»» channel|integer|false|none||适用对象所属的渠道id|
|»»»»» bizVid|integer|false|none||商圈下的bizVid|
|»»»» existExcludeGoods|boolean|false|none||是否存在排除商品|
|»»»» excludeGoodsIds|[integer]|false|none||排除商品列表|
|»»»» excludeAcceptObjects|[[AcceptObject](#schemaacceptobject)]|false|none||排除适用对象列表<br />「已废弃」|
|»»»»» acceptObjectId|integer|false|none||适用对象id|
|»»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»»» channel|integer|false|none||适用对象所属的渠道id|
|»»»»» bizVid|integer|false|none||商圈下的bizVid|
|»»»» existExcludeStore|boolean|false|none||是否存在排除门店|
|»»»» excludeStoreIds|[integer]|false|none||排除的门店列表|
|»»»» includeStoreGoods|boolean|false|none||是否包含门店自建商品|
|»»»» acceptGoodGroups|[[GoodGroup](#schemagoodgroup)]|false|none||建券时，商品分组|
|»»»»» classifyId|integer|false|none||商品分组id|
|»»»»» name|string|false|none||商品分组名称|
|»»»»» classifyLevel|integer|false|none||当前分组等级|
|»»»»» parentId|integer|false|none||父分组id|
|»»»»» child|[object]|false|none||二级分组|
|»»»»» bizVid|integer|false|none||none|
|»»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»»» channel|integer|false|none||适用对象所属的渠道id|
|»»»»» channelName|string|false|none||none|
|»»»» skuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||建券支持sku级别|
|»»»»» skuId|integer|false|none||商品 skuid|
|»»»»» goodsId|integer|false|none||商品 id|
|»»»»» vid|integer|false|none||节点 id|
|»»»»» itemTitle|string|false|none||sku名称|
|»»»»» specValueInfo|string|false|none||sku信息|
|»»»»» salePrice|number|false|none||销售价|
|»»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»»» channel|integer|false|none||适用对象所属的渠道id，扩展字段|
|»»»»» channelName|string|false|none||渠道名称，扩展字段|
|»»»»» defaultImageUrl|string|false|none||默认图片|
|»»»» skuIdInfos|[[SkuInfo](#schemaskuinfo)]|false|none||创建sku<br />优先级高于skuInfos，若skuIdInfos未传入则用skuInfos|
|»»»»» skuId|integer|false|none||商品 skuid|
|»»»»» goodsId|integer|false|none||商品 id|
|»»»»» vid|integer|false|none||节点 id|
|»»»»» itemTitle|string|false|none||sku名称|
|»»»»» specValueInfo|string|false|none||sku信息|
|»»»»» salePrice|number|false|none||销售价|
|»»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»»» channel|integer|false|none||适用对象所属的渠道id，扩展字段|
|»»»»» channelName|string|false|none||渠道名称，扩展字段|
|»»»»» defaultImageUrl|string|false|none||默认图片|
|»»»» excludeSkuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||建券支持sku级别（排除）|
|»»»»» skuId|integer|false|none||商品 skuid|
|»»»»» goodsId|integer|false|none||商品 id|
|»»»»» vid|integer|false|none||节点 id|
|»»»»» itemTitle|string|false|none||sku名称|
|»»»»» specValueInfo|string|false|none||sku信息|
|»»»»» salePrice|number|false|none||销售价|
|»»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»»» channel|integer|false|none||适用对象所属的渠道id，扩展字段|
|»»»»» channelName|string|false|none||渠道名称，扩展字段|
|»»»»» defaultImageUrl|string|false|none||默认图片|
|»»»» excludeSkuIdInfos|[[SkuInfo](#schemaskuinfo)]|false|none||排除sku<br />优先级高于excludeSkuInfos，若id未传入则用优先级高于excludeSkuInfos|
|»»»»» skuId|integer|false|none||商品 skuid|
|»»»»» goodsId|integer|false|none||商品 id|
|»»»»» vid|integer|false|none||节点 id|
|»»»»» itemTitle|string|false|none||sku名称|
|»»»»» specValueInfo|string|false|none||sku信息|
|»»»»» salePrice|number|false|none||销售价|
|»»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»»» channel|integer|false|none||适用对象所属的渠道id，扩展字段|
|»»»»» channelName|string|false|none||渠道名称，扩展字段|
|»»»»» defaultImageUrl|string|false|none||默认图片|
|»»»» goodsNum|integer|false|none||如果acceptStoreType是5或者6|
|»»»» skuNum|integer|false|none||如果acceptStoreType是5或者6|
|»»»» productIds|[integer]|false|none||参与对象有些productId|
|»»» acceptInfo|[AcceptInfoVO](#schemaacceptinfovo)|false|none||适用信息<br />巴拉线下商品二期引入|
|»»»» noLimitGoods|boolean|false|none||不限商品|
|»»»» goodsProductIds|[integer]|false|none||适用商品列表产品id|
|»»»» sourceIds|[integer]|false|none||线下商品资源id列表|
|»»»» acceptGoodsInfos|[[AcceptGoodsInfo](#schemaacceptgoodsinfo)]|false|none||适用商品信息|
|»»»»» productId|integer|false|none||产品id|
|»»»»» sourceId|integer|false|none||资源id|
|»»»»» channelShopName|string|false|none||小店名称|
|»»»»» channelName|string|false|none||渠道名称|
|»»»»» acceptType|integer|false|none||适用类型|
|»»»»» acceptItems|[[AcceptItem](#schemaacceptitem)]|false|none||适用id|
|»»»»»» acceptId|integer|false|none||none|
|»»»»»» bizVid|integer|false|none||商圈用vid|
|»»»»»» acceptExt|[MapObject](#schemamapobject)|false|none||适用信息附属信息|
|»»»»»»» key|[key](#schemakey)|false|none||none|
|»»»»» excludeType|integer|false|none||是否包含排除参与对象（目前支持排除商品|sku）|
|»»»»» includeStoreGoods|boolean|false|none||是否包含自建商品|
|»»»»» showAcceptItems|[[ShowInfo](#schemashowinfo)]|false|none||回显适用商品信息|
|»»»»»» acceptId|integer|false|none||适用id|
|»»»»»» name|string|false|none||名称|
|»»»»»» level|integer|false|none||等级|
|»»»»»» parentId|integer|false|none||父节点|
|»»»»»» child|[[ShowInfo](#schemashowinfo)]|false|none||子节点信息|
|»»»»»»» acceptId|integer|false|none||适用id|
|»»»»»»» name|string|false|none||名称|
|»»»»»»» level|integer|false|none||等级|
|»»»»»»» parentId|integer|false|none||父节点|
|»»»»»»» child|[[ShowInfo](#schemashowinfo)]|false|none||子节点信息|
|»»»»»»» imgUrl|string|false|none||图片url|
|»»»»»»» extInfo|[MapObject](#schemamapobject)|false|none||适用信息附属信息|
|»»»»»»»» key|[key](#schemakey)|false|none||none|
|»»»»»»» isDeleted|boolean|false|none||标记是否已删除|
|»»»»»» imgUrl|string|false|none||图片url|
|»»»»»» extInfo|[MapObject](#schemamapobject)|false|none||适用信息附属信息|
|»»»»»» isDeleted|boolean|false|none||标记是否已删除|
|»»»»» excludeAcceptItems|[[AcceptItem](#schemaacceptitem)]|false|none||排除商品id|
|»»»»»» acceptId|integer|false|none||none|
|»»»»»» bizVid|integer|false|none||商圈用vid|
|»»»»»» acceptExt|[MapObject](#schemamapobject)|false|none||适用信息附属信息|
|»»»»» showExcludeAcceptItems|[[ShowInfo](#schemashowinfo)]|false|none||排除商品回显信息|
|»»»»»» acceptId|integer|false|none||适用id|
|»»»»»» name|string|false|none||名称|
|»»»»»» level|integer|false|none||等级|
|»»»»»» parentId|integer|false|none||父节点|
|»»»»»» child|[[ShowInfo](#schemashowinfo)]|false|none||子节点信息|
|»»»»»» imgUrl|string|false|none||图片url|
|»»»»»» extInfo|[MapObject](#schemamapobject)|false|none||适用信息附属信息|
|»»»»»» isDeleted|boolean|false|none||标记是否已删除|
|»»» isPartTimeUse|boolean|false|none||可用时段类型核销<br />是否是部分时段|
|»»» cycleUseRule|[[UsableTimeRuleDTO](#schemausabletimeruledto)]|false|none||部分时段可核销|
|»»»» weekDay|[integer]|false|none||适用时段的周期时间。1 至 7 对应周一至周日，多天用,隔开。|
|»»»» timeSegment|[[TimeSegmentDTO](#schematimesegmentdto)]|false|none||时间段|
|»»»»» beginHour|integer|false|none||开始时间点，小时，0-23|
|»»»»» endHour|integer|false|none||结束时间点，小时，0-23|
|»»»»» beginMinute|integer|false|none||开始时间点，分钟，0-59|
|»»»»» endMinute|integer|false|none||结束时间点，分钟，0-59|
|»»»» dates|[string]|false|none||日期（日期是不包含时间的）<br />如：2023-06-14|
|»»»» festivals|[string]|false|none||节日|
|»»» hasUnuseTime|boolean|false|none||是否有部分时段不可用|
|»»» cycleUnuseRule|[[UsableTimeRuleDTO](#schemausabletimeruledto)]|false|none||部分时段不可核销|
|»»»» weekDay|[integer]|false|none||适用时段的周期时间。1 至 7 对应周一至周日，多天用,隔开。|
|»»»» timeSegment|[[TimeSegmentDTO](#schematimesegmentdto)]|false|none||时间段|
|»»»» dates|[string]|false|none||日期（日期是不包含时间的）<br />如：2023-06-14|
|»»»» festivals|[string]|false|none||节日|
|»»» canGift|boolean|false|none||是否可以转赠（SaaS券、微信券）|
|»»» canShare|boolean|false|none||是否可以分享领取|
|»»» desc|string|false|none||使用须知|
|»»» explain|string|false|none||优惠说明|
|»»» systemExplain|string|false|none||优惠券说明-系统默认|
|»»» pricingType|integer|false|none||计价类型|
|»»» updateTime|string|false|none||更新时间|
|»»» isAllUseScene|boolean|false|none||是否是全部核销场景|
|»»» allSceneList|[integer]|false|none||核销场景：商城、堂食、外卖、酒旅|
|»»» userTakeLimit|integer|false|none||用户限领优惠券张数|
|»»» userTakeDayLimit|integer|false|none||用户每日限领张数|
|»»» freightReduceType|integer|false|none||运费券 减免类型|
|»»» outer|boolean|false|none||是否是外部券|
|»»» hasGiftLimit|boolean|false|none||是否限制转增次数，true为限制|
|»»» giftCountLimit|integer|false|none||当限制转增次数时，券的转增次数|
|»»» belongMerchantId|string|false|none||支付宝商家券增加创建商户号|
|»»» sendTimeType|integer|false|none||发放时间类型 (1无限制；2固定时间)|
|»»» sendStartDate|string|false|none||发放开始时间|
|»»» sendEndDate|string|false|none||发放结束时间|
|»»» scopeDesc|string|false|none||券适用返回提示语，如：全部门店+全部商品|
|»»» code|string|false|none||券码值|
|»»» cashConditionStr|string|false|none||满元门槛字符串|
|»»» canPresentCancel|boolean|false|none||是否可以取消转赠|
|»»» subTitle|string|false|none||提示文案|
|»»» publishTime|string|false|none||领取时间|
|»»» isPayment|boolean|false|none||是否付费券|
|» globalTicket|string|false|none||全局跟踪id|
|» monitorTrackId|string|false|none||单次跟踪id|

#### 枚举值

|属性|值|
|---|---|
|status|0|
|status|1|
|status|2|
|status|3|
|status|5|
|status|6|
|status|7|
|status|8|
|status|9|
|status|10|
|status|12|
|status|13|
|status|14|
|status|15|

## POST 预发优惠券

POST /weimob_crm/v2.0/coupon/precoupon/send

用于给某个用户预发优惠券。
参考文档：https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3157&isold=2

> Body 请求参数

```json
{
  "couponNums": [
    {
      "requestId": "2844099943341359104",
      "num": 1,
      "couponTemplateId": 1001200
    }
  ],
  "wid": 11107871382,
  "channel": 2,
  "scene": 945000,
  "vid": 6013679462319,
  "vidType": 2,
  "bosId": 4019965204319
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» couponNums|body|[object]| 是 |批量领取券列表|
|»» couponTemplateId|body|integer| 是 |券模板id：要求是包含“活动发券”类型的模板，参考接口/weimob_crm/v2.0/coupon/template/create中参数：sendChannels|
|»» num|body|integer| 是 |预发券数量|
|»» requestId|body|string| 是 |幂等id|
|» wid|body|integer| 是 |C端用户 id|
|» channel|body|integer| 是 |领券渠道：2|
|» scene|body|integer| 是 |领券来源：945000L|
|» sceneId|body|string| 否 |领券来源id|
|» partialSuccess|body|boolean| 否 |是否部分预发成功|

#### 详细说明

**» channel**: 领券渠道：2
见文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP

**» sceneId**: 领券来源id
参考文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP

**» partialSuccess**: 是否部分预发成功
默认是

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "applyNo": "P2840674001523302400",
    "preSendFailureList": null,
    "result": true
  },
  "globalTicket": null,
  "monitorTrackId": "559f36b9-f86f-4d32-91ca-7d51f2b3e2ae"
}
```

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "applyNo": null,
    "preSendFailureList": [
      {
        "couponTemplateId": null,
        "errorCode": "900160010010012",
        "errorMsg": "重复提交",
        "num": 1
      }
    ],
    "result": false
  },
  "globalTicket": null,
  "monitorTrackId": "f0a9149e-aac7-4eca-a83b-20902c8536b6"
}
```

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "applyNo": null,
    "preSendFailureList": [
      {
        "couponTemplateId": null,
        "errorCode": "900160010080056",
        "errorMsg": "实际渠道不在模版的渠道列表里，引擎执行失败，真实渠道为：120001,渠道列表为：[120000]",
        "num": 1
      }
    ],
    "result": false
  },
  "globalTicket": null,
  "monitorTrackId": "a8b21921-a091-4e8d-8b83-95dd47363f0b"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|»» errcode|string|true|none||异常编码|
|»» errmsg|string|false|none||异常描述|
|»» bizErrmsg|string|false|none||业务异常描述|
|» data|object|false|none||业务数据|
|»» result|boolean|false|none||是否成功|
|»» applyNo|string|true|none||预发标识|
|»» preSendFailureList|[[PreSendFailCouponVO](#schemapresendfailcouponvo)]¦null|false|none||预发失败列表|
|»»» couponTemplateId|integer|false|none||券模板id|
|»»» errorCode|string|false|none||失败code|
|»»» errorMsg|string|false|none||失败原因|
|»»» num|integer|false|none||失败券数量|
|» globalTicket|string|false|none||全局跟踪id|
|» monitorTrackId|string|false|none||单次跟踪id|

## POST 激活预发优惠券

POST /weimob_crm/v2.0/coupon/precoupon/activate

用于对用户拥有的预发的优惠券进行激活。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3156&isold=2

> Body 请求参数

```json
{
  "bosId": 4019965204319,
  "wid": 11107871382,
  "applyNo": "P2829048096324919296"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» wid|body|integer| 是 |用户id|
|» revealCouponList|body|[[RevealCouponBO](#schemarevealcouponbo)]| 否 |激活码对象|
|»» code|body|string| 否 |none|
|»» couponTemplateId|body|integer| 否 |none|
|» applyNo|body|string| 是 |预发标识|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "couponFailList": [],
    "couponSuccessList": [
      {
        "code": "02844206344914993152",
        "couponTemplateId": 1001700
      }
    ],
    "failCodes": [],
    "failedCount": 0,
    "successCount": 1
  },
  "globalTicket": null,
  "monitorTrackId": "4c712253-bb5f-42cf-be3f-f38eb6b0cfe0"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|[OpenExportError](#schemaopenexporterror)|true|none||异常code|
|»» errcode|string|true|none||异常编码|
|»» errmsg|string|false|none||异常描述|
|»» bizErrmsg|string|false|none||业务异常描述|
|» data|object|true|none||业务数据|
|»» failCodes|[string]|true|none||失败codes|
|»» successCount|integer|true|none||成功发放数量|
|»» failedCount|integer|true|none||失败发放数量|
|»» couponFailList|[[SendCouponFailBO](#schemasendcouponfailbo)]|true|none||失败列表|
|»»» couponTemplateId|integer|false|none||券模板id|
|»»» code|string|false|none||码值|
|»»» errCode|string|false|none||赠送失败的code<br />见文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP|
|»»» errMsg|string|false|none||赠送失败的原因<br />见文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP|
|»» couponSuccessList|[object]|true|none||成功列表|
|»»» couponTemplateId|integer|true|none||券模板id|
|»»» code|string|true|none||码值|
|» globalTicket|string|false|none||全局跟踪id|
|» monitorTrackId|string|false|none||单次跟踪id|

## POST 查询优惠券模版详细信息

POST /weimob_crm/v2.0/coupon/template/detail/get

用于查询指定的优惠券详细信息，支持：券基础信息、券设置、券优惠规则、券发放规则、券使用规则、券创建信息、券状态。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3155&isold=2

> Body 请求参数

```json
{
  "couponTemplateId": 1001001,
  "bosId": 4019965204319
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id，扩展字段|
|» saasChannel|body|string| 否 |openAPI来源标识，扩展字段|
|» couponTemplateId|body|integer| 是 |优惠券模板id|
|» requestChannel|body|integer| 否 |请求渠道，扩展字段|

> 返回示例

```json
{
  "code": {
    "errcode": "",
    "errmsg": "",
    "bizErrmsg": ""
  },
  "data": {
    "baseInfo": {
      "basicTemplateIds": [
        0
      ],
      "couponTemplateId": 0,
      "couponType": 0,
      "platformType": 0,
      "name": "",
      "subName": "",
      "couponDesc": "",
      "couponSubType": 0,
      "merchantName": "",
      "belongVid": 0,
      "belongVidName": "",
      "thirdId": "",
      "thirdTemplateId": ""
    },
    "setting": {
      "stock": 0,
      "stockUnlimited": false,
      "codeGenerateType": 0,
      "customCodeSetting": {
        "customEndNum": 0,
        "customStartNum": 0,
        "fixLeft": "",
        "fixRight": "",
        "codeLength": 0,
        "isLetter": 0
      },
      "totalStock": 0
    },
    "reduceRule": {
      "reducePriceType": 0,
      "maxReducePrice": 0,
      "cashTicketAmt": 0,
      "reduceDuration": 0,
      "discount": 0,
      "discountLimitType": 0,
      "discountLimitValue": 0,
      "maxDiscountNum": 0,
      "minCashTicketAmt": 0,
      "maxCashTicketAmt": 0,
      "couponCostType": 0,
      "couponCost": 0,
      "pricingType": 0,
      "exchangeGoodsType": 0,
      "exchangeGoodsIds": [
        0
      ],
      "exchangeGoodsNum": 0,
      "costOfOrganization": 0,
      "costOfStore": 0,
      "freightReduceType": 0,
      "reducePriceDesc": "",
      "goodsDiscountThreshold": 0
    },
    "sendRule": {
      "sendTimeType": 0,
      "sendStartDate": "",
      "sendEndDate": "",
      "isPayment": false,
      "sendChannels": [
        0
      ],
      "recommendStartTime": "",
      "recommendEndTime": "",
      "isAcceptAllCrowd": false,
      "crowd": {
        "ruleContent": "",
        "selectedData": "",
        "ruleId": 0
      },
      "hasUserTakeLimit": false,
      "userTakeLimit": 0,
      "hasUserTakeDayLimit": false,
      "userTakeDayLimit": 0,
      "canStoreLaunch": false,
      "canGift": false,
      "canShare": false,
      "storeLimitNum": 0,
      "hasGuideLimit": false,
      "guideLimitNum": 0,
      "merchantIssueChannels": [
        0
      ],
      "merchantPublish": false,
      "shoppingPublish": false,
      "customerListPublish": false,
      "servicePublish": false,
      "activityPublish": false,
      "customerDirectReceive": false,
      "scanByIssue": false,
      "enterpriseAssistant": false,
      "merchantDelivery": false,
      "limitedTimeDelivery": false,
      "wechatLiveIssue": false,
      "hasGiftLimit": false,
      "giftCountLimit": 0,
      "canReserve": false,
      "isOpenRecommend": false
    },
    "useRule": {
      "useValidDate": {
        "useTimeType": 0,
        "subUseTimeType": 0,
        "useStartTime": "",
        "useEndTime": "",
        "useDelayDays": 0,
        "validDays": 0,
        "validDateDesc": ""
      },
      "hasUseThreshold": false,
      "durationThreshold": 0,
      "canCashTicket": false,
      "goodsCashTicket": 0,
      "canGoodsNumber": false,
      "minGoodsNumber": 0,
      "maxGoodsNumber": 0,
      "acceptTypeDTO": {
        "basicInfo": {
          "merchantId": 0,
          "bosId": 0,
          "vid": 0,
          "vidType": 0,
          "rootVid": 0,
          "productId": 0,
          "productVersionId": 0,
          "productInstanceId": 0,
          "cid": 0,
          "tcode": ""
        },
        "produceId": 0,
        "bosId": 0,
        "belongVid": 0,
        "belongVidType": 0,
        "acceptStoreType": 0,
        "acceptStoreIds": [
          0
        ],
        "acceptStores": [
          {
            "merchantId": 0,
            "bosId": 0,
            "vid": 0,
            "vidName": "",
            "vidType": 0
          }
        ],
        "vidInfos": [
          {
            "merchantId": 0,
            "bosId": 0,
            "vid": 0,
            "vidName": "",
            "vidType": 0
          }
        ],
        "acceptGoodsType": 0,
        "acceptGoodsIds": [
          0
        ],
        "acceptObjects": [
          {
            "acceptObjectId": 0,
            "productId": 0,
            "channel": 0,
            "bizVid": 0
          }
        ],
        "existExcludeGoods": false,
        "excludeGoodsIds": [
          0
        ],
        "excludeAcceptObjects": [
          {
            "acceptObjectId": 0,
            "productId": 0,
            "channel": 0,
            "bizVid": 0
          }
        ],
        "existExcludeStore": false,
        "excludeStoreIds": [
          0
        ],
        "includeStoreGoods": false,
        "acceptGoodGroups": [
          {
            "classifyId": 0,
            "name": "",
            "classifyLevel": 0,
            "parentId": 0,
            "child": [
              {
                "classifyId": 0,
                "name": "",
                "classifyLevel": 0,
                "parentId": 0,
                "child": [],
                "bizVid": 0,
                "productId": 0,
                "channel": 0,
                "channelName": ""
              }
            ],
            "bizVid": 0,
            "productId": 0,
            "channel": 0,
            "channelName": ""
          }
        ],
        "skuInfos": [
          {
            "skuId": 0,
            "goodsId": 0,
            "vid": 0,
            "itemTitle": "",
            "specValueInfo": "",
            "salePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": "",
            "defaultImageUrl": ""
          }
        ],
        "skuIdInfos": [
          {
            "skuId": 0,
            "goodsId": 0,
            "vid": 0,
            "itemTitle": "",
            "specValueInfo": "",
            "salePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": "",
            "defaultImageUrl": ""
          }
        ],
        "excludeSkuInfos": [
          {
            "skuId": 0,
            "goodsId": 0,
            "vid": 0,
            "itemTitle": "",
            "specValueInfo": "",
            "salePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": "",
            "defaultImageUrl": ""
          }
        ],
        "excludeSkuIdInfos": [
          {
            "skuId": 0,
            "goodsId": 0,
            "vid": 0,
            "itemTitle": "",
            "specValueInfo": "",
            "salePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": "",
            "defaultImageUrl": ""
          }
        ],
        "goodsNum": 0,
        "skuNum": 0,
        "productIds": [
          0
        ],
        "categoryObjectList": [
          {
            "categoryId": 0,
            "categoryName": "",
            "productId": 0,
            "channel": 0,
            "channelName": ""
          }
        ],
        "classifyObjectList": [
          {
            "classifyId": 0,
            "parentId": 0,
            "name": "",
            "bizVid": 0,
            "productId": 0,
            "channel": 0,
            "channelName": ""
          }
        ],
        "goodsTagList": [
          {
            "goodsTagId": 0,
            "goodsTagName": "",
            "productId": 0
          }
        ],
        "acceptGoodsList": [
          {
            "goodsId": 0,
            "createVid": 0,
            "title": "",
            "isMemberShipDiscount": 0,
            "minMemberShipPrice": 0,
            "minOriginalPrice": 0,
            "isCanSell": false,
            "isOnline": false,
            "goodsUrl": "",
            "isDeleted": false,
            "maxCostPrice": 0,
            "minCostPrice": 0,
            "maxMarketPrice": 0,
            "minMarketPrice": 0,
            "maxSalePrice": 0,
            "minSalePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": ""
          }
        ],
        "excludeGoodsList": [
          {
            "goodsId": 0,
            "createVid": 0,
            "title": "",
            "isMemberShipDiscount": 0,
            "minMemberShipPrice": 0,
            "minOriginalPrice": 0,
            "isCanSell": false,
            "isOnline": false,
            "goodsUrl": "",
            "isDeleted": false,
            "maxCostPrice": 0,
            "minCostPrice": 0,
            "maxMarketPrice": 0,
            "minMarketPrice": 0,
            "maxSalePrice": 0,
            "minSalePrice": 0,
            "productId": 0,
            "channel": 0,
            "channelName": ""
          }
        ],
        "storeInfoList": [
          {
            "vid": 0,
            "vidType": 0,
            "vidName": "",
            "id": 0,
            "type": 0,
            "name": ""
          }
        ],
        "excludeStoreInfoList": [
          {
            "vid": 0,
            "vidType": 0,
            "vidName": "",
            "id": 0,
            "type": 0,
            "name": ""
          }
        ],
        "vidInfoList": [
          {
            "type": 0,
            "value": [
              {
                "vid": 0,
                "vidName": "",
                "vidType": 0
              }
            ],
            "typeName": ""
          }
        ],
        "categoryObjectListMap": {
          "0": [
            {
              "categoryId": 0,
              "categoryName": "",
              "productId": 0,
              "channel": 0,
              "channelName": ""
            }
          ]
        },
        "classifyObjectListMap": {
          "0": [
            {
              "classifyId": 0,
              "parentId": 0,
              "name": "",
              "bizVid": 0,
              "productId": 0,
              "channel": 0,
              "channelName": ""
            }
          ]
        },
        "acceptGoodsListMap": {
          "0": [
            {
              "goodsId": 0,
              "createVid": 0,
              "title": "",
              "isMemberShipDiscount": 0,
              "minMemberShipPrice": 0,
              "minOriginalPrice": 0,
              "isCanSell": false,
              "isOnline": false,
              "goodsUrl": "",
              "isDeleted": false,
              "maxCostPrice": 0,
              "minCostPrice": 0,
              "maxMarketPrice": 0,
              "minMarketPrice": 0,
              "maxSalePrice": 0,
              "minSalePrice": 0,
              "productId": 0,
              "channel": 0,
              "channelName": ""
            }
          ]
        },
        "excludeGoodsListMap": {
          "0": [
            {
              "goodsId": 0,
              "createVid": 0,
              "title": "",
              "isMemberShipDiscount": 0,
              "minMemberShipPrice": 0,
              "minOriginalPrice": 0,
              "isCanSell": false,
              "isOnline": false,
              "goodsUrl": "",
              "isDeleted": false,
              "maxCostPrice": 0,
              "minCostPrice": 0,
              "maxMarketPrice": 0,
              "minMarketPrice": 0,
              "maxSalePrice": 0,
              "minSalePrice": 0,
              "productId": 0,
              "channel": 0,
              "channelName": ""
            }
          ]
        },
        "acceptGoodGroupsMap": {
          "0": [
            {
              "classifyId": 0,
              "name": "",
              "classifyLevel": 0,
              "parentId": 0,
              "child": [
                {
                  "classifyId": 0,
                  "name": "",
                  "classifyLevel": 0,
                  "parentId": 0,
                  "child": [],
                  "bizVid": 0,
                  "productId": 0,
                  "channel": 0,
                  "channelName": ""
                }
              ],
              "bizVid": 0,
              "productId": 0,
              "channel": 0,
              "channelName": ""
            }
          ]
        },
        "skuInfosMap": {
          "0": [
            {
              "skuId": 0,
              "goodsId": 0,
              "vid": 0,
              "itemTitle": "",
              "specValueInfo": "",
              "salePrice": 0,
              "productId": 0,
              "channel": 0,
              "channelName": "",
              "defaultImageUrl": ""
            }
          ]
        },
        "excludeSkuInfosMap": {
          "0": [
            {
              "skuId": 0,
              "goodsId": 0,
              "vid": 0,
              "itemTitle": "",
              "specValueInfo": "",
              "salePrice": 0,
              "productId": 0,
              "channel": 0,
              "channelName": "",
              "defaultImageUrl": ""
            }
          ]
        },
        "acceptGoodsIdsMap": {
          "0": [
            0
          ]
        },
        "excludeGoodsIdsMap": {
          "0": [
            0
          ]
        }
      },
      "acceptInfo": {
        "noLimitGoods": false,
        "goodsProductIds": [
          0
        ],
        "sourceIds": [
          0
        ],
        "acceptGoodsInfos": [
          {
            "productId": 0,
            "sourceId": 0,
            "channelShopName": "",
            "channelName": "",
            "acceptType": 0,
            "acceptItems": [
              {
                "acceptId": 0,
                "bizVid": 0,
                "acceptExt": {
                  "": {}
                }
              }
            ],
            "excludeType": 0,
            "includeStoreGoods": false,
            "showAcceptItems": [
              {
                "acceptId": 0,
                "name": "",
                "level": 0,
                "parentId": 0,
                "child": [
                  {
                    "acceptId": 0,
                    "name": "",
                    "level": 0,
                    "parentId": 0,
                    "child": "[Object]",
                    "imgUrl": "",
                    "extInfo": "[Object]",
                    "isDeleted": false
                  }
                ],
                "imgUrl": "",
                "extInfo": {
                  "": {}
                },
                "isDeleted": false
              }
            ],
            "excludeAcceptItems": [
              {
                "acceptId": 0,
                "bizVid": 0,
                "acceptExt": {
                  "": {}
                }
              }
            ],
            "showExcludeAcceptItems": [
              {
                "acceptId": 0,
                "name": "",
                "level": 0,
                "parentId": 0,
                "child": [
                  {
                    "acceptId": 0,
                    "name": "",
                    "level": 0,
                    "parentId": 0,
                    "child": "[Object]",
                    "imgUrl": "",
                    "extInfo": "[Object]",
                    "isDeleted": false
                  }
                ],
                "imgUrl": "",
                "extInfo": {
                  "": {}
                },
                "isDeleted": false
              }
            ]
          }
        ]
      },
      "acceptGoodsTypeDesc": "",
      "acceptStoreTypeDesc": "",
      "isAllUseScene": false,
      "allSceneDTO": {
        "productIds": [
          0
        ],
        "shoppingMallSceneList": [
          0
        ],
        "forHereSceneList": [
          0
        ],
        "takeOutSceneList": [
          0
        ],
        "WineTourSceneList": [
          0
        ]
      },
      "usageDesType": 0,
      "isAllTimeUse": false,
      "cycleUseRule": [
        {
          "weekDay": [
            0
          ],
          "timeSegment": [
            {
              "beginHour": 0,
              "endHour": 0,
              "beginMinute": 0,
              "endMinute": 0
            }
          ],
          "dates": [
            ""
          ],
          "festivals": [
            ""
          ]
        }
      ],
      "hasUnuseTime": false,
      "cycleUnuseRule": [
        {
          "weekDay": [
            0
          ],
          "timeSegment": [
            {
              "beginHour": 0,
              "endHour": 0,
              "beginMinute": 0,
              "endMinute": 0
            }
          ],
          "dates": [
            ""
          ],
          "festivals": [
            ""
          ]
        }
      ],
      "superpositionRule": {
        "isSuperposition": false,
        "sameSuperposition": false,
        "differentSuperposition": false,
        "limit": 0,
        "differentSuperpositionType": 0,
        "resourceTemplateIds": [
          0
        ]
      },
      "canUseDiscount": {
        "canUseWithOtherDiscount": false,
        "shoppingMallDiscount": [
          0
        ],
        "forHereDiscount": [
          0
        ],
        "takeOutDiscount": [
          0
        ],
        "wineTourDiscount": [
          0
        ]
      },
      "orderDeductList": [
        0
      ],
      "importGoodsFlag": false,
      "importGoodsFileName": "",
      "addOfflineWhiteList": false
    },
    "otherSetting": {
      "hasMemberTag": false,
      "memberTagIds": [
        {
          "id": 0,
          "name": "",
          "type": 0,
          "list": [
            {
              "id": 0,
              "name": "",
              "startValue": "",
              "endValue": ""
            }
          ]
        }
      ],
      "explain": "",
      "imageUrl": {
        "iconUrl": "",
        "wechatIconUrl": "",
        "shareImgUrl": "",
        "logoUrl": "",
        "wechatLogoUrl": ""
      },
      "abstractTitle": "",
      "isOpenMessage": false,
      "messageStockNum": 0,
      "wechatLiveNickName": "",
      "wechatLiveSyncMsg": "",
      "canWeimobEdit": false
    },
    "createInfo": {
      "createTime": "",
      "createAreaId": 0,
      "createAreaCode": "",
      "createType": 0,
      "createChannel": 0,
      "operatorId": 0,
      "requestChannel": 0,
      "source": ""
    },
    "wxInfo": {
      "merchantName": "",
      "colorType": 0,
      "textImageList": [
        {
          "imageUrl": "",
          "wechatImageUrl": "",
          "text": ""
        }
      ],
      "partnerMode": "",
      "channelType": "",
      "originalId": "",
      "useMethod": "",
      "centerScene": {
        "index": 0,
        "isOpen": false,
        "sceneType": 0,
        "sceneTitle": "",
        "sceneSubTitle": "",
        "sceneUrl": "",
        "sceneId": 0,
        "scenePageId": 0,
        "h5Url": "",
        "miniUrl": "",
        "sceneTypeUrlText": ""
      },
      "customScene": {
        "index": 0,
        "isOpen": false,
        "sceneType": 0,
        "sceneTitle": "",
        "sceneSubTitle": "",
        "sceneUrl": "",
        "sceneId": 0,
        "scenePageId": 0,
        "h5Url": "",
        "miniUrl": "",
        "sceneTypeUrlText": ""
      },
      "logoImg": {
        "imgId": 0,
        "imgUrl": "",
        "wechatImgUrl": ""
      },
      "surfaceImg": {
        "imgId": 0,
        "imgUrl": "",
        "wechatImgUrl": ""
      },
      "userGuide": "",
      "surfaceTitle": "",
      "centerSceneType": 0,
      "centerSceneUrl": "",
      "centerSceneUrlName": "",
      "customSceneSwitch": false,
      "customSceneTitle": "",
      "customSceneSubTitle": "",
      "customSceneUrl": "",
      "customSceneUrlName": "",
      "miniprogAppId": "",
      "publicAppId": "",
      "appUserName": ""
    },
    "status": 0
  },
  "globalTicket": "",
  "monitorTrackId": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseCouponTemplateDetailResponseVO](#schemaopenexportresponsecoupontemplatedetailresponsevo)|

## POST 查询可用优惠券列表

POST /weimob_crm/v2.0/coupon/customer/available/getList

用于根据条件处查询用户适合使用的优惠券信息。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3445&isold=2

> Body 请求参数

```json
{
  "bosId": 4019965204319,
  "querySceneType": 1,
  "scene": 7,
  "vid": 6013679462319,
  "wid": 11107871382,
  "orderAmount": "500",
  "vidType": 2,
  "goodsInfos": [
    {
      "goods": [
        {
          "belongVid": {
            "vid": 62265165165,
            "vidType": 2
          },
          "skus": [
            {
              "marketPrice": "6200",
              "price": "1234",
              "num": 1,
              "id": 2131425
            }
          ],
          "id": 16484988948
        }
      ],
      "vidInfo": {
        "vid": 62265165165,
        "vidType": 2
      }
    }
  ]
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id|
|» saasChannel|body|string| 否 |openAPI来源标识|
|» vidType|body|integer| 是 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 是 |节点id|
|» wid|body|integer| 是 |C端用户id|
|» goodsInfos|body|[object]| 是 |商品及店铺信息|
|»» vidInfo|body|object| 否 |店铺信息|
|»»» vid|body|integer¦null| 否 |vid|
|»»» vidCode|body|string¦null| 否 |vid优先|
|»»» vidType|body|integer¦null| 否 |组织类型|
|»»» parentVids|body|[object]¦null| 否 |none|
|»»»» vid|body|integer| 否 |none|
|»»»» vidCode|body|string| 否 |vid优先|
|»»»» vidType|body|integer| 否 |none|
|»»» tagIds|body|[integer]| 否 |门店标签id列表|
|»» goods|body|[object]| 否 |商品信息|
|»»» id|body|integer| 是 |商品ID|
|»»» skus|body|[object]| 否 |skus|
|»»»» id|body|integer| 是 |skuId|
|»»»» price|body|number| 是 |销售价|
|»»»» num|body|integer| 是 |数量|
|»»»» isSelected|body|boolean¦null| 否 |none|
|»»»» marketPrice|body|number¦null| 否 |市场价|
|»»» categoryIds|body|[integer]| 否 |类目ids|
|»»» tags|body|[string]| 否 |商品tags|
|»»» groupIds|body|[integer]| 否 |分组ids|
|»»» isStoreGoods|body|boolean| 否 |是否门店商品|
|» calculateLevel|body|integer| 否 |优惠级别，默认不传如需要看，商品级别优惠：2|
|» couponInfos|body|[object]| 否 |选中的券信息|
|»» couponTemplateId|body|integer| 否 |券模板id|
|»» code|body|string| 否 |券码|
|»» orderNo|body|integer| 否 |订单id|
|»» bosId|body|integer| 否 |bosId|
|»» actualDiscountAmount|body|number| 否 |实际优惠金额|
|» orderAmount|body|number¦null| 否 |订单金额，用于直接消费场景。单位：元。例如“10.00”|
|» source|body|string| 否 |来源|
|» scene|body|integer| 是 |场景id(useScene)|
|» needFilterCouponTypes|body|[integer]| 否 |需要过滤掉什么优惠类型|
|» needFilterPlatformTypes|body|[integer]| 否 |需要过滤掉什么平台类型|
|» needFilterResourceTypes|body|[integer]| 否 |需要过滤掉什么券类型|
|» needFilterPricingTypes|body|[integer]| 否 |需要过滤掉什么计价类型|
|» querySceneType|body|integer| 是 |1.交易查券 2.购物车查券|
|» tradingVersion|body|string| 否 |交易组件版本号|
|» channelType|body|integer| 否 |标识C端渠道|
|» platformType|body|integer| 否 |平台类型|
|» vidCode|body|string| 否 |vid优先|

#### 详细说明

**» scene**: 场景id(useScene)
https://docs.qq.com/doc/DRGN0YmRtd2diSnZP

**» tradingVersion**: 交易组件版本号
3.0  | 2.0 默认""
交易查可用券用

#### 枚举值

|属性|值|
|---|---|
|» source|MALL|
|» source|FOR_HERE|
|» source|TAKE_OUT|
|» source|WINE_TOUR|
|» needFilterCouponTypes|DEFAULT|
|» needFilterCouponTypes|FIX_REDUCTION|
|» needFilterCouponTypes|FIX_DISCOUNT|
|» needFilterCouponTypes|EXCHANGE|
|» needFilterCouponTypes|FULL_REDUCTION|
|» needFilterCouponTypes|RANDOM_REDUCTION|
|» needFilterCouponTypes|RANDOM_DISCOUNT|
|» needFilterCouponTypes|FREE_SHIPPING|
|» needFilterPlatformTypes|WEIMOB|
|» needFilterPlatformTypes|WECHART|
|» needFilterPlatformTypes|ALIPAY|
|» needFilterPlatformTypes|DOUYIN|
|» needFilterPlatformTypes|PARKING|
|» needFilterResourceTypes|COUPON|
|» needFilterResourceTypes|CODE|
|» needFilterResourceTypes|COMBINATION|
|» needFilterPricingTypes|MARKET_PRICE|
|» needFilterPricingTypes|SELL_PRICE|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "availableCoupons": [
      {
        "bosId": 4019965204319,
        "canCashTicket": false,
        "canUseDiscountDTO": {
          "canUseWithOtherDiscount": false,
          "forHereDiscount": null,
          "shoppingMallDiscount": null,
          "takeOutDiscount": null,
          "wineTourDiscount": null
        },
        "canUseWithOtherDiscount": false,
        "conditionType": null,
        "couponSubType": 11,
        "couponTemplateId": 1003100,
        "couponTemplateStatus": 1,
        "couponType": 1,
        "desc": "测试代金券备注-openapi",
        "discountLimitType": 1,
        "discountLimitValue": null,
        "errorCode": null,
        "errorMessage": null,
        "explain": null,
        "isCanSend": null,
        "maxCashTicketAmt": null,
        "maxGoodsNumber": null,
        "minCashTicketAmt": null,
        "minGoodsNumber": null,
        "name": "测试代金券-openapi",
        "orderDeductList": [
          23,
          24,
          25
        ],
        "platformType": 1,
        "pricingType": 2,
        "receiveCouponInfos": [
          {
            "code": "02838318653358039043",
            "couponTemplateId": 1003100,
            "discountAmount": 10,
            "discountDuration": null,
            "effectTime": "2024-11-18 14:51:24",
            "expireTime": "2025-10-30 18:00:05",
            "name": "测试代金券-openapi",
            "publishTime": null,
            "useDurationThreshold": null,
            "useThreshold": null,
            "wid": 4590952
          }
        ],
        "reducePriceType": 1,
        "shippingMethods": null,
        "skuInfos": [
          {
            "channel": null,
            "channelName": null,
            "defaultImageUrl": null,
            "goodsId": 16484988948,
            "itemTitle": null,
            "productId": 145,
            "salePrice": null,
            "skuId": 2131425,
            "specValueInfo": null,
            "vid": 6013540415319
          }
        ],
        "subName": "",
        "superpositionRule": {
          "differentSuperposition": false,
          "differentSuperpositionType": null,
          "isSuperposition": false,
          "limit": null,
          "resourceTemplateIds": null,
          "sameSuperposition": false
        },
        "thirdTemplateId": "",
        "tradeType": 1,
        "useConditionValue": null,
        "validDate": {
          "subUseTimeType": null,
          "useDelayDays": 0,
          "useEndTime": "2025-10-30 18:00:05",
          "useStartTime": "2024-11-18 14:51:24",
          "useTimeType": 1,
          "validDateDesc": null,
          "validDays": 0
        },
        "vid": 6013540415319,
        "vidInfos": [
          {
            "bosId": null,
            "merchantId": null,
            "parentVids": [],
            "vid": 6013540415319,
            "vidType": 2
          }
        ]
      }
    ],
    "cannotReceiveCouponTemplates": [],
    "unavailableCoupons": [
      {
        "bosId": 4019965204319,
        "canCashTicket": false,
        "canUseDiscountDTO": null,
        "canUseWithOtherDiscount": false,
        "conditionType": null,
        "couponSubType": 11,
        "couponTemplateId": 1001507,
        "couponTemplateStatus": 1,
        "couponType": 1,
        "desc": "测试代金券备注-openapi",
        "discountLimitType": null,
        "discountLimitValue": null,
        "errorCode": null,
        "errorMessage": "订单无可适用商品或门店",
        "explain": null,
        "isCanSend": null,
        "maxCashTicketAmt": null,
        "maxGoodsNumber": null,
        "minCashTicketAmt": null,
        "minGoodsNumber": null,
        "name": "测试代金券-openapi",
        "orderDeductList": [
          23,
          24,
          25
        ],
        "platformType": 1,
        "pricingType": null,
        "receiveCouponInfos": [
          {
            "code": "02835638790805446657",
            "couponTemplateId": 1001507,
            "discountAmount": 10,
            "discountDuration": null,
            "effectTime": "2024-11-11 15:45:38",
            "expireTime": "2025-10-30 18:00:05",
            "name": "测试代金券-openapi",
            "publishTime": "2024-11-15 18:28:05",
            "useDurationThreshold": null,
            "useThreshold": null,
            "wid": 4590952
          }
        ],
        "reducePriceType": 1,
        "shippingMethods": null,
        "skuInfos": [],
        "subName": "",
        "superpositionRule": {
          "differentSuperposition": false,
          "differentSuperpositionType": null,
          "isSuperposition": false,
          "limit": null,
          "resourceTemplateIds": null,
          "sameSuperposition": false
        },
        "thirdTemplateId": "",
        "tradeType": null,
        "useConditionValue": null,
        "validDate": {
          "subUseTimeType": null,
          "useDelayDays": 0,
          "useEndTime": "2025-10-30 18:00:05",
          "useStartTime": "2024-11-11 15:45:38",
          "useTimeType": 1,
          "validDateDesc": null,
          "validDays": 0
        },
        "vid": 6013679462319,
        "vidInfos": null
      }
    ]
  },
  "globalTicket": null,
  "monitorTrackId": "9bc755ea-80f1-46fb-99b1-5a59344fbe5f"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|»» errcode|string|true|none||异常编码|
|»» errmsg|string|false|none||异常描述|
|»» bizErrmsg|string|false|none||业务异常描述|
|» data|object|false|none||业务数据|
|»» unavailableCoupons|[object]|false|none||不可用券集合|
|»»» bosId|integer|false|none||bosid|
|»»» vid|integer|false|none||vid|
|»»» name|string|false|none||券名称|
|»»» couponTemplateId|integer|false|none||券模板id|
|»»» thirdTemplateId|string|false|none||三方券id|
|»»» receiveCouponInfos|[[TradeReceivedCouponInfo](#schematradereceivedcouponinfo)]|false|none||券实例信息|
|»»»» code|string|false|none||优惠券码|
|»»»» name|string|false|none||名称|
|»»»» couponTemplateId|integer|false|none||券模板id|
|»»»» discountAmount|number|false|none||优惠金额|
|»»»» useThreshold|number|false|none||使用门槛|
|»»»» discountDuration|number|false|none||减免时长 单位分|
|»»»» useDurationThreshold|number|false|none||减免时长门槛 单位分|
|»»»» wid|integer|false|none||领取用户wid|
|»»»» publishTime|string|false|none||领取时间|
|»»»» expireTime|string|false|none||过期时间|
|»»»» effectTime|string|false|none||有效开始时间|
|»»» desc|string|false|none||券描述|
|»»» platformType|integer|false|none||券平台类型|
|»»» couponType|integer|false|none||券类型|
|»»» couponSubType|integer|false|none||券子类型|
|»»» couponTemplateStatus|integer|false|none||券模板状态|
|»»» subName|string|false|none||副标题|
|»»» explain|string|false|none||券说明|
|»»» orderDeductList|[integer]|false|none||下单可使用抵扣|
|»»» canUseWithOtherDiscount|boolean|false|none||是否与其他优惠共享|
|»»» pricingType|integer|false|none||计价类型|
|»»» validDate|[UseValidDate](#schemausevaliddate)|false|none||券的有效期|
|»»»» useTimeType|integer|false|none||时间类型，1：固定，2：动态，3：周期|
|»»»» subUseTimeType|integer|false|none||动态 时间子类型 参考中台 时间类型 UseTimeTypeEnum|
|»»»» useStartTime|string|false|none||使用开始时间|
|»»»» useEndTime|string|false|none||使用结束时间|
|»»»» useDelayDays|integer|false|none||领取后几天生效|
|»»»» validDays|integer|false|none||有效天数|
|»»»» validDateDesc|string|false|none||有效期时间描述<br />eg:领取后3天有效<br />2021/08/12 00:00-2022/08/12 23:59|
|»»» canCashTicket|boolean|false|none||是否开启满元门槛|
|»»» reducePriceType|integer|false|none||减免的类型|
|»»» skuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||商品信息|
|»»»» skuId|integer|false|none||商品 skuid|
|»»»» goodsId|integer|false|none||商品 id|
|»»»» vid|integer|false|none||节点 id|
|»»»» itemTitle|string|false|none||sku名称|
|»»»» specValueInfo|string|false|none||sku信息|
|»»»» salePrice|number|false|none||销售价|
|»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»» channel|integer|false|none||适用对象所属的渠道id，扩展字段|
|»»»» channelName|string|false|none||渠道名称，扩展字段|
|»»»» defaultImageUrl|string|false|none||默认图片|
|»»» vidInfos|[object]|false|none||优惠券作用的vid|
|»»»» merchantId|integer|false|none||merchantid|
|»»»» bosId|integer|false|none||bosid|
|»»»» vid|integer|false|none||节点|
|»»»» vidType|integer|false|none||节点类型|
|»»» minGoodsNumber|integer|false|none||满件最低|
|»»» maxGoodsNumber|integer|false|none||满件最高|
|»»» minCashTicketAmt|number|false|none||随机金额券 最低减免金额|
|»»» maxCashTicketAmt|number|false|none||随机金额券 最高减免金额|
|»»» conditionType|integer|false|none||门槛类型 满元/满件|
|»»» useConditionValue|number|false|none||门槛值|
|»»» errorCode|string|false|none||错误码|
|»»» errorMessage|string|false|none||错误信息|
|»»» isCanSend|boolean|false|none||是否可领取|
|»»» canUseDiscountDTO|[CanUseDiscountDTO](#schemacanusediscountdto)|false|none||可共享的优惠|
|»»»» canUseWithOtherDiscount|boolean|false|none||是否与其他活动共享优惠|
|»»»» shoppingMallDiscount|[integer]|false|none||商城可共享优惠|
|»»»» forHereDiscount|[integer]|false|none||堂食可共享优惠|
|»»»» takeOutDiscount|[integer]|false|none||外卖可共享优惠|
|»»»» wineTourDiscount|[integer]|false|none||酒旅可共享优惠|
|»»» superpositionRule|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)|false|none||叠加规则|
|»»»» isSuperposition|boolean|false|none||是否支持叠加<br />默认不支持|
|»»»» sameSuperposition|boolean|false|none||允许相同券叠加|
|»»»» differentSuperposition|boolean|false|none||允许不相同券叠加|
|»»»» limit|integer|false|none||单笔订单叠加上限|
|»»»» differentSuperpositionType|integer|false|none||允许不同券叠加时，是指定券叠加还是全部券可叠加<br />1均可叠加 2指定可叠加<br />当differentSuperposition=true时有值|
|»»»» resourceTemplateIds|[integer]|false|none||实例里面允许不通过券叠加指定叠加的实例id 设置均可叠加时无此字段|
|»»» discountLimitType|integer|false|none||折扣券优惠上限类型|
|»»» discountLimitValue|number|false|none||折扣券优惠上限|
|»»» tradeType|integer|false|none||是否可跨店结算使用|
|»»» shippingMethods|[integer]|false|none||商品配送类型|
|»» availableCoupons|[[TradeCouponInfo](#schematradecouponinfo)]|false|none||可用并且可领取的集合|
|»»» bosId|integer|false|none||none|
|»»» vid|integer|false|none||none|
|»»» name|string|false|none||券名称|
|»»» couponTemplateId|integer|false|none||券模板id|
|»»» thirdTemplateId|string|false|none||三方券id|
|»»» receiveCouponInfos|[[TradeReceivedCouponInfo](#schematradereceivedcouponinfo)]|false|none||券实例信息|
|»»»» code|string|false|none||优惠券码|
|»»»» name|string|false|none||名称|
|»»»» couponTemplateId|integer|false|none||券模板id|
|»»»» discountAmount|number|false|none||优惠金额|
|»»»» useThreshold|number|false|none||使用门槛|
|»»»» discountDuration|number|false|none||减免时长 单位分|
|»»»» useDurationThreshold|number|false|none||减免时长门槛 单位分|
|»»»» wid|integer|false|none||领取用户wid|
|»»»» publishTime|string|false|none||领取时间|
|»»»» expireTime|string|false|none||过期时间|
|»»»» effectTime|string|false|none||有效开始时间|
|»»» desc|string|false|none||券描述|
|»»» platformType|integer|false|none||券平台类型|
|»»» couponType|integer|false|none||券类型|
|»»» couponSubType|integer|false|none||券子类型|
|»»» couponTemplateStatus|integer|false|none||券模板状态|
|»»» subName|string|false|none||副标题|
|»»» explain|string|false|none||券说明|
|»»» orderDeductList|[integer]|false|none||下单可使用抵扣|
|»»» canUseWithOtherDiscount|boolean|false|none||是否与其他优惠共享|
|»»» pricingType|integer|false|none||计价类型|
|»»» validDate|[UseValidDate](#schemausevaliddate)|false|none||券的有效期|
|»»»» useTimeType|integer|false|none||时间类型，1：固定，2：动态，3：周期|
|»»»» subUseTimeType|integer|false|none||动态 时间子类型 参考中台 时间类型 UseTimeTypeEnum|
|»»»» useStartTime|string|false|none||使用开始时间|
|»»»» useEndTime|string|false|none||使用结束时间|
|»»»» useDelayDays|integer|false|none||领取后几天生效|
|»»»» validDays|integer|false|none||有效天数|
|»»»» validDateDesc|string|false|none||有效期时间描述<br />eg:领取后3天有效<br />2021/08/12 00:00-2022/08/12 23:59|
|»»» canCashTicket|boolean|false|none||是否开启满元门槛|
|»»» reducePriceType|integer|false|none||减免的类型|
|»»» skuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||商品信息|
|»»»» skuId|integer|false|none||商品 skuid|
|»»»» goodsId|integer|false|none||商品 id|
|»»»» vid|integer|false|none||节点 id|
|»»»» itemTitle|string|false|none||sku名称|
|»»»» specValueInfo|string|false|none||sku信息|
|»»»» salePrice|number|false|none||销售价|
|»»»» productId|integer|false|none||适用对象所属的产品id|
|»»»» channel|integer|false|none||适用对象所属的渠道id，扩展字段|
|»»»» channelName|string|false|none||渠道名称，扩展字段|
|»»»» defaultImageUrl|string|false|none||默认图片|
|»»» vidInfos|[[VidInfo1](#schemavidinfo1)]|false|none||优惠券作用的vid|
|»»»» merchantId|integer|false|none||none|
|»»»» bosId|integer|false|none||none|
|»»»» vid|integer|false|none||none|
|»»»» vidType|integer|false|none||none|
|»»»» parentVids|[[VidTypeInfo](#schemavidtypeinfo)]|false|none||none|
|»»»»» vid|integer|false|none||none|
|»»»»» vidCode|string|false|none||vid优先|
|»»»»» vidType|integer|false|none||none|
|»»» minGoodsNumber|integer|false|none||满件最低|
|»»» maxGoodsNumber|integer|false|none||满件最高|
|»»» minCashTicketAmt|number|false|none||随机金额券 最低减免金额|
|»»» maxCashTicketAmt|number|false|none||随机金额券 最高减免金额|
|»»» conditionType|integer|false|none||门槛类型 满元/满件|
|»»» useConditionValue|number|false|none||门槛值|
|»»» errorCode|string|false|none||错误码|
|»»» errorMessage|string|false|none||错误信息|
|»»» isCanSend|boolean|false|none||是否可领取|
|»»» canUseDiscountDTO|[CanUseDiscountDTO](#schemacanusediscountdto)|false|none||可共享的优惠|
|»»»» canUseWithOtherDiscount|boolean|false|none||是否与其他活动共享优惠|
|»»»» shoppingMallDiscount|[integer]|false|none||商城可共享优惠|
|»»»» forHereDiscount|[integer]|false|none||堂食可共享优惠|
|»»»» takeOutDiscount|[integer]|false|none||外卖可共享优惠|
|»»»» wineTourDiscount|[integer]|false|none||酒旅可共享优惠|
|»»» superpositionRule|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)|false|none||叠加规则|
|»»»» isSuperposition|boolean|false|none||是否支持叠加<br />默认不支持|
|»»»» sameSuperposition|boolean|false|none||允许相同券叠加|
|»»»» differentSuperposition|boolean|false|none||允许不相同券叠加|
|»»»» limit|integer|false|none||单笔订单叠加上限|
|»»»» differentSuperpositionType|integer|false|none||允许不同券叠加时，是指定券叠加还是全部券可叠加<br />1均可叠加 2指定可叠加<br />当differentSuperposition=true时有值|
|»»»» resourceTemplateIds|[integer]|false|none||实例里面允许不通过券叠加指定叠加的实例id 设置均可叠加时无此字段|
|»»» discountLimitType|integer|false|none||折扣券优惠上限类型|
|»»» discountLimitValue|number|false|none||折扣券优惠上限|
|»»» tradeType|integer|false|none||是否可跨店结算使用|
|»»» shippingMethods|[integer]|false|none||商品配送类型|
|»» cannotReceiveCouponTemplates|[[TradeCouponInfo](#schematradecouponinfo)]|false|none||可用，但不可领取的集合|
|»»» bosId|integer|false|none||none|
|»»» vid|integer|false|none||none|
|»»» name|string|false|none||券名称|
|»»» couponTemplateId|integer|false|none||券模板id|
|»»» thirdTemplateId|string|false|none||三方券id|
|»»» receiveCouponInfos|[[TradeReceivedCouponInfo](#schematradereceivedcouponinfo)]|false|none||券实例信息|
|»»» desc|string|false|none||券描述|
|»»» platformType|integer|false|none||券平台类型|
|»»» couponType|integer|false|none||券类型|
|»»» couponSubType|integer|false|none||券子类型|
|»»» couponTemplateStatus|integer|false|none||券模板状态|
|»»» subName|string|false|none||副标题|
|»»» explain|string|false|none||券说明|
|»»» orderDeductList|[integer]|false|none||下单可使用抵扣|
|»»» canUseWithOtherDiscount|boolean|false|none||是否与其他优惠共享|
|»»» pricingType|integer|false|none||计价类型|
|»»» validDate|[UseValidDate](#schemausevaliddate)|false|none||券的有效期|
|»»» canCashTicket|boolean|false|none||是否开启满元门槛|
|»»» reducePriceType|integer|false|none||减免的类型|
|»»» skuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||商品信息|
|»»» vidInfos|[[VidInfo1](#schemavidinfo1)]|false|none||优惠券作用的vid|
|»»» minGoodsNumber|integer|false|none||满件最低|
|»»» maxGoodsNumber|integer|false|none||满件最高|
|»»» minCashTicketAmt|number|false|none||随机金额券 最低减免金额|
|»»» maxCashTicketAmt|number|false|none||随机金额券 最高减免金额|
|»»» conditionType|integer|false|none||门槛类型 满元/满件|
|»»» useConditionValue|number|false|none||门槛值|
|»»» errorCode|string|false|none||错误码|
|»»» errorMessage|string|false|none||错误信息|
|»»» isCanSend|boolean|false|none||是否可领取|
|»»» canUseDiscountDTO|[CanUseDiscountDTO](#schemacanusediscountdto)|false|none||可共享的优惠|
|»»» superpositionRule|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)|false|none||叠加规则|
|»»» discountLimitType|integer|false|none||折扣券优惠上限类型|
|»»» discountLimitValue|number|false|none||折扣券优惠上限|
|»»» tradeType|integer|false|none||是否可跨店结算使用|
|»»» shippingMethods|[integer]|false|none||商品配送类型|
|» globalTicket|string|false|none||全局跟踪id|
|» monitorTrackId|string|false|none||单次跟踪id|

## POST 创建券基础模板

POST /weimob_crm/v2.0/coupon/template/basic/create

用于新建优惠券模板，在商户后台优惠券模板列表展示，后续需基于已创建基础模版创建优惠券。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3497&isold=2

> Body 请求参数

```json
"{\n    \"productInstanceId\": 74364976,\n    \"bosId\": 4019965204319,\n    \"vid\": 6013540415319,\n    \"merchantId\": 2000000143319,\n    \"vidType\": 2,\n    \"productId\": 147,\n    \"productVersionId\": 1,\n    \"tcode\": \"weimob\",\n    \"vidCode\": \"\",\n    \"basicInfo\": {\n        \"belongVidCode\": 6013540415319,\n        \"vidType\": 2,\n        \"productId\": 147,\n        \"productVersionId\": 1,\n        \"productInstanceId\": 74364976\n    },\n    \"baseInfo\": {\n        \"couponType\": 1,\n        \"platformType\": 1,\n        \"couponSubType\": null,\n        \"name\": \"1114测试代金券-openapi\",\n        \"couponDesc\": \"测试代金券-openapi\",\n        \"belongVid\": 6013540415319,\n        \"merchantName\": \"weimob1319\"\n    },\n    \"setting\": {\n        \"stockUnlimited\": false,\n        \"codeGenerateType\": 0,\n        \"customCodeSetting\": {}\n    },\n    \"reduceRule\": {\n        \"reducePriceType\": 0,\n        \"cashTicketAmt\": 10,\n        \"pricingType\": 2,\n        \"couponCostType\": 1,\n        \"couponCost\": \"10\",\n        \"discount\": 0,\n        \"freightReduceType\": 1,\n        \"goodsDiscountThreshold\": null\n    },\n    \"sendRule\": {\n        \"hasUserTakeLimit\": false,\n        \"sendTimeType\": 1,\n        \"sendStartDate\": null,\n        \"sendEndDate\": null,\n        \"isPayment\": false, //warn\n        \"customerDirectReceive\": true, //\n        \"recommendStartTime\": null,\n        \"recommendEndTime\": null,\n        \"merchantPublish\": true,\n        \"activityPublish\": true, //\n        \"userTakeLimit\": 1,\n        \"canStoreLaunch\": false,\n        \"crowd\": {\n            \"ruleContent\": \"[]\",\n            \"selectedData\": \"[]\"\n        },\n        \"enterpriseAssistant\": false, //\n        \"hasGuideLimit\": false,\n        \"guideLimitNum\": null,\n        \"hasUserTakeDayLimit\": false,\n        \"userTakeDayLimit\": null,\n        \"giftCountLimit\": null,\n        \"hasGiftLimit\": false,\n        \"scanByIssue\": true,\n        \"isOpenRecommend\": false\n    },\n    \"useRule\": {\n        \"useValidDate\": {\n            \"useTimeType\": 1,\n            \"useStartTime\": null,\n            \"useEndTime\": null,\n            \"validDays\": null,\n            \"useDelayDays\": null,\n            \"subUseTimeType\": 2\n        },\n        \"hasUseThreshold\": true,\n        \"canCashTicket\": false,\n        \"goodsCashTicket\": null,\n        \"superpositionRule\": {\n            \"limit\": 1,\n            \"isSuperposition\": false,\n            \"instanceOverlayType\": 1,\n            \"instanceOverlayInfos\": []\n        },\n        \"orderDeductList\": [\n            1,\n            2,\n            3\n        ],\n        \"isAllTimeUse\": true,\n        \"cycleUseRule\": [],\n        \"canUseDiscount\": {\n            \"canUseWithOtherDiscount\": false,\n            \"shoppingMallDiscount\": []\n        },\n        \"isAllUseScene\": true,\n        \"allSceneDTO\": null,\n        \"usageDesType\": 0\n    },\n    \"otherSetting\": {\n        \"isOpenSystemExplain\": true,\n        \"systemExplain\": \"1. 单商品不允许叠加多张券使用;券不可与其他优惠同享。 \\n\",\n        \"hasMemberTag\": false,\n        \"memberTagIds\": [],\n        \"isOpenMessage\": false\n    },\n    \"openCardConfigure\": null,\n    \"i18n\": {\n        \"language\": \"zh\",\n        \"timezone\": \"+0800\"\n    },\n    \"extendInfo\": {\n        \"source\": 0\n    },\n    \"createInfo\": {\n        \"operatorId\": 1377154974,\n        \"source\": \"商城\"\n    }\n}"
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id（扩展字段）|
|» saasChannel|body|string| 否 |openAPI来源标识(扩展字段)|
|» vidType|body|integer| 是 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 是 |节点id|
|» wid|body|integer| 否 |用户id（B端）|
|» merchantId|body|integer| 是 |店铺merchantId（mnAppId）|
|» baseInfo|body|[CouponTemplateBaseInfoVO7](#schemacoupontemplatebaseinfovo7)| 是 |券模板基础信息|
|»» basicCouponTemplateId|body|integer| 否 |券父模板Id，用于更新基础模板是的参数；更新基础模板时必填|
|»» couponTemplateId|body|integer| 否 |券模板Id，用于更新模板时的参数；更新模板时必填|
|»» couponType|body|integer| 是 |优惠券类型(1.代金券;2.折扣券;3.兑换券)|
|»» platformType|body|integer| 是 |平台类型  1:蒙牛;2 微信 3: 支付宝；（目前统一填 1，代表蒙牛券）|
|»» couponSubType|body|integer| 否 |优惠券子类型 13 商家券  14 无资金 11 线上券 12 线下券 10 默认值（默认填 13，代表蒙牛商家券）|
|»» name|body|string| 是 |优惠券标题|
|»» couponDesc|body|string| 否 |优惠券描述信息|
|»» merchantName|body|string| 否 |商户名称|
|»» belongVid|body|integer| 否 |券归属vid|
|»» belongVidCode|body|string| 否 |belongVid优先|
|»» belongVidName|body|string| 否 |券归属vid名称|
|»» thirdId|body|string| 否 |第三方id扩展字段|
|»» thirdTemplateId|body|string| 否 |是三方券id|
|» reduceRule|body|[CouponTemplateReduceRuleVO6](#schemacoupontemplatereducerulevo6)| 是 |券模板优惠规则|
|»» reducePriceType|body|integer| 否 |减免的类型|
|»» cashTicketAmt|body|number| 否 |代金券减免金额，支持小数点后 2位小数|
|»» maxReducePrice|body|number| 否 |最大减免金额(每满减券才有)，支持小数点后 2位小数|
|»» discount|body|number| 否 |折扣券减免折扣，支持小数点后 2位小数|
|»» discountLimitType|body|integer| 否 |折扣券：优惠上限类型 (1无上限；2最多优惠件；3最多优惠元)|
|»» discountLimitValue|body|number| 否 |折扣券优惠上限值，支持小数点后 2位小数|
|»» minCashTicketAmt|body|number| 否 |随机金额券 最低减免金额，支持小数点后 2位小数|
|»» maxCashTicketAmt|body|number| 否 |随机金额券 最高减免金额，支持小数点后 2位小数|
|»» couponCostType|body|integer| 否 |成本类型： 1.固定金额 2.百分比 (传显示的数值)|
|»» couponCost|body|number| 否 |成本金额 or 比例，支持小数点后 2位小数|
|»» pricingType|body|integer| 否 |计价方式 默认销售价 (兑换券无此字段) ；(1, "市场价"),(2, "销售价");|
|»» costOfOrganization|body|number| 否 |成本分摊，归属组织；支持小数点后 2位小数|
|»» costOfStore|body|number| 否 |成本分摊，归属门店；支持小数点后 2位小数|
|»» freeOfPostage|body|boolean| 否 |运费券是否整单包邮|
|»» freightReduceType|body|integer| 否 |运费券减免类型，(1, "满X元减N元运费"),(2, "固定减免特定金额运费【即无门槛减N元运费】"),(3, "满X元包邮"),(4, "整单免邮"),(5, "排除超过特定金额的运费");|
|» sendRule|body|[CouponTemplateSendRuleVO5](#schemacoupontemplatesendrulevo5)| 是 |券模板发放规则|
|»» sendTimeType|body|integer| 否 |发放时间类型 (1无限制；2固定时间)|
|»» sendStartDate|body|string| 否 |发放开始时间，格式为时间戳，单位：毫秒。发放时间类型为固定时间时必填。|
|»» sendEndDate|body|string| 否 |发放结束时间，格式为时间戳，单位：毫秒。发放时间类型为固定时间时必填。|
|»» isPayment|body|boolean| 是 |是否付费|
|»» sendChannels|body|[integer]| 否 |发放场景：1 店铺直接领取；2 活动发券；3 商家发券；4 导购发券；5 客户列表发券；6 客服送券|
|»» recommendStartTime|body|string| 否 |推荐领取开始时间，单位时间戳(精确毫秒)|
|»» recommendEndTime|body|string| 否 |推荐领取结束时间，单位时间戳(精确毫秒)|
|»» isAcceptAllCrowd|body|boolean| 否 |适用人群类型：是否适用全部人群（付费券为全部人群）|
|»» crowd|body|[Crowd](#schemacrowd)| 否 |适用人群|
|»»» ruleContent|body|string| 否 |规则内容 json|
|»»» selectedData|body|string| 否 |选择内容 json|
|»»» ruleId|body|integer| 否 |人群id|
|»» canStoreLaunch|body|boolean| 否 |是否允许下级投放|
|»» hasUserTakeLimit|body|boolean| 否 |是否有限领，默认true|
|»» userTakeLimit|body|integer| 否 |用户限领优惠券张数|
|»» hasUserTakeDayLimit|body|boolean| 否 |用户每日限领|
|»» userTakeDayLimit|body|integer| 否 |用户每日限领数量|
|»» canGift|body|boolean| 否 |是否可以转赠（SaaS券、微信券）|
|»» canShare|body|boolean| 否 |是否可以分享领取|
|»» storeLimitNum|body|integer| 否 |单店最多发放数量|
|»» merchantIssueChannels|body|[integer]| 否 |商家发券渠道二级渠道|
|»» merchantPublish|body|boolean| 否 |商家发券|
|»» shoppingPublish|body|boolean| 否 |导购发券|
|»» customerListPublish|body|boolean| 否 |客户列表发券|
|»» servicePublish|body|boolean| 否 |客服发券|
|»» activityPublish|body|boolean| 否 |活动发券|
|»» customerDirectReceive|body|boolean| 否 |是否客户直接领取|
|»» scanByIssue|body|boolean| 否 |扫码购|
|»» enterpriseAssistant|body|boolean| 否 |企微助手|
|»» wechatLiveIssue|body|boolean| 否 |视频号发券渠道|
|»» merchantDelivery|body|boolean| 否 |运费券的配送方式：商家配送|
|»» limitedTimeDelivery|body|boolean| 否 |运费券的配送方式：同城限时达|
|»» hasGiftLimit|body|boolean| 否 |是否限制转增次数，true为限制|
|»» giftCountLimit|body|integer| 否 |当限制转增次数时，券的转增次数|
|»» isOpenRecommend|body|boolean| 否 |是否开启推荐|
|» useRule|body|[CouponTemplateUseRuleVO3](#schemacoupontemplateuserulevo3)| 是 |券模板使用规则|
|»» useValidDate|body|[UseValidDate4](#schemausevaliddate4)| 是 |券使用有效期|
|»»» useTimeType|body|integer| 否 |时间类型，1：固定，2：动态，3：周期|
|»»» subUseTimeType|body|integer| 否 |可用时间子类型；/**|
|»»» useStartTime|body|string| 否 |使用开始时间，单位时间戳(精确毫秒)|
|»»» useEndTime|body|string| 否 |使用结束时间，单位时间戳(精确毫秒)|
|»»» useDelayDays|body|integer| 否 |领取后几天生效，正整数|
|»»» validDays|body|integer| 否 |有效天数，正整数|
|»»» validDateDesc|body|string| 否 |有效期时间描述|
|»» hasUseThreshold|body|boolean| 否 |是否使用有门槛|
|»» canCashTicket|body|boolean| 否 |是否开启满元门槛|
|»» goodsCashTicket|body|number| 否 |商品金额满元门槛；支持 2 位小数|
|»» canGoodsNumber|body|boolean| 否 |是否开启满件门槛|
|»» minGoodsNumber|body|integer| 否 |满件最低|
|»» maxGoodsNumber|body|integer| 否 |满件最高|
|»» acceptTypeDTO|body|object| 是 |适用类型dto|
|»» isAllUseScene|body|boolean| 否 |是否是全部核销场景|
|»» allSceneDTO|body|[AllSceneDTO](#schemaallscenedto)| 否 |核销场景：商城、堂食、外卖、酒旅|
|»»» productIds|body|[integer]| 否 |业务线的枚举|
|»»» shoppingMallSceneList|body|[integer]| 否 |商城的核销场景   枚举：扫码购  网上订单  商家开单  卖家直接消费  商家直接消费  APP&收银台核销  API核销|
|»»» forHereSceneList|body|[integer]| 否 |堂食的核销场景|
|»»» takeOutSceneList|body|[integer]| 否 |外卖的核销场景|
|»»» WineTourSceneList|body|[integer]| 否 |酒旅的核销场景|
|»» isAllTimeUse|body|boolean| 否 |可用时段类型核销|
|»» cycleUseRule|body|[[UsableTimeRuleDTO](#schemausabletimeruledto)]| 否 |部分时段可核销|
|»»» weekDay|body|[integer]| 否 |适用时段的周期时间。1 至 7 对应周一至周日，多天用,隔开。|
|»»» timeSegment|body|[[TimeSegmentDTO](#schematimesegmentdto)]| 否 |时间段|
|»»»» beginHour|body|integer| 否 |开始时间点，小时，0-23|
|»»»» endHour|body|integer| 否 |结束时间点，小时，0-23|
|»»»» beginMinute|body|integer| 否 |开始时间点，分钟，0-59|
|»»»» endMinute|body|integer| 否 |结束时间点，分钟，0-59|
|»»» dates|body|[string]| 否 |日期（日期是不包含时间的）|
|»»» festivals|body|[string]| 否 |节日|
|»» superpositionRule|body|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)| 否 |叠加规则|
|»»» isSuperposition|body|boolean| 否 |是否支持叠加|
|»»» sameSuperposition|body|boolean| 否 |允许相同券叠加|
|»»» differentSuperposition|body|boolean| 否 |允许不相同券叠加|
|»»» limit|body|integer| 否 |单笔订单叠加上限|
|»»» differentSuperpositionType|body|integer| 否 |允许不同券叠加时，是指定券叠加还是全部券可叠加|
|»»» resourceTemplateIds|body|[integer]| 否 |实例里面允许不通过券叠加指定叠加的实例id 设置均可叠加时无此字段|
|»» canUseDiscount|body|[CanUseDiscountVO](#schemacanusediscountvo)| 否 |可共享的优惠|
|»»» canUseWithOtherDiscount|body|boolean| 否 |是否与其他活动共享优惠|
|»»» shoppingMallDiscount|body|[integer]| 否 |商城可共享优惠|
|»»» forHereDiscount|body|[integer]| 否 |堂食可共享优惠|
|»»» takeOutDiscount|body|[integer]| 否 |外卖可共享优惠|
|»»» wineTourDiscount|body|[integer]| 否 |酒旅可共享优惠|
|»» orderDeductList|body|[integer]| 否 |下单可同时使用抵扣(1积分;2余额;3礼品卡)|
|»» importGoodsFlag|body|boolean| 否 |是否是导入商品；不支持|
|»» importGoodsFileName|body|string| 否 |导入文件名；不支持|
|» createInfo|body|object| 是 |模板创建信息|
|»» operatorId|body|integer| 是 |操作人id，如果没有，填 1，表示中台 openapi 操作|
|»» source|body|string| 否 |来源|

#### 详细说明

**»» thirdTemplateId**: 是三方券id
优先取此字段

**»» reducePriceType**: 减免的类型
0 无门槛固定减免金额
1 固定减免金额
2 每满多少减多少

**»» merchantIssueChannels**: 商家发券渠道二级渠道
仅详情/编辑,用来给前端展示（扩展字段）

**»»» subUseTimeType**: 可用时间子类型；/**
     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，
     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 12:30:30
     * <p/>
     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，
     * 则券生效时间为2023-07-26 12:30:30~2023-07-28 12:30:30
     */
    DYNAMIC(2, "动态(指定时间：N天内有效)"),
    /**
     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，
     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 23:59:59
     * <p/>
     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，
     * 则券生效时间为2023-07-26 00:00:00~2023-07-28 23:59:59
     */
    DYNAMIC_NATURAL_DAY(21, "动态(指定时间：N天自然日内有效)"),
    AFTER_MONTH(4, "动态（指定时间：n个月内有效）"),
    CURRENT_MONTH(5, "动态（指定时间：当前月有效)"),
    PERMANENT(6, "永久有效"),

**»»» validDateDesc**: 有效期时间描述
eg:领取后3天有效
2021/08/12 00:00-2022/08/12 23:59

**»» isAllTimeUse**: 可用时段类型核销
是否是全部时段

**»»» dates**: 日期（日期是不包含时间的）
如：2023-06-14

**»»» isSuperposition**: 是否支持叠加
默认不支持

**»»» differentSuperpositionType**: 允许不同券叠加时，是指定券叠加还是全部券可叠加
1均可叠加 2指定可叠加
当differentSuperposition=true时有值

#### 枚举值

|属性|值|
|---|---|
|»» sendChannels|DEFAULT_CHANNEL|
|»» sendChannels|STORE_DIRECT_COLLECT|
|»» sendChannels|ACTIVITY_PUBLISH_COUPON|
|»» sendChannels|MERCHANT_ISSUE_COUPON|
|»» sendChannels|PAYMENT_COUPON|
|»» sendChannels|SHOPPING_GUIDE_SEND_COUPON|
|»» sendChannels|MEMBER_LIST_SEND_COUPON|
|»» sendChannels|CUSTOMER_SERVICE_SEND_COUPON|
|»» sendChannels|ENTERPRISE_ASSISTANT_VOUCHER_DELIVERY|
|»» sendChannels|SCAN_BY_ISSUE|
|»» sendChannels|LIVE_VIDEO|
|»» merchantDelivery|false|
|»» merchantDelivery|false|
|»» limitedTimeDelivery|false|
|»» limitedTimeDelivery|false|
|»»» shoppingMallSceneList|MICRO_MALL|
|»»» shoppingMallSceneList|O2O_RESTAURANT|
|»»» shoppingMallSceneList|MICRO_MALL_APP|
|»»» shoppingMallSceneList|SMART_HOTEL|
|»»» shoppingMallSceneList|TRAVEL|
|»»» shoppingMallSceneList|SUPER_BUSINESS_ALLIANCE|
|»»» shoppingMallSceneList|MICRO_MALL_API|
|»»» shoppingMallSceneList|MICRO_MALL_C_TERMINAL|
|»»» shoppingMallSceneList|MICRO_MALL_B_TERMINAL|
|»»» shoppingMallSceneList|MICRO_MALL_BUSINESS_BILLING|
|»»» shoppingMallSceneList|MARKETING_CLOUD|
|»»» shoppingMallSceneList|CODE_SCANNING_PURCHASE|
|»»» shoppingMallSceneList|IN_STORE|
|»»» shoppingMallSceneList|APP_COLLECTION|
|»»» shoppingMallSceneList|PAYMENT_AND_COLLECTION|
|»»» shoppingMallSceneList|SERVICE_ITEMS|
|»»» shoppingMallSceneList|TAKEOUT_TOSTORE|
|»»» shoppingMallSceneList|GROUP_MEAL|
|»»» shoppingMallSceneList|APP_SUPPLEMENTARY_TRANSACTION|
|»»» shoppingMallSceneList|POS_COLLECTION|
|»»» shoppingMallSceneList|SELF_CHECKOUT|
|»»» shoppingMallSceneList|THIRD_PARTY_ORDERS|
|»»» shoppingMallSceneList|ENTERPRISE_DELIVERY|
|»»» shoppingMallSceneList|OFFLINE_VENDING_MACHINE|
|»»» shoppingMallSceneList|COOPERATION_BETWEEN_DIFFERENT_INDUSTRIES|
|»»» shoppingMallSceneList|C_TERMINAL_APPLET|
|»»» shoppingMallSceneList|B_TERMINA_CASHIER|
|»»» shoppingMallSceneList|ALIPAY_CHANNEL|
|»»» shoppingMallSceneList|EC_MEMBERSHIP|
|»»» shoppingMallSceneList|SHOPPING_GUIDE_SEND_COUPON|
|»»» shoppingMallSceneList|MEMBER_LIST_SEND_COUPON|
|»»» shoppingMallSceneList|CUSTOMER_SERVICE_SEND_COUPON|
|»»» festivals|L0101|
|»»» festivals|L0505|
|»»» festivals|L0815|
|»»» festivals|Q8|
|»»» festivals|S0101|
|»»» festivals|S0501|
|»»» festivals|S1001|
|»»» resourceTemplateIds|ALL|
|»»» resourceTemplateIds|SPECIFIED|
|»» orderDeductList|INTEGRAL|
|»» orderDeductList|BALANCE|
|»» orderDeductList|SAVING_CARD|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "basicCouponTemplateId": 1004404
  },
  "globalTicket": null,
  "monitorTrackId": "e93a49bc-b56f-44d6-9025-901ded886611"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseCreateBasicCouponTemplateVO](#schemaopenexportresponsecreatebasiccoupontemplatevo)|

## POST 更新券基础模板

POST /weimob_crm/v2.0/coupon/template/basic/update

用于更新商户后台指定的优惠券模板，同时也会更新优惠券模板下面所有优惠券。
（外部想修改优惠券的基础模板信息，比如适用商品、适用门店，必须修改基础模板信息，可调用本接口。）
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3498&isold=2

2、可修改配置
- 1 券成本：可变更类型或值
- 2 适用商品：可变更类型或值
- 3 兑换商品：可变更类型或值
- 4 适用门店：可变更类型或值
- 5 发券渠道
- 6 下单可抵用
- 7 领券打标签
- 8 核销场景
- 9 使用规则叠加
- 10 共享优惠
- 11 使用说明

> Body 请求参数

```json
"{\n    \"merchantId\": 2000000143319,\n    \"bosId\": 4020068801319,\n    \"vid\": 6013679462319,\n    \"vidType\": 2,\n    \"productId\": 147,\n    \"productVersionId\": 1,\n    \"productInstanceId\": 74364976,\n    \"tcode\": \"weimob\"\n    // }\n    ,\n    \"baseInfo\": {\n        \"couponType\": 1,\n        \"platformType\": 1,\n        \"couponSubType\": null,\n        \"name\": \"券模板修改\",\n        \"couponDesc\": \"券模板修改\",\n        // \"belongVid\": 6013540415319,\n        \"merchantName\": \"QA-私有化专属店铺\",\n        // 更新基础模板时必填\n        \"basicCouponTemplateId\": \"1002500\"\n        // ,\"couponTemplateId\":\"1002500\"\n        // // \"basicTemplateIds\": [\n        //     1002500\n        // ]\n    },\n    \"setting\": {\n        \"customCodeSetting\": {}\n    },\n    \"reduceRule\": {\n        \"reducePriceType\": 0,\n        \"cashTicketAmt\": 11,\n        \"pricingType\": 2,\n        \"couponCostType\": 1,\n        \"couponCost\": 22,\n        \"costOfOrganization\": \"11\",\n        \"costOfStore\": 89,\n        \"discount\": 0,\n        \"freightReduceType\": null,\n        \"goodsDiscountThreshold\": null\n    },\n    \"sendRule\": {\n        \"hasUserTakeLimit\": true,\n        \"sendTimeType\": 2,\n        \"sendStartDate\": 1730268000000,\n        \"sendEndDate\": 1731045600000,\n        \"isPayment\": true,\n        \"customerDirectReceive\": true,\n        \"recommendStartTime\": null,\n        \"recommendEndTime\": null,\n        \"merchantPublish\": true,\n        \"storeLimitNum\": 0,\n        \"shoppingPublish\": null,\n        \"servicePublish\": null,\n        \"activityPublish\": true,\n        \"userTakeLimit\": null,\n        \"canStoreLaunch\": false,\n        \"canShare\": false,\n        \"isAcceptAllCrowd\": true,\n        \"crowd\": {\n            \"ruleContent\": \"\",\n            \"selectedData\": \"\"\n        },\n        \"canGift\": false,\n        \"enterpriseAssistant\": true,\n        \"hasGuideLimit\": false,\n        \"guideLimitNum\": null,\n        \"hasUserTakeDayLimit\": false,\n        \"userTakeDayLimit\": null,\n        \"giftCountLimit\": null,\n        \"hasGiftLimit\": false,\n        \"isOpenRecommend\": false\n    },\n    \"useRule\": {\n        \"useValidDate\": {\n            \"useStartTime\": null,\n            \"useEndTime\": null\n        },\n        \"canCashTicket\": false,\n        \"goodsCashTicket\": null,\n        \"minGoodsNumber\": null,\n        \"maxGoodsNumber\": null,\n        \"superpositionRule\": {\n            \"sameSuperposition\": null,\n            \"differentSuperposition\": null,\n            \"limit\": 1,\n            \"isSuperposition\": null,\n            \"instanceOverlayType\": 1,\n            \"instanceOverlayInfos\": []\n        },\n        \"orderDeductList\": null,\n        \"isAllTimeUse\": null,\n        \"cycleUseRule\": \"\",\n        \"canUseDiscount\": {\n            \"canUseWithOtherDiscount\": null,\n            \"shoppingMallDiscount\": []\n        },\n        \"isAllUseScene\": null,\n        \"allSceneDTO\": null,\n        \"usageDesType\": null\n    },\n    \"otherSetting\": {\n        \"isOpenSystemExplain\": true,\n        \"explain\": null,\n        \"systemExplain\": \"1. 单商品不允许叠加多张券使用;券可与其他优惠同享。 \\n\",\n        \"hasMemberTag\": false,\n        \"memberTagIds\": [],\n        \"isOpenMessage\": false,\n        \"wechatLiveNickName\": null\n    },\n    \"openCardConfigure\": null,\n    \"i18n\": {\n        \"language\": \"zh\",\n        \"timezone\": \"+0800\"\n    },\n    \"extendInfo\": {\n        \"source\": 0\n    },\n    \"createInfo\": {\n        \"operatorId\": 1043013082,\n        \"source\": \"商城\"\n    }\n}"
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id（扩展字段）|
|» saasChannel|body|string| 否 |openAPI来源标识（扩展字段）|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» wid|body|integer| 否 |B端用户id|
|» merchantId|body|integer| 是 |店铺merchantId（对应 mnAppId）|
|» baseInfo|body|object| 是 |券模板基础信息|
|»» basicCouponTemplateId|body|integer| 是 |券父模板Id，用于更新基础模板是的参数|
|»» basicCouponTemplateIdList|body|[integer]| 否 |券基础模板Id List，用于新建模板时的参数，创建模板时填|
|»» couponTemplateId|body|integer| 否 |券模板Id，用于更新模板是的参数|
|»» couponType|body|integer| 否 |优惠券类型(1.代金券;2.折扣券;3.兑换券)|
|»» platformType|body|integer| 是 |平台类型  1:微盟 ;2 微信 3: 支付宝|
|»» couponSubType|body|integer| 否 |优惠券子类型 13 商家券  14 无资金 11 线上券 12 线下券 10 默认值（默认填 13 商家券）|
|»» name|body|string| 是 |优惠券标题|
|»» couponDesc|body|string| 否 |优惠券描述信息|
|»» merchantName|body|string| 否 |商户名称|
|»» belongVid|body|integer| 否 |券归属vid|
|»» belongVidCode|body|string| 否 |belongVid优先|
|»» belongVidName|body|string| 否 |券归属vid名称|
|»» thirdId|body|string| 否 |第三方id，扩展字段|
|»» thirdTemplateId|body|string| 否 |是三方券id，优先取此字段|
|» reduceRule|body|[CouponTemplateReduceRuleVO6](#schemacoupontemplatereducerulevo6)| 是 |券模板优惠规则|
|»» reducePriceType|body|integer| 否 |减免的类型|
|»» cashTicketAmt|body|number| 否 |代金券减免金额，支持小数点后 2位小数|
|»» maxReducePrice|body|number| 否 |最大减免金额(每满减券才有)，支持小数点后 2位小数|
|»» discount|body|number| 否 |折扣券减免折扣，支持小数点后 2位小数|
|»» discountLimitType|body|integer| 否 |折扣券：优惠上限类型 (1无上限；2最多优惠件；3最多优惠元)|
|»» discountLimitValue|body|number| 否 |折扣券优惠上限值，支持小数点后 2位小数|
|»» minCashTicketAmt|body|number| 否 |随机金额券 最低减免金额，支持小数点后 2位小数|
|»» maxCashTicketAmt|body|number| 否 |随机金额券 最高减免金额，支持小数点后 2位小数|
|»» couponCostType|body|integer| 否 |成本类型： 1.固定金额 2.百分比 (传显示的数值)|
|»» couponCost|body|number| 否 |成本金额 or 比例，支持小数点后 2位小数|
|»» pricingType|body|integer| 否 |计价方式 默认销售价 (兑换券无此字段) ；(1, "市场价"),(2, "销售价");|
|»» costOfOrganization|body|number| 否 |成本分摊，归属组织；支持小数点后 2位小数|
|»» costOfStore|body|number| 否 |成本分摊，归属门店；支持小数点后 2位小数|
|»» freeOfPostage|body|boolean| 否 |运费券是否整单包邮|
|»» freightReduceType|body|integer| 否 |运费券减免类型，(1, "满X元减N元运费"),(2, "固定减免特定金额运费【即无门槛减N元运费】"),(3, "满X元包邮"),(4, "整单免邮"),(5, "排除超过特定金额的运费");|
|» sendRule|body|[CouponTemplateSendRuleVO5](#schemacoupontemplatesendrulevo5)| 是 |券模板发放规则|
|»» sendTimeType|body|integer| 否 |发放时间类型 (1无限制；2固定时间)|
|»» sendStartDate|body|string| 否 |发放开始时间，格式为时间戳，单位：毫秒。发放时间类型为固定时间时必填。|
|»» sendEndDate|body|string| 否 |发放结束时间，格式为时间戳，单位：毫秒。发放时间类型为固定时间时必填。|
|»» isPayment|body|boolean| 是 |是否付费|
|»» sendChannels|body|[integer]| 否 |发放场景：1 店铺直接领取；2 活动发券；3 商家发券；4 导购发券；5 客户列表发券；6 客服送券|
|»» recommendStartTime|body|string| 否 |推荐领取开始时间，单位时间戳(精确毫秒)|
|»» recommendEndTime|body|string| 否 |推荐领取结束时间，单位时间戳(精确毫秒)|
|»» isAcceptAllCrowd|body|boolean| 否 |适用人群类型：是否适用全部人群（付费券为全部人群）|
|»» crowd|body|[Crowd](#schemacrowd)| 否 |适用人群|
|»»» ruleContent|body|string| 否 |规则内容 json|
|»»» selectedData|body|string| 否 |选择内容 json|
|»»» ruleId|body|integer| 否 |人群id|
|»» canStoreLaunch|body|boolean| 否 |是否允许下级投放|
|»» hasUserTakeLimit|body|boolean| 否 |是否有限领，默认true|
|»» userTakeLimit|body|integer| 否 |用户限领优惠券张数|
|»» hasUserTakeDayLimit|body|boolean| 否 |用户每日限领|
|»» userTakeDayLimit|body|integer| 否 |用户每日限领数量|
|»» canGift|body|boolean| 否 |是否可以转赠（SaaS券、微信券）|
|»» canShare|body|boolean| 否 |是否可以分享领取|
|»» storeLimitNum|body|integer| 否 |单店最多发放数量|
|»» merchantIssueChannels|body|[integer]| 否 |商家发券渠道二级渠道|
|»» merchantPublish|body|boolean| 否 |商家发券|
|»» shoppingPublish|body|boolean| 否 |导购发券|
|»» customerListPublish|body|boolean| 否 |客户列表发券|
|»» servicePublish|body|boolean| 否 |客服发券|
|»» activityPublish|body|boolean| 否 |活动发券|
|»» customerDirectReceive|body|boolean| 否 |是否客户直接领取|
|»» scanByIssue|body|boolean| 否 |扫码购|
|»» enterpriseAssistant|body|boolean| 否 |企微助手|
|»» wechatLiveIssue|body|boolean| 否 |视频号发券渠道|
|»» merchantDelivery|body|boolean| 否 |运费券的配送方式：商家配送|
|»» limitedTimeDelivery|body|boolean| 否 |运费券的配送方式：同城限时达|
|»» hasGiftLimit|body|boolean| 否 |是否限制转增次数，true为限制|
|»» giftCountLimit|body|integer| 否 |当限制转增次数时，券的转增次数|
|»» isOpenRecommend|body|boolean| 否 |是否开启推荐|
|» useRule|body|[CouponTemplateUseRuleVO3](#schemacoupontemplateuserulevo3)| 是 |券模板使用规则|
|»» useValidDate|body|[UseValidDate4](#schemausevaliddate4)| 是 |券使用有效期|
|»»» useTimeType|body|integer| 否 |时间类型，1：固定，2：动态，3：周期|
|»»» subUseTimeType|body|integer| 否 |可用时间子类型；/**|
|»»» useStartTime|body|string| 否 |使用开始时间，单位时间戳(精确毫秒)|
|»»» useEndTime|body|string| 否 |使用结束时间，单位时间戳(精确毫秒)|
|»»» useDelayDays|body|integer| 否 |领取后几天生效，正整数|
|»»» validDays|body|integer| 否 |有效天数，正整数|
|»»» validDateDesc|body|string| 否 |有效期时间描述|
|»» hasUseThreshold|body|boolean| 否 |是否使用有门槛|
|»» canCashTicket|body|boolean| 否 |是否开启满元门槛|
|»» goodsCashTicket|body|number| 否 |商品金额满元门槛；支持 2 位小数|
|»» canGoodsNumber|body|boolean| 否 |是否开启满件门槛|
|»» minGoodsNumber|body|integer| 否 |满件最低|
|»» maxGoodsNumber|body|integer| 否 |满件最高|
|»» acceptTypeDTO|body|object| 是 |适用类型dto|
|»» isAllUseScene|body|boolean| 否 |是否是全部核销场景|
|»» allSceneDTO|body|[AllSceneDTO](#schemaallscenedto)| 否 |核销场景：商城、堂食、外卖、酒旅|
|»»» productIds|body|[integer]| 否 |业务线的枚举|
|»»» shoppingMallSceneList|body|[integer]| 否 |商城的核销场景   枚举：扫码购  网上订单  商家开单  卖家直接消费  商家直接消费  APP&收银台核销  API核销|
|»»» forHereSceneList|body|[integer]| 否 |堂食的核销场景|
|»»» takeOutSceneList|body|[integer]| 否 |外卖的核销场景|
|»»» WineTourSceneList|body|[integer]| 否 |酒旅的核销场景|
|»» isAllTimeUse|body|boolean| 否 |可用时段类型核销|
|»» cycleUseRule|body|[[UsableTimeRuleDTO](#schemausabletimeruledto)]| 否 |部分时段可核销|
|»»» weekDay|body|[integer]| 否 |适用时段的周期时间。1 至 7 对应周一至周日，多天用,隔开。|
|»»» timeSegment|body|[[TimeSegmentDTO](#schematimesegmentdto)]| 否 |时间段|
|»»»» beginHour|body|integer| 否 |开始时间点，小时，0-23|
|»»»» endHour|body|integer| 否 |结束时间点，小时，0-23|
|»»»» beginMinute|body|integer| 否 |开始时间点，分钟，0-59|
|»»»» endMinute|body|integer| 否 |结束时间点，分钟，0-59|
|»»» dates|body|[string]| 否 |日期（日期是不包含时间的）|
|»»» festivals|body|[string]| 否 |节日|
|»» superpositionRule|body|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)| 否 |叠加规则|
|»»» isSuperposition|body|boolean| 否 |是否支持叠加|
|»»» sameSuperposition|body|boolean| 否 |允许相同券叠加|
|»»» differentSuperposition|body|boolean| 否 |允许不相同券叠加|
|»»» limit|body|integer| 否 |单笔订单叠加上限|
|»»» differentSuperpositionType|body|integer| 否 |允许不同券叠加时，是指定券叠加还是全部券可叠加|
|»»» resourceTemplateIds|body|[integer]| 否 |实例里面允许不通过券叠加指定叠加的实例id 设置均可叠加时无此字段|
|»» canUseDiscount|body|[CanUseDiscountVO](#schemacanusediscountvo)| 否 |可共享的优惠|
|»»» canUseWithOtherDiscount|body|boolean| 否 |是否与其他活动共享优惠|
|»»» shoppingMallDiscount|body|[integer]| 否 |商城可共享优惠|
|»»» forHereDiscount|body|[integer]| 否 |堂食可共享优惠|
|»»» takeOutDiscount|body|[integer]| 否 |外卖可共享优惠|
|»»» wineTourDiscount|body|[integer]| 否 |酒旅可共享优惠|
|»» orderDeductList|body|[integer]| 否 |下单可同时使用抵扣(1积分;2余额;3礼品卡)|
|»» importGoodsFlag|body|boolean| 否 |是否是导入商品；不支持|
|»» importGoodsFileName|body|string| 否 |导入文件名；不支持|
|» createInfo|body|object| 是 |模板创建信息|
|»» createTime|body|string| 否 |创建时间；时间格式  yyyy-MM-dd HH:mm:ss|
|»» createChannel|body|integer| 否 |创建渠道|
|»» operatorId|body|integer| 是 |操作人id|
|»» requestChannel|body|integer| 否 |请求渠道|
|»» source|body|string| 是 |来源；扩展字段|
|» vidCode|body|string| 否 |vid优先|

#### 详细说明

**»» basicCouponTemplateId**: 券父模板Id，用于更新基础模板是的参数
更新基础模板时必填

**»» couponTemplateId**: 券模板Id，用于更新模板是的参数
更新模板时必填

**»» reducePriceType**: 减免的类型
0 无门槛固定减免金额
1 固定减免金额
2 每满多少减多少

**»» merchantIssueChannels**: 商家发券渠道二级渠道
仅详情/编辑,用来给前端展示（扩展字段）

**»»» subUseTimeType**: 可用时间子类型；/**
     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，
     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 12:30:30
     * <p/>
     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，
     * 则券生效时间为2023-07-26 12:30:30~2023-07-28 12:30:30
     */
    DYNAMIC(2, "动态(指定时间：N天内有效)"),
    /**
     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，
     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 23:59:59
     * <p/>
     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，
     * 则券生效时间为2023-07-26 00:00:00~2023-07-28 23:59:59
     */
    DYNAMIC_NATURAL_DAY(21, "动态(指定时间：N天自然日内有效)"),
    AFTER_MONTH(4, "动态（指定时间：n个月内有效）"),
    CURRENT_MONTH(5, "动态（指定时间：当前月有效)"),
    PERMANENT(6, "永久有效"),

**»»» validDateDesc**: 有效期时间描述
eg:领取后3天有效
2021/08/12 00:00-2022/08/12 23:59

**»» isAllTimeUse**: 可用时段类型核销
是否是全部时段

**»»» dates**: 日期（日期是不包含时间的）
如：2023-06-14

**»»» isSuperposition**: 是否支持叠加
默认不支持

**»»» differentSuperpositionType**: 允许不同券叠加时，是指定券叠加还是全部券可叠加
1均可叠加 2指定可叠加
当differentSuperposition=true时有值

**»» createChannel**: 创建渠道
1:B端后台,2:openapi,3:旺铺迁移,4:直播APP,5:异业平台-计划申领（默认填 2）

**»» requestChannel**: 请求渠道
目前用于业务方告知请求渠道信息，发送OpenAPI消息；默认填 2

#### 枚举值

|属性|值|
|---|---|
|»» sendChannels|DEFAULT_CHANNEL|
|»» sendChannels|STORE_DIRECT_COLLECT|
|»» sendChannels|ACTIVITY_PUBLISH_COUPON|
|»» sendChannels|MERCHANT_ISSUE_COUPON|
|»» sendChannels|PAYMENT_COUPON|
|»» sendChannels|SHOPPING_GUIDE_SEND_COUPON|
|»» sendChannels|MEMBER_LIST_SEND_COUPON|
|»» sendChannels|CUSTOMER_SERVICE_SEND_COUPON|
|»» sendChannels|ENTERPRISE_ASSISTANT_VOUCHER_DELIVERY|
|»» sendChannels|SCAN_BY_ISSUE|
|»» sendChannels|LIVE_VIDEO|
|»» merchantDelivery|false|
|»» merchantDelivery|false|
|»» limitedTimeDelivery|false|
|»» limitedTimeDelivery|false|
|»»» shoppingMallSceneList|MICRO_MALL|
|»»» shoppingMallSceneList|O2O_RESTAURANT|
|»»» shoppingMallSceneList|MICRO_MALL_APP|
|»»» shoppingMallSceneList|SMART_HOTEL|
|»»» shoppingMallSceneList|TRAVEL|
|»»» shoppingMallSceneList|SUPER_BUSINESS_ALLIANCE|
|»»» shoppingMallSceneList|MICRO_MALL_API|
|»»» shoppingMallSceneList|MICRO_MALL_C_TERMINAL|
|»»» shoppingMallSceneList|MICRO_MALL_B_TERMINAL|
|»»» shoppingMallSceneList|MICRO_MALL_BUSINESS_BILLING|
|»»» shoppingMallSceneList|MARKETING_CLOUD|
|»»» shoppingMallSceneList|CODE_SCANNING_PURCHASE|
|»»» shoppingMallSceneList|IN_STORE|
|»»» shoppingMallSceneList|APP_COLLECTION|
|»»» shoppingMallSceneList|PAYMENT_AND_COLLECTION|
|»»» shoppingMallSceneList|SERVICE_ITEMS|
|»»» shoppingMallSceneList|TAKEOUT_TOSTORE|
|»»» shoppingMallSceneList|GROUP_MEAL|
|»»» shoppingMallSceneList|APP_SUPPLEMENTARY_TRANSACTION|
|»»» shoppingMallSceneList|POS_COLLECTION|
|»»» shoppingMallSceneList|SELF_CHECKOUT|
|»»» shoppingMallSceneList|THIRD_PARTY_ORDERS|
|»»» shoppingMallSceneList|ENTERPRISE_DELIVERY|
|»»» shoppingMallSceneList|OFFLINE_VENDING_MACHINE|
|»»» shoppingMallSceneList|COOPERATION_BETWEEN_DIFFERENT_INDUSTRIES|
|»»» shoppingMallSceneList|C_TERMINAL_APPLET|
|»»» shoppingMallSceneList|B_TERMINA_CASHIER|
|»»» shoppingMallSceneList|ALIPAY_CHANNEL|
|»»» shoppingMallSceneList|EC_MEMBERSHIP|
|»»» shoppingMallSceneList|SHOPPING_GUIDE_SEND_COUPON|
|»»» shoppingMallSceneList|MEMBER_LIST_SEND_COUPON|
|»»» shoppingMallSceneList|CUSTOMER_SERVICE_SEND_COUPON|
|»»» festivals|L0101|
|»»» festivals|L0505|
|»»» festivals|L0815|
|»»» festivals|Q8|
|»»» festivals|S0101|
|»»» festivals|S0501|
|»»» festivals|S1001|
|»»» resourceTemplateIds|ALL|
|»»» resourceTemplateIds|SPECIFIED|
|»» orderDeductList|INTEGRAL|
|»» orderDeductList|BALANCE|
|»» orderDeductList|SAVING_CARD|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": true,
  "globalTicket": null,
  "monitorTrackId": "e9ff28b2-ddff-45a2-a097-153200c98017"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBoolean](#schemaopenexportresponseboolean)|

## POST 新建优惠券

POST /weimob_crm/v2.0/coupon/template/create

用于将其他系统的优惠券通过该接口添加到微盟 CRM 优惠券列表。
创建优惠券必须先创建优惠券模板。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3499&isold=2

> Body 请求参数

```json
"{\n    \"productInstanceId\": 74364976,\n    \"bosId\": 4019965204319,\n    \"vid\": 6013540415319,\n    \"merchantId\": 2000000143319,\n    \"vidType\": 2,\n    \"productId\": 147,\n    \"productVersionId\": 1,\n    \"tcode\": \"weimob\",\n    \"version\": 2,\n    \"basicInfo\": {\n        \"belongVidCode\": 6013540415319,\n        \"vidType\": 2,\n        \"productId\": 147,\n        \"productVersionId\": 1,\n        \"productInstanceId\": 74364976\n    },\n    \"baseInfo\": {\n        \"couponType\": null,\n        \"platformType\": 1,\n        \"couponSubType\": null,\n        \"name\": \"测试代金券-openapi\",\n        \"couponDesc\": \"测试代金券备注-openapi\",\n        \"belongVid\": 6013540415319,\n        \"merchantName\": \"weimob1319\",\n        \"basicCouponTemplateIdList\": [\n            1004401\n        ]\n    },\n    \"setting\": {\n        \"stockUnlimited\": false,\n        \"stock\": 10000,\n        \"codeGenerateType\": 0,\n        \"customCodeSetting\": {}\n    },\n    \"reduceRule\": {\n        \"reducePriceType\": 1,\n        \"cashTicketAmt\": 10,\n        \"pricingType\": 2,\n        \"couponCostType\": 1,\n        \"couponCost\": null,\n        \"discount\": 0,\n        \"freightReduceType\": null,\n        \"goodsDiscountThreshold\": null\n    },\n    \"sendRule\": {\n        \"hasUserTakeLimit\": false,\n        \"sendTimeType\": 1,\n        \"sendStartDate\": null,\n        \"sendEndDate\": null,\n        \"isPayment\": false,\n        \"customerDirectReceive\": true,\n        \"recommendStartTime\": {{$timestamp}}000,\n        \"recommendEndTime\": 1761818405000,\n        \"userTakeLimit\": 1,\n        \"canStoreLaunch\": false,\n        \"canShare\": true,\n        \"crowd\": {\n            \"ruleContent\": \"\",\n            \"selectedData\": \"\"\n        },\n        \"merchantDelivery\": true,\n        \"limitedTimeDelivery\": true,\n        \"hasGuideLimit\": false,\n        \"guideLimitNum\": null,\n        \"hasUserTakeDayLimit\": false,\n        \"userTakeDayLimit\": null,\n        \"giftCountLimit\": null,\n        \"hasGiftLimit\": false,\n        \"isOpenRecommend\": false\n    },\n    \"useRule\": {\n        \"useValidDate\": {\n            \"useTimeType\": 1,\n            \"useStartTime\": {{$timestamp}}000,\n            \"useEndTime\": 1761818405000,\n            \"validDays\": null,\n            \"useDelayDays\": null,\n            \"subUseTimeType\": 2\n        },\n        \"hasUseThreshold\": false,\n        \"canCashTicket\": false,\n        \"goodsCashTicket\": 0,\n        \"minGoodsNumber\": null,\n        \"maxGoodsNumber\": null,\n        \"superpositionRule\": {\n            \"limit\": 1,\n            \"instanceOverlayType\": 1,\n            \"instanceOverlayInfos\": []\n        },\n        \"orderDeductList\": [\n            1,\n            2,\n            3\n        ],\n        \"isAllTimeUse\": true,\n        \"cycleUseRule\": \"\",\n        \"canUseDiscount\": {\n            \"canUseWithOtherDiscount\": false,\n            \"shoppingMallDiscount\": []\n        },\n        \"isAllUseScene\": true,\n        \"allSceneDTO\": null,\n        \"usageDesType\": 0,\n        \"acceptTypeDTO\": {\n            \"acceptStoreType\": 1,\n            \"acceptStoreIds\": [],\n            \"acceptStores\": [],\n            \"acceptGoodGroups\": [],\n            \"goodsNum\": 0,\n            \"skuNum\": 0,\n            \"skuInfos\": null,\n            \"excludeSkuInfos\": [],\n            \"acceptGoodsType\": 1,\n            \"acceptGoodsIds\": [],\n            \"existExcludeGoods\": false,\n            \"excludeGoodsIds\": null,\n            \"includeStoreGoods\": false,\n            \"excludeStoreIds\": [],\n            \"existExcludeStore\": false\n        }\n    },\n    \"otherSetting\": {\n        \"isOpenSystemExplain\": true,\n        \"systemExplain\": \"1. 单商品不允许叠加多张券使用;券不可与其他优惠同享。 \\n\",\n        \"hasMemberTag\": false,\n        \"memberTagIds\": [],\n        \"isOpenMessage\": false,\n        \"messageStockNum\": null\n    },\n    \"openCardConfigure\": null,\n    \"i18n\": {\n        \"language\": \"zh\",\n        \"timezone\": \"+0800\"\n    },\n    \"extendInfo\": {\n        \"source\": 0\n    },\n    \"createInfo\": {\n        \"operatorId\": 1377154974,\n        \"source\": \"商城\"\n    }\n}"
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id；扩展字段|
|» saasChannel|body|string| 否 |openAPI来源标识；扩展字段|
|» vidType|body|integer| 是 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 是 |节点id|
|» wid|body|integer| 否 |用户id|
|» merchantId|body|integer| 否 |店铺merchantId；记录蒙牛 mnAppId|
|» baseInfo|body|object| 是 |券模板基础信息|
|»» basicCouponTemplateId|body|integer| 否 |券父模板Id，用于更新基础模板是的参数|
|»» couponTemplateId|body|integer| 否 |券模板Id，用于更新模板是的参数|
|»» name|body|string| 是 |优惠券标题|
|»» couponDesc|body|string| 否 |优惠券描述信息|
|»» merchantName|body|string| 否 |商户名称|
|»» belongVid|body|integer| 否 |券归属vid|
|»» belongVidCode|body|string| 否 |belongVid优先|
|»» belongVidName|body|string| 否 |券归属vid名称|
|»» thirdId|body|string| 否 |第三方id，扩展字段|
|»» thirdTemplateId|body|string| 否 |是三方券id|
|»» basicCouponTemplateIdList|body|[string]| 是 |新建优惠券采用的优惠券基础模板 ID，目前一次只能传一个基础模板 ID。|
|» setting|body|object| 是 |券码设置|
|»» stock|body|integer| 是 |优惠券库存|
|»» stockUnlimited|body|boolean| 否 |是否无库存限制|
|»» codeGenerateType|body|integer| 否 |code生成类型 0系统生成 1自定义 2导入；默认 0|
|»» customCodeSetting|body|[CustomCodeSetting](#schemacustomcodesetting)| 否 |自定义号段设置|
|»»» customEndNum|body|integer| 否 |自定义号段结束|
|»»» customStartNum|body|integer| 否 |自定义号段开始|
|»»» fixLeft|body|string| 否 |code固定开头|
|»»» fixRight|body|string| 否 |code固定结尾|
|»»» codeLength|body|integer| 否 |长度|
|»»» isLetter|body|integer| 否 |含字母(0不含字母;1含字母)|
|» reduceRule|body|[CouponTemplateReduceRuleVO6](#schemacoupontemplatereducerulevo6)| 否 |券模板优惠规则|
|»» reducePriceType|body|integer| 否 |减免的类型|
|»» cashTicketAmt|body|number| 否 |代金券减免金额，支持小数点后 2位小数|
|»» maxReducePrice|body|number| 否 |最大减免金额(每满减券才有)，支持小数点后 2位小数|
|»» discount|body|number| 否 |折扣券减免折扣，支持小数点后 2位小数|
|»» discountLimitType|body|integer| 否 |折扣券：优惠上限类型 (1无上限；2最多优惠件；3最多优惠元)|
|»» discountLimitValue|body|number| 否 |折扣券优惠上限值，支持小数点后 2位小数|
|»» minCashTicketAmt|body|number| 否 |随机金额券 最低减免金额，支持小数点后 2位小数|
|»» maxCashTicketAmt|body|number| 否 |随机金额券 最高减免金额，支持小数点后 2位小数|
|»» couponCostType|body|integer| 否 |成本类型： 1.固定金额 2.百分比 (传显示的数值)|
|»» couponCost|body|number| 否 |成本金额 or 比例，支持小数点后 2位小数|
|»» pricingType|body|integer| 否 |计价方式 默认销售价 (兑换券无此字段) ；(1, "市场价"),(2, "销售价");|
|»» costOfOrganization|body|number| 否 |成本分摊，归属组织；支持小数点后 2位小数|
|»» costOfStore|body|number| 否 |成本分摊，归属门店；支持小数点后 2位小数|
|»» freeOfPostage|body|boolean| 否 |运费券是否整单包邮|
|»» freightReduceType|body|integer| 否 |运费券减免类型，(1, "满X元减N元运费"),(2, "固定减免特定金额运费【即无门槛减N元运费】"),(3, "满X元包邮"),(4, "整单免邮"),(5, "排除超过特定金额的运费");|
|» sendRule|body|[CouponTemplateSendRuleVO5](#schemacoupontemplatesendrulevo5)| 是 |券模板发放规则|
|»» sendTimeType|body|integer| 否 |发放时间类型 (1无限制；2固定时间)|
|»» sendStartDate|body|string| 否 |发放开始时间，格式为时间戳，单位：毫秒。发放时间类型为固定时间时必填。|
|»» sendEndDate|body|string| 否 |发放结束时间，格式为时间戳，单位：毫秒。发放时间类型为固定时间时必填。|
|»» isPayment|body|boolean| 是 |是否付费|
|»» sendChannels|body|[integer]| 否 |发放场景：1 店铺直接领取；2 活动发券；3 商家发券；4 导购发券；5 客户列表发券；6 客服送券|
|»» recommendStartTime|body|string| 否 |推荐领取开始时间，单位时间戳(精确毫秒)|
|»» recommendEndTime|body|string| 否 |推荐领取结束时间，单位时间戳(精确毫秒)|
|»» isAcceptAllCrowd|body|boolean| 否 |适用人群类型：是否适用全部人群（付费券为全部人群）|
|»» crowd|body|[Crowd](#schemacrowd)| 否 |适用人群|
|»»» ruleContent|body|string| 否 |规则内容 json|
|»»» selectedData|body|string| 否 |选择内容 json|
|»»» ruleId|body|integer| 否 |人群id|
|»» canStoreLaunch|body|boolean| 否 |是否允许下级投放|
|»» hasUserTakeLimit|body|boolean| 否 |是否有限领，默认true|
|»» userTakeLimit|body|integer| 否 |用户限领优惠券张数|
|»» hasUserTakeDayLimit|body|boolean| 否 |用户每日限领|
|»» userTakeDayLimit|body|integer| 否 |用户每日限领数量|
|»» canGift|body|boolean| 否 |是否可以转赠（SaaS券、微信券）|
|»» canShare|body|boolean| 否 |是否可以分享领取|
|»» storeLimitNum|body|integer| 否 |单店最多发放数量|
|»» merchantIssueChannels|body|[integer]| 否 |商家发券渠道二级渠道|
|»» merchantPublish|body|boolean| 否 |商家发券|
|»» shoppingPublish|body|boolean| 否 |导购发券|
|»» customerListPublish|body|boolean| 否 |客户列表发券|
|»» servicePublish|body|boolean| 否 |客服发券|
|»» activityPublish|body|boolean| 否 |活动发券|
|»» customerDirectReceive|body|boolean| 否 |是否客户直接领取|
|»» scanByIssue|body|boolean| 否 |扫码购|
|»» enterpriseAssistant|body|boolean| 否 |企微助手|
|»» wechatLiveIssue|body|boolean| 否 |视频号发券渠道|
|»» merchantDelivery|body|boolean| 否 |运费券的配送方式：商家配送|
|»» limitedTimeDelivery|body|boolean| 否 |运费券的配送方式：同城限时达|
|»» hasGiftLimit|body|boolean| 否 |是否限制转增次数，true为限制|
|»» giftCountLimit|body|integer| 否 |当限制转增次数时，券的转增次数|
|»» isOpenRecommend|body|boolean| 否 |是否开启推荐|
|» useRule|body|[CouponTemplateUseRuleVO3](#schemacoupontemplateuserulevo3)| 是 |券模板使用规则|
|»» useValidDate|body|[UseValidDate4](#schemausevaliddate4)| 是 |券使用有效期|
|»»» useTimeType|body|integer| 否 |时间类型，1：固定，2：动态，3：周期|
|»»» subUseTimeType|body|integer| 否 |可用时间子类型；/**|
|»»» useStartTime|body|string| 否 |使用开始时间，单位时间戳(精确毫秒)|
|»»» useEndTime|body|string| 否 |使用结束时间，单位时间戳(精确毫秒)|
|»»» useDelayDays|body|integer| 否 |领取后几天生效，正整数|
|»»» validDays|body|integer| 否 |有效天数，正整数|
|»»» validDateDesc|body|string| 否 |有效期时间描述|
|»» hasUseThreshold|body|boolean| 否 |是否使用有门槛|
|»» canCashTicket|body|boolean| 否 |是否开启满元门槛|
|»» goodsCashTicket|body|number| 否 |商品金额满元门槛；支持 2 位小数|
|»» canGoodsNumber|body|boolean| 否 |是否开启满件门槛|
|»» minGoodsNumber|body|integer| 否 |满件最低|
|»» maxGoodsNumber|body|integer| 否 |满件最高|
|»» acceptTypeDTO|body|object| 是 |适用类型dto|
|»» isAllUseScene|body|boolean| 否 |是否是全部核销场景|
|»» allSceneDTO|body|[AllSceneDTO](#schemaallscenedto)| 否 |核销场景：商城、堂食、外卖、酒旅|
|»»» productIds|body|[integer]| 否 |业务线的枚举|
|»»» shoppingMallSceneList|body|[integer]| 否 |商城的核销场景   枚举：扫码购  网上订单  商家开单  卖家直接消费  商家直接消费  APP&收银台核销  API核销|
|»»» forHereSceneList|body|[integer]| 否 |堂食的核销场景|
|»»» takeOutSceneList|body|[integer]| 否 |外卖的核销场景|
|»»» WineTourSceneList|body|[integer]| 否 |酒旅的核销场景|
|»» isAllTimeUse|body|boolean| 否 |可用时段类型核销|
|»» cycleUseRule|body|[[UsableTimeRuleDTO](#schemausabletimeruledto)]| 否 |部分时段可核销|
|»»» weekDay|body|[integer]| 否 |适用时段的周期时间。1 至 7 对应周一至周日，多天用,隔开。|
|»»» timeSegment|body|[[TimeSegmentDTO](#schematimesegmentdto)]| 否 |时间段|
|»»»» beginHour|body|integer| 否 |开始时间点，小时，0-23|
|»»»» endHour|body|integer| 否 |结束时间点，小时，0-23|
|»»»» beginMinute|body|integer| 否 |开始时间点，分钟，0-59|
|»»»» endMinute|body|integer| 否 |结束时间点，分钟，0-59|
|»»» dates|body|[string]| 否 |日期（日期是不包含时间的）|
|»»» festivals|body|[string]| 否 |节日|
|»» superpositionRule|body|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)| 否 |叠加规则|
|»»» isSuperposition|body|boolean| 否 |是否支持叠加|
|»»» sameSuperposition|body|boolean| 否 |允许相同券叠加|
|»»» differentSuperposition|body|boolean| 否 |允许不相同券叠加|
|»»» limit|body|integer| 否 |单笔订单叠加上限|
|»»» differentSuperpositionType|body|integer| 否 |允许不同券叠加时，是指定券叠加还是全部券可叠加|
|»»» resourceTemplateIds|body|[integer]| 否 |实例里面允许不通过券叠加指定叠加的实例id 设置均可叠加时无此字段|
|»» canUseDiscount|body|[CanUseDiscountVO](#schemacanusediscountvo)| 否 |可共享的优惠|
|»»» canUseWithOtherDiscount|body|boolean| 否 |是否与其他活动共享优惠|
|»»» shoppingMallDiscount|body|[integer]| 否 |商城可共享优惠|
|»»» forHereDiscount|body|[integer]| 否 |堂食可共享优惠|
|»»» takeOutDiscount|body|[integer]| 否 |外卖可共享优惠|
|»»» wineTourDiscount|body|[integer]| 否 |酒旅可共享优惠|
|»» orderDeductList|body|[integer]| 否 |下单可同时使用抵扣(1积分;2余额;3礼品卡)|
|»» importGoodsFlag|body|boolean| 否 |是否是导入商品；不支持|
|»» importGoodsFileName|body|string| 否 |导入文件名；不支持|
|» otherSetting|body|[CouponTemplateOtherSettingVO8](#schemacoupontemplateothersettingvo8)| 否 |模板其他设置|
|»» memberTagIds|body|[[MemberTagId](#schemamembertagid)]| 否 |会员标签集合|
|»»» id|body|integer| 否 |标签id|
|»»» name|body|string| 否 |标签名称|
|»»» type|body|integer| 否 |标签类型|
|»»» list|body|[[TagVale](#schematagvale)]| 否 |标签属性列表|
|»»»» id|body|integer| 否 |属性id|
|»»»» name|body|string| 否 |属性名称|
|»»»» startValue|body|string| 否 |none|
|»»»» endValue|body|string| 否 |none|
|»» hasMemberTag|body|boolean| 否 |是否为用户打标签|
|»» explain|body|string| 否 |使用说明|
|»» imageUrl|body|[ImageUrl](#schemaimageurl)| 否 |图片相关url|
|»»» iconUrl|body|string| 否 |封面图片地址|
|»»» wechatIconUrl|body|string| 否 |微信封面图片地址|
|»»» shareImgUrl|body|string| 否 |分享图片URL|
|»»» logoUrl|body|string| 否 |优惠券Logo图片地址|
|»»» wechatLogoUrl|body|string| 否 |微信卡券logo|
|»» abstractTitle|body|string| 否 |封面简介|
|»» isOpenMessage|body|boolean| 否 |是否开启短信提醒；不支持|
|»» messageStockNum|body|integer| 否 |短信提醒的库存数量；不支持|
|»» canWeimobEdit|body|boolean| 否 |是否允许后台系统修改，默认允许（true:允许 false:不允许）|
|» createInfo|body|object| 是 |模板创建信息|
|»» operatorId|body|integer| 是 |操作人id，如果没有，填 1，表示 openapi 操作|
|»» source|body|string| 否 |来源，扩展字段|

#### 详细说明

**»» basicCouponTemplateId**: 券父模板Id，用于更新基础模板是的参数
更新基础模板时必填

**»» couponTemplateId**: 券模板Id，用于更新模板是的参数
更新模板时必填

**»» thirdTemplateId**: 是三方券id
优先取此字段

**»» stock**: 优惠券库存
如果是更新模板，变更的库存不能小于原库存

**»» reducePriceType**: 减免的类型
0 无门槛固定减免金额
1 固定减免金额
2 每满多少减多少

**»» merchantIssueChannels**: 商家发券渠道二级渠道
仅详情/编辑,用来给前端展示（扩展字段）

**»»» subUseTimeType**: 可用时间子类型；/**
     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，
     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 12:30:30
     * <p/>
     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，
     * 则券生效时间为2023-07-26 12:30:30~2023-07-28 12:30:30
     */
    DYNAMIC(2, "动态(指定时间：N天内有效)"),
    /**
     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，
     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 23:59:59
     * <p/>
     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，
     * 则券生效时间为2023-07-26 00:00:00~2023-07-28 23:59:59
     */
    DYNAMIC_NATURAL_DAY(21, "动态(指定时间：N天自然日内有效)"),
    AFTER_MONTH(4, "动态（指定时间：n个月内有效）"),
    CURRENT_MONTH(5, "动态（指定时间：当前月有效)"),
    PERMANENT(6, "永久有效"),

**»»» validDateDesc**: 有效期时间描述
eg:领取后3天有效
2021/08/12 00:00-2022/08/12 23:59

**»» isAllTimeUse**: 可用时段类型核销
是否是全部时段

**»»» dates**: 日期（日期是不包含时间的）
如：2023-06-14

**»»» isSuperposition**: 是否支持叠加
默认不支持

**»»» differentSuperpositionType**: 允许不同券叠加时，是指定券叠加还是全部券可叠加
1均可叠加 2指定可叠加
当differentSuperposition=true时有值

#### 枚举值

|属性|值|
|---|---|
|»» sendChannels|DEFAULT_CHANNEL|
|»» sendChannels|STORE_DIRECT_COLLECT|
|»» sendChannels|ACTIVITY_PUBLISH_COUPON|
|»» sendChannels|MERCHANT_ISSUE_COUPON|
|»» sendChannels|PAYMENT_COUPON|
|»» sendChannels|SHOPPING_GUIDE_SEND_COUPON|
|»» sendChannels|MEMBER_LIST_SEND_COUPON|
|»» sendChannels|CUSTOMER_SERVICE_SEND_COUPON|
|»» sendChannels|ENTERPRISE_ASSISTANT_VOUCHER_DELIVERY|
|»» sendChannels|SCAN_BY_ISSUE|
|»» sendChannels|LIVE_VIDEO|
|»» merchantDelivery|false|
|»» merchantDelivery|false|
|»» limitedTimeDelivery|false|
|»» limitedTimeDelivery|false|
|»»» shoppingMallSceneList|MICRO_MALL|
|»»» shoppingMallSceneList|O2O_RESTAURANT|
|»»» shoppingMallSceneList|MICRO_MALL_APP|
|»»» shoppingMallSceneList|SMART_HOTEL|
|»»» shoppingMallSceneList|TRAVEL|
|»»» shoppingMallSceneList|SUPER_BUSINESS_ALLIANCE|
|»»» shoppingMallSceneList|MICRO_MALL_API|
|»»» shoppingMallSceneList|MICRO_MALL_C_TERMINAL|
|»»» shoppingMallSceneList|MICRO_MALL_B_TERMINAL|
|»»» shoppingMallSceneList|MICRO_MALL_BUSINESS_BILLING|
|»»» shoppingMallSceneList|MARKETING_CLOUD|
|»»» shoppingMallSceneList|CODE_SCANNING_PURCHASE|
|»»» shoppingMallSceneList|IN_STORE|
|»»» shoppingMallSceneList|APP_COLLECTION|
|»»» shoppingMallSceneList|PAYMENT_AND_COLLECTION|
|»»» shoppingMallSceneList|SERVICE_ITEMS|
|»»» shoppingMallSceneList|TAKEOUT_TOSTORE|
|»»» shoppingMallSceneList|GROUP_MEAL|
|»»» shoppingMallSceneList|APP_SUPPLEMENTARY_TRANSACTION|
|»»» shoppingMallSceneList|POS_COLLECTION|
|»»» shoppingMallSceneList|SELF_CHECKOUT|
|»»» shoppingMallSceneList|THIRD_PARTY_ORDERS|
|»»» shoppingMallSceneList|ENTERPRISE_DELIVERY|
|»»» shoppingMallSceneList|OFFLINE_VENDING_MACHINE|
|»»» shoppingMallSceneList|COOPERATION_BETWEEN_DIFFERENT_INDUSTRIES|
|»»» shoppingMallSceneList|C_TERMINAL_APPLET|
|»»» shoppingMallSceneList|B_TERMINA_CASHIER|
|»»» shoppingMallSceneList|ALIPAY_CHANNEL|
|»»» shoppingMallSceneList|EC_MEMBERSHIP|
|»»» shoppingMallSceneList|SHOPPING_GUIDE_SEND_COUPON|
|»»» shoppingMallSceneList|MEMBER_LIST_SEND_COUPON|
|»»» shoppingMallSceneList|CUSTOMER_SERVICE_SEND_COUPON|
|»»» festivals|L0101|
|»»» festivals|L0505|
|»»» festivals|L0815|
|»»» festivals|Q8|
|»»» festivals|S0101|
|»»» festivals|S0501|
|»»» festivals|S1001|
|»»» resourceTemplateIds|ALL|
|»»» resourceTemplateIds|SPECIFIED|
|»» orderDeductList|INTEGRAL|
|»» orderDeductList|BALANCE|
|»» orderDeductList|SAVING_CARD|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "couponTemplateIds": [
      1003802
    ]
  },
  "globalTicket": null,
  "monitorTrackId": "75c51a5b-c799-4b26-a3a7-3088d9cca3e1"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseCreateCouponTemplateVO](#schemaopenexportresponsecreatecoupontemplatevo)|

## POST 更新券模板

POST /weimob_crm/v2.0/coupon/template/update

用于更新指定的优惠券信息。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3496&isold=2

> Body 请求参数

```json
{
  "merchantId": 2000000143319,
  "bosId": 4019965204319,
  "vid": 6013679462319,
  "vidType": 2,
  "productId": 147,
  "productVersionId": 1,
  "productInstanceId": 74364976,
  "tcode": "weimob",
  "baseInfo": {
    "couponType": null,
    "platformType": 1,
    "couponSubType": null,
    "name": "测试券修改-openapi",
    "couponDesc": "测试券修改-openapi",
    "belongVid": 6013679462319,
    "merchantName": "weimob1319",
    "couponTemplateId": 1001200
  },
  "setting": {
    "stockUnlimited": false,
    "stock": 100001,
    "codeGenerateType": 0,
    "customCodeSetting": null
  },
  "reduceRule": {
    "reducePriceType": 0,
    "cashTicketAmt": 11,
    "pricingType": 2,
    "couponCostType": 1,
    "couponCost": 22,
    "costOfOrganization": 22,
    "costOfStore": 78,
    "discount": 0,
    "freightReduceType": null,
    "goodsDiscountThreshold": null
  },
  "sendRule": {
    "hasUserTakeLimit": true,
    "sendTimeType": 1,
    "sendStartDate": 1761818405000,
    "sendEndDate": 1761818405000,
    "isPayment": false,
    "customerDirectReceive": null,
    "recommendStartTime": null,
    "recommendEndTime": null,
    "merchantPublish": null,
    "storeLimitNum": 0,
    "shoppingPublish": null,
    "servicePublish": null,
    "activityPublish": true,
    "userTakeLimit": 222,
    "canStoreLaunch": false,
    "canShare": false,
    "isAcceptAllCrowd": true,
    "crowd": {
      "ruleContent": null,
      "selectedData": null
    },
    "canGift": false,
    "enterpriseAssistant": null,
    "merchantDelivery": null,
    "limitedTimeDelivery": null,
    "hasGuideLimit": false,
    "guideLimitNum": null,
    "hasUserTakeDayLimit": false,
    "userTakeDayLimit": null,
    "giftCountLimit": null,
    "hasGiftLimit": false,
    "isOpenRecommend": false
  },
  "useRule": {
    "useValidDate": {
      "useTimeType": 1,
      "useStartTime": 1761818405000,
      "useEndTime": 1761818405000,
      "validDays": 0,
      "useDelayDays": 0,
      "subUseTimeType": null
    },
    "hasUseThreshold": false,
    "canCashTicket": false,
    "goodsCashTicket": null,
    "minGoodsNumber": 3,
    "maxGoodsNumber": 4,
    "superpositionRule": {
      "sameSuperposition": false,
      "differentSuperposition": false,
      "limit": 1,
      "isSuperposition": false,
      "instanceOverlayType": 1,
      "instanceOverlayInfos": null
    },
    "orderDeductList": null,
    "isAllTimeUse": true,
    "cycleUseRule": "",
    "canUseDiscount": {
      "canUseWithOtherDiscount": false,
      "shoppingMallDiscount": null
    },
    "isAllUseScene": true,
    "allSceneDTO": null,
    "usageDesType": 0,
    "acceptTypeDTO": {
      "acceptStoreType": 1,
      "acceptStoreIds": null,
      "acceptStores": null,
      "acceptGoodGroups": null,
      "goodsNum": null,
      "skuNum": null,
      "skuIdInfos": null,
      "skuInfos": null,
      "excludeSkuIdInfos": null,
      "excludeSkuInfos": null,
      "acceptGoodsType": 1,
      "acceptGoodsIds": null,
      "existExcludeGoods": false,
      "excludeGoodsIds": null,
      "includeStoreGoods": false,
      "excludeStoreIds": null,
      "existExcludeStore": false
    }
  },
  "otherSetting": {
    "isOpenSystemExplain": true,
    "explain": null,
    "systemExplain": "1. 至少下单3件商品,最多可优惠4件商品。\n2. 单商品不允许叠加多张券使用;券不可与其他优惠同享。 \n",
    "hasMemberTag": false,
    "memberTagIds": null,
    "isOpenMessage": false,
    "wechatLiveNickName": null
  },
  "openCardConfigure": null,
  "i18n": {
    "language": "zh",
    "timezone": "+0800"
  },
  "extendInfo": {
    "source": 0
  },
  "createInfo": {
    "operatorId": 1043013082,
    "source": "商城"
  }
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id，扩展字段|
|» saasChannel|body|string| 否 |openAPI来源标识，扩展字段|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» wid|body|integer| 否 |B端用户id|
|» merchantId|body|integer| 否 |店铺merchantid，蒙牛mnAppId|
|» baseInfo|body|object| 是 |券模板基础信息|
|»» basicCouponTemplateId|body|integer| 否 |券父模板Id，用于更新基础模板s时的参数|
|»» basicCouponTemplateIdList|body|[integer]| 否 |券基础模板Id List，用于新建模板时的参数|
|»» couponTemplateId|body|integer| 是 |券模板Id，用于更新模板是的参数|
|»» couponType|body|integer| 否 |优惠券类型(1.代金券;2.折扣券;3.兑换券)|
|»» platformType|body|integer| 否 |平台类型  1:蒙牛；可扩展|
|»» couponSubType|body|integer| 否 |优惠券子类型 13 商家券  14 无资金 11 线上券 12 线下券 10 默认值；（默认填 13）|
|»» name|body|string| 否 |优惠券标题|
|»» couponDesc|body|string| 否 |优惠券描述信息|
|»» merchantName|body|string| 否 |商户名称|
|»» belongVid|body|integer| 否 |券归属vid|
|»» belongVidCode|body|string| 否 |belongVid优先|
|»» belongVidName|body|string| 否 |券归属vid名称|
|»» thirdId|body|string| 否 |第三方id，扩展字段|
|»» thirdTemplateId|body|string| 否 |是三方券id，扩展字段|
|» setting|body|object| 否 |券码设置|
|»» stock|body|integer| 否 |优惠券库存|
|»» stockUnlimited|body|boolean| 否 |是否无库存限制|
|»» codeGenerateType|body|integer| 否 |code生成类型 0系统生成 1自定义 2导入（默认填 0）|
|»» customCodeSetting|body|[CustomCodeSetting](#schemacustomcodesetting)| 否 |自定义号段设置|
|»»» customEndNum|body|integer| 否 |自定义号段结束|
|»»» customStartNum|body|integer| 否 |自定义号段开始|
|»»» fixLeft|body|string| 否 |code固定开头|
|»»» fixRight|body|string| 否 |code固定结尾|
|»»» codeLength|body|integer| 否 |长度|
|»»» isLetter|body|integer| 否 |含字母(0不含字母;1含字母)|
|» reduceRule|body|object| 否 |券模板优惠规则|
|»» reducePriceType|body|integer| 否 |减免的类型|
|»» cashTicketAmt|body|number| 否 |代金券减免金额，支持2 位小数|
|»» maxReducePrice|body|number| 否 |最大减免金额(每满减券才有)，支持2 位小数|
|»» discount|body|number| 否 |折扣券减免折扣，支持2 位小数|
|»» discountLimitType|body|integer| 否 |折扣券：优惠上限类型 (1无上限；2最多优惠件；3最多优惠元)|
|»» discountLimitValue|body|number| 否 |折扣券优惠上限值，支持2 位小数|
|»» minCashTicketAmt|body|number| 否 |随机金额券 最低减免金额，支持2 位小数|
|»» maxCashTicketAmt|body|number| 否 |随机金额券 最高减免金额，支持2 位小数|
|»» couponCostType|body|integer| 否 |成本类型： 1.固定金额 2.百分比 (传显示的数值)|
|»» couponCost|body|number| 否 |成本金额 or 比例，支持2 位小数|
|»» pricingType|body|integer| 否 |计价方式 默认销售价 (兑换券无此字段)(1, "市场价"),(2, "销售价");|
|»» costOfOrganization|body|number| 否 |成本分摊，归属组织，支持2 位小数|
|»» costOfStore|body|number| 否 |成本分摊，归属门店，支持2 位小数|
|»» freeOfPostage|body|boolean| 否 |运费券的整单包邮|
|»» freightReduceType|body|integer| 否 |运费券减免类型|
|» sendRule|body|object| 否 |券模板发放规则|
|»» sendTimeType|body|integer| 否 |发放时间类型 (1无限制；2固定时间)|
|»» sendStartDate|body|string| 否 |发放开始时间，单位时间戳(精确毫秒)|
|»» sendEndDate|body|string| 否 |发放结束时间，单位时间戳(精确毫秒)|
|»» isPayment|body|boolean| 否 |是否付费|
|»» sendChannels|body|[integer]| 否 |发放场景：1 店铺直接领取；2 活动发券；3 商家发券；4 导购发券；5 客户列表发券；6 客服送券|
|»» recommendStartTime|body|string| 否 |推荐领取开始时间，单位时间戳(精确毫秒)|
|»» recommendEndTime|body|string| 否 |推荐领取结束时间，单位时间戳(精确毫秒)|
|»» isAcceptAllCrowd|body|boolean| 否 |适用人群类型|
|»» crowd|body|[Crowd](#schemacrowd)| 否 |适用人群|
|»»» ruleContent|body|string| 否 |规则内容 json|
|»»» selectedData|body|string| 否 |选择内容 json|
|»»» ruleId|body|integer| 否 |人群id|
|»» canStoreLaunch|body|boolean| 否 |是否允许下级投放|
|»» hasUserTakeLimit|body|boolean| 否 |是否有限领，默认true|
|»» userTakeLimit|body|integer| 否 |用户限领优惠券张数|
|»» hasUserTakeDayLimit|body|boolean| 否 |用户每日限领|
|»» userTakeDayLimit|body|integer| 否 |用户每日限领|
|»» canGift|body|boolean| 否 |是否可以转赠（SaaS券、微信券）|
|»» canShare|body|boolean| 否 |是否可以分享领取|
|»» storeLimitNum|body|integer| 否 |单店最多发放|
|»» merchantIssueChannels|body|[integer]| 否 |商家发券渠道二级渠道|
|»» merchantPublish|body|boolean| 否 |商家发券|
|»» shoppingPublish|body|boolean| 否 |导购发券|
|»» customerListPublish|body|boolean| 否 |客户列表发券|
|»» servicePublish|body|boolean| 否 |客服发券|
|»» activityPublish|body|boolean| 否 |活动发券|
|»» customerDirectReceive|body|boolean| 否 |是否客户直接领取|
|»» scanByIssue|body|boolean| 否 |扫码购|
|»» enterpriseAssistant|body|boolean| 否 |企微助手|
|»» wechatLiveIssue|body|boolean| 否 |视频号发券渠道|
|»» merchantDelivery|body|boolean| 否 |运费券的配送方式：商家配送|
|»» limitedTimeDelivery|body|boolean| 否 |运费券的配送方式：同城限时达|
|»» hasGiftLimit|body|boolean| 否 |是否限制转增次数，true为限制|
|»» giftCountLimit|body|integer| 否 |当限制转增次数时，券的转增次数|
|»» isOpenRecommend|body|boolean| 否 |是否开启推荐|
|» useRule|body|object| 否 |券模板使用规则|
|»» useValidDate|body|[UseValidDate4](#schemausevaliddate4)| 否 |券使用有效期|
|»»» useTimeType|body|integer| 否 |时间类型，1：固定，2：动态，3：周期|
|»»» subUseTimeType|body|integer| 否 |可用时间子类型；/**|
|»»» useStartTime|body|string| 否 |使用开始时间，单位时间戳(精确毫秒)|
|»»» useEndTime|body|string| 否 |使用结束时间，单位时间戳(精确毫秒)|
|»»» useDelayDays|body|integer| 否 |领取后几天生效，正整数|
|»»» validDays|body|integer| 否 |有效天数，正整数|
|»»» validDateDesc|body|string| 否 |有效期时间描述|
|»» hasUseThreshold|body|boolean| 否 |是否使用有门槛|
|»» canCashTicket|body|boolean| 否 |是否开启满元门槛|
|»» goodsCashTicket|body|number| 否 |商品金额满元门槛|
|»» canGoodsNumber|body|boolean| 否 |是否开启满件门槛|
|»» minGoodsNumber|body|integer| 否 |满件最低|
|»» maxGoodsNumber|body|integer| 否 |满件最高|
|»» acceptTypeDTO|body|object| 否 |适用类型dto|
|»» isAllUseScene|body|boolean| 否 |是否是全部核销场景|
|»» allSceneDTO|body|[AllSceneDTO](#schemaallscenedto)| 否 |核销场景：商城、堂食、外卖、酒旅|
|»»» productIds|body|[integer]| 否 |业务线的枚举|
|»»» shoppingMallSceneList|body|[integer]| 否 |商城的核销场景   枚举：扫码购  网上订单  商家开单  卖家直接消费  商家直接消费  APP&收银台核销  API核销|
|»»» forHereSceneList|body|[integer]| 否 |堂食的核销场景|
|»»» takeOutSceneList|body|[integer]| 否 |外卖的核销场景|
|»»» WineTourSceneList|body|[integer]| 否 |酒旅的核销场景|
|»» usageDesType|body|integer| 否 |仅控制C端文案展示，不产生实际校验逻辑|
|»» isAllTimeUse|body|boolean| 否 |可用时段类型核销|
|»» cycleUseRule|body|[[UsableTimeRuleDTO](#schemausabletimeruledto)]| 否 |部分时段可核销|
|»»» weekDay|body|[integer]| 否 |适用时段的周期时间。1 至 7 对应周一至周日，多天用,隔开。|
|»»» timeSegment|body|[[TimeSegmentDTO](#schematimesegmentdto)]| 否 |时间段|
|»»»» beginHour|body|integer| 否 |开始时间点，小时，0-23|
|»»»» endHour|body|integer| 否 |结束时间点，小时，0-23|
|»»»» beginMinute|body|integer| 否 |开始时间点，分钟，0-59|
|»»»» endMinute|body|integer| 否 |结束时间点，分钟，0-59|
|»»» dates|body|[string]| 否 |日期（日期是不包含时间的）|
|»»» festivals|body|[string]| 否 |节日|
|»» superpositionRule|body|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)| 否 |叠加规则|
|»»» isSuperposition|body|boolean| 否 |是否支持叠加|
|»»» sameSuperposition|body|boolean| 否 |允许相同券叠加|
|»»» differentSuperposition|body|boolean| 否 |允许不相同券叠加|
|»»» limit|body|integer| 否 |单笔订单叠加上限|
|»»» differentSuperpositionType|body|integer| 否 |允许不同券叠加时，是指定券叠加还是全部券可叠加|
|»»» resourceTemplateIds|body|[integer]| 否 |实例里面允许不通过券叠加指定叠加的实例id 设置均可叠加时无此字段|
|»» canUseDiscount|body|[CanUseDiscountVO](#schemacanusediscountvo)| 否 |可共享的优惠|
|»»» canUseWithOtherDiscount|body|boolean| 否 |是否与其他活动共享优惠|
|»»» shoppingMallDiscount|body|[integer]| 否 |商城可共享优惠|
|»»» forHereDiscount|body|[integer]| 否 |堂食可共享优惠|
|»»» takeOutDiscount|body|[integer]| 否 |外卖可共享优惠|
|»»» wineTourDiscount|body|[integer]| 否 |酒旅可共享优惠|
|»» orderDeductList|body|[integer]| 否 |下单可同时使用抵扣(1积分;2余额;3礼品卡)|
|»» importGoodsFlag|body|boolean| 否 |是否是导入商品，不支持|
|»» importGoodsFileName|body|string| 否 |导入文件名，不支持|
|» otherSetting|body|object| 否 |模板其他设置|
|»» memberTagIds|body|[[MemberTagId](#schemamembertagid)]| 否 |会员标签集合|
|»»» id|body|integer| 否 |标签id|
|»»» name|body|string| 否 |标签名称|
|»»» type|body|integer| 否 |标签类型|
|»»» list|body|[[TagVale](#schematagvale)]| 否 |标签属性列表|
|»»»» id|body|integer| 否 |属性id|
|»»»» name|body|string| 否 |属性名称|
|»»»» startValue|body|string| 否 |none|
|»»»» endValue|body|string| 否 |none|
|»» hasMemberTag|body|boolean| 否 |是否为用户打标签，不支持|
|»» explain|body|string| 否 |使用说明|
|»» imageUrl|body|[ImageUrl](#schemaimageurl)| 否 |图片相关url|
|»»» iconUrl|body|string| 否 |封面图片地址|
|»»» wechatIconUrl|body|string| 否 |微信封面图片地址|
|»»» shareImgUrl|body|string| 否 |分享图片URL|
|»»» logoUrl|body|string| 否 |优惠券Logo图片地址|
|»»» wechatLogoUrl|body|string| 否 |微信卡券logo|
|»» abstractTitle|body|string| 否 |封面简介|
|»» isOpenMessage|body|boolean| 否 |是否开启短信提醒|
|»» messageStockNum|body|integer| 否 |短信提醒的库存数量|
|»» canWeimobEdit|body|boolean| 否 |是否允许微盟系统修改，默认允许（true:允许 false:不允许）|
|» createInfo|body|object| 否 |模板创建信息|
|»» createTime|body|string| 否 |创建时间，时间 yyyy-MM-dd HH:mm:ss|
|»» createChannel|body|integer| 否 |创建渠道|
|»» operatorId|body|integer| 否 |操作人id|
|»» requestChannel|body|integer| 否 |请求渠道，扩展字段|
|»» source|body|string| 否 |来源，扩展字段|
|» vidCode|body|string| 否 |vid优先|
|» version|body|integer| 否 |openapi版本，默认 2|

#### 详细说明

**»» basicCouponTemplateId**: 券父模板Id，用于更新基础模板s时的参数
更新基础模板时必填

**»» basicCouponTemplateIdList**: 券基础模板Id List，用于新建模板时的参数
创建模板时填

**»» couponTemplateId**: 券模板Id，用于更新模板是的参数
更新模板时必填

**»» stock**: 优惠券库存
如果是更新模板，变更的库存不能小于原库存

**»» reducePriceType**: 减免的类型
0 无门槛固定减免金额
1 固定减免金额
2 每满多少减多少

**»» freightReduceType**: 运费券减免类型
 REDUCE_ON_THRESHOLD(1, "满X元减N元运费"),
    FIX_REDUCE(2, "固定减免特定金额运费【即无门槛减N元运费】"),
    FREE_ON_THRESHOLD(3, "满X元包邮"),
    FREE_OF_POSTAGE(4, "整单免邮"),
    EXCLUDE_SPECIFIC_AMOUNTS(5, "排除超过特定金额的运费");

**»» isAcceptAllCrowd**: 适用人群类型
是否适用全部人群
付费券为全部人群

**»» merchantIssueChannels**: 商家发券渠道二级渠道
仅详情/编辑,用来给前端展示

**»»» subUseTimeType**: 可用时间子类型；/**
     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，
     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 12:30:30
     * <p/>
     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，
     * 则券生效时间为2023-07-26 12:30:30~2023-07-28 12:30:30
     */
    DYNAMIC(2, "动态(指定时间：N天内有效)"),
    /**
     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，
     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 23:59:59
     * <p/>
     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，
     * 则券生效时间为2023-07-26 00:00:00~2023-07-28 23:59:59
     */
    DYNAMIC_NATURAL_DAY(21, "动态(指定时间：N天自然日内有效)"),
    AFTER_MONTH(4, "动态（指定时间：n个月内有效）"),
    CURRENT_MONTH(5, "动态（指定时间：当前月有效)"),
    PERMANENT(6, "永久有效"),

**»»» validDateDesc**: 有效期时间描述
eg:领取后3天有效
2021/08/12 00:00-2022/08/12 23:59

**»» isAllTimeUse**: 可用时段类型核销
是否是全部时段

**»»» dates**: 日期（日期是不包含时间的）
如：2023-06-14

**»»» isSuperposition**: 是否支持叠加
默认不支持

**»»» differentSuperpositionType**: 允许不同券叠加时，是指定券叠加还是全部券可叠加
1均可叠加 2指定可叠加
当differentSuperposition=true时有值

**»» createChannel**: 创建渠道
1:B端后台,2:openapi,3:旺铺迁移,4:直播APP,5:异业平台-计划申领；默认 2

#### 枚举值

|属性|值|
|---|---|
|»» sendChannels|DEFAULT_CHANNEL|
|»» sendChannels|STORE_DIRECT_COLLECT|
|»» sendChannels|ACTIVITY_PUBLISH_COUPON|
|»» sendChannels|MERCHANT_ISSUE_COUPON|
|»» sendChannels|PAYMENT_COUPON|
|»» sendChannels|SHOPPING_GUIDE_SEND_COUPON|
|»» sendChannels|MEMBER_LIST_SEND_COUPON|
|»» sendChannels|CUSTOMER_SERVICE_SEND_COUPON|
|»» sendChannels|ENTERPRISE_ASSISTANT_VOUCHER_DELIVERY|
|»» sendChannels|SCAN_BY_ISSUE|
|»» sendChannels|LIVE_VIDEO|
|»» merchantDelivery|false|
|»» merchantDelivery|false|
|»» limitedTimeDelivery|false|
|»» limitedTimeDelivery|false|
|»»» shoppingMallSceneList|MICRO_MALL|
|»»» shoppingMallSceneList|O2O_RESTAURANT|
|»»» shoppingMallSceneList|MICRO_MALL_APP|
|»»» shoppingMallSceneList|SMART_HOTEL|
|»»» shoppingMallSceneList|TRAVEL|
|»»» shoppingMallSceneList|SUPER_BUSINESS_ALLIANCE|
|»»» shoppingMallSceneList|MICRO_MALL_API|
|»»» shoppingMallSceneList|MICRO_MALL_C_TERMINAL|
|»»» shoppingMallSceneList|MICRO_MALL_B_TERMINAL|
|»»» shoppingMallSceneList|MICRO_MALL_BUSINESS_BILLING|
|»»» shoppingMallSceneList|MARKETING_CLOUD|
|»»» shoppingMallSceneList|CODE_SCANNING_PURCHASE|
|»»» shoppingMallSceneList|IN_STORE|
|»»» shoppingMallSceneList|APP_COLLECTION|
|»»» shoppingMallSceneList|PAYMENT_AND_COLLECTION|
|»»» shoppingMallSceneList|SERVICE_ITEMS|
|»»» shoppingMallSceneList|TAKEOUT_TOSTORE|
|»»» shoppingMallSceneList|GROUP_MEAL|
|»»» shoppingMallSceneList|APP_SUPPLEMENTARY_TRANSACTION|
|»»» shoppingMallSceneList|POS_COLLECTION|
|»»» shoppingMallSceneList|SELF_CHECKOUT|
|»»» shoppingMallSceneList|THIRD_PARTY_ORDERS|
|»»» shoppingMallSceneList|ENTERPRISE_DELIVERY|
|»»» shoppingMallSceneList|OFFLINE_VENDING_MACHINE|
|»»» shoppingMallSceneList|COOPERATION_BETWEEN_DIFFERENT_INDUSTRIES|
|»»» shoppingMallSceneList|C_TERMINAL_APPLET|
|»»» shoppingMallSceneList|B_TERMINA_CASHIER|
|»»» shoppingMallSceneList|ALIPAY_CHANNEL|
|»»» shoppingMallSceneList|EC_MEMBERSHIP|
|»»» shoppingMallSceneList|SHOPPING_GUIDE_SEND_COUPON|
|»»» shoppingMallSceneList|MEMBER_LIST_SEND_COUPON|
|»»» shoppingMallSceneList|CUSTOMER_SERVICE_SEND_COUPON|
|»»» festivals|L0101|
|»»» festivals|L0505|
|»»» festivals|L0815|
|»»» festivals|Q8|
|»»» festivals|S0101|
|»»» festivals|S0501|
|»»» festivals|S1001|
|»»» resourceTemplateIds|ALL|
|»»» resourceTemplateIds|SPECIFIED|
|»» orderDeductList|INTEGRAL|
|»» orderDeductList|BALANCE|
|»» orderDeductList|SAVING_CARD|

> 返回示例

```json
{
  "code": {
    "errcode": "0",
    "errmsg": "success"
  },
  "data": true
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBoolean](#schemaopenexportresponseboolean)|

## POST 更新优惠券状态

POST /weimob_crm/v2.0/coupon/template/status/update

用于更新优惠券的状态，状态包括删除、开始投放或停止投放。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3462&isold=2

> Body 请求参数

```json
{
  "couponTemplateId": 1001002,
  "status": 2,
  "bosId": 4020068801319
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 否 |产品实例id，扩展字段|
|» saasChannel|body|string| 否 |openAPI来源标识，扩展字段|
|» couponTemplateId|body|integer| 是 |优惠券模板id|
|» status|body|integer| 是 |修改的状态,0:删除,1:开始投放,2:停止投放|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": true,
  "globalTicket": null,
  "monitorTrackId": "d0b573c1-7e4c-4140-8d15-b63f98850a81"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[OpenExportResponseBoolean](#schemaopenexportresponseboolean)|

## POST 获取适用门店信息

POST /weimob_crm/v2.0/coupon/accept/store/getList

用于根据优惠券 ID，查询对应的优惠券适用门店信息。
https://doc.weimobcloud.com/detail?menuId=19&childMenuId=1&tag=2454&id=3494&isold=2

> Body 请求参数

```json
{
  "couponTemplateId": 1001001,
  "bosId": 4019965204319,
  "productInstanceId": 74364976,
  "tcode": "weimob"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» bosId|body|integer| 是 |新商业操作系统id|
|» productInstanceId|body|integer| 是 |产品实例id|
|» saasChannel|body|string| 否 |openAPI来源标识|
|» vidType|body|integer| 否 |节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|
|» vid|body|integer| 否 |节点id|
|» couponTemplateId|body|integer| 是 |券模板id|

> 返回示例

```json
{
  "code": {
    "bizErrmsg": null,
    "errcode": "0",
    "errmsg": "处理成功"
  },
  "data": {
    "vidInfoList": null
  },
  "globalTicket": null,
  "monitorTrackId": "d9395323-65b2-4140-9800-2f9914977128"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|»» errcode|string|true|none||异常编码|
|»» errmsg|string|false|none||异常描述|
|»» bizErrmsg|string|false|none||业务异常描述|
|» data|object|false|none||业务数据|
|»» vidInfoList|[object]|false|none||none|
|»»» vid|integer|false|none||节点|
|»»» vidType|integer|false|none||节点类型|
|» globalTicket|string|false|none||全局跟踪id|
|» monitorTrackId|string|false|none||单次跟踪id|

# 数据模型

<h2 id="tocS_OpenExportError">OpenExportError</h2>

<a id="schemaopenexporterror"></a>
<a id="schema_OpenExportError"></a>
<a id="tocSopenexporterror"></a>
<a id="tocsopenexporterror"></a>

```json
{
  "errcode": "string",
  "errmsg": "string",
  "bizErrmsg": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|errcode|string|true|none||异常编码|
|errmsg|string|false|none||异常描述|
|bizErrmsg|string|false|none||业务异常描述|

<h2 id="tocS_UseValidDate">UseValidDate</h2>

<a id="schemausevaliddate"></a>
<a id="schema_UseValidDate"></a>
<a id="tocSusevaliddate"></a>
<a id="tocsusevaliddate"></a>

```json
{
  "useTimeType": 0,
  "subUseTimeType": 0,
  "useStartTime": "string",
  "useEndTime": "string",
  "useDelayDays": 0,
  "validDays": 0,
  "validDateDesc": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|useTimeType|integer|false|none||时间类型，1：固定，2：动态，3：周期|
|subUseTimeType|integer|false|none||动态 时间子类型 参考中台 时间类型 UseTimeTypeEnum|
|useStartTime|string|false|none||使用开始时间|
|useEndTime|string|false|none||使用结束时间|
|useDelayDays|integer|false|none||领取后几天生效|
|validDays|integer|false|none||有效天数|
|validDateDesc|string|false|none||有效期时间描述<br />eg:领取后3天有效<br />2021/08/12 00:00-2022/08/12 23:59|

<h2 id="tocS_BasicInfo">BasicInfo</h2>

<a id="schemabasicinfo"></a>
<a id="schema_BasicInfo"></a>
<a id="tocSbasicinfo"></a>
<a id="tocsbasicinfo"></a>

```json
{
  "merchantId": 0,
  "bosId": 0,
  "vid": 0,
  "vidType": 0,
  "rootVid": 0,
  "productId": 0,
  "productVersionId": 0,
  "productInstanceId": 0,
  "cid": 0,
  "tcode": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|merchantId|integer|false|none||蒙牛 mnAppId|
|bosId|integer|true|none||操作系统 id|
|vid|integer|false|none||节点 id|
|vidType|integer|false|none||节点类型|
|rootVid|integer|false|none||根节点 id|
|productId|integer|false|none||产品 id，扩展字段|
|productVersionId|integer|false|none||产品版本，扩展字段|
|productInstanceId|integer|false|none||产品实例 id，扩展字段|
|cid|integer|false|none||端应用id，扩展字段|
|tcode|string|false|none||中台id，扩展字段|

<h2 id="tocS_VidInfo">VidInfo</h2>

<a id="schemavidinfo"></a>
<a id="schema_VidInfo"></a>
<a id="tocSvidinfo"></a>
<a id="tocsvidinfo"></a>

```json
{
  "merchantId": 0,
  "bosId": 0,
  "vid": 0,
  "vidName": "string",
  "vidType": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|merchantId|integer|false|none||对应蒙牛 mnAppId|
|bosId|integer|true|none||对应操作系统 bosid|
|vid|integer|true|none||节点 id|
|vidName|string|false|none||节点名称|
|vidType|integer|false|none||节点类型，与 vid 相对应。类型包括：1-集团；2-品牌；3-区域；4部门；5-商场；6-楼层；10-门店；11-网点；100-自提点|

<h2 id="tocS_AcceptObject">AcceptObject</h2>

<a id="schemaacceptobject"></a>
<a id="schema_AcceptObject"></a>
<a id="tocSacceptobject"></a>
<a id="tocsacceptobject"></a>

```json
{
  "acceptObjectId": 0,
  "productId": 0,
  "channel": 0,
  "bizVid": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|acceptObjectId|integer|false|none||适用对象id|
|productId|integer|false|none||适用对象所属的产品id|
|channel|integer|false|none||适用对象所属的渠道id|
|bizVid|integer|false|none||商圈下的bizVid|

<h2 id="tocS_GoodGroup">GoodGroup</h2>

<a id="schemagoodgroup"></a>
<a id="schema_GoodGroup"></a>
<a id="tocSgoodgroup"></a>
<a id="tocsgoodgroup"></a>

```json
{
  "classifyId": 0,
  "name": "string",
  "classifyLevel": 0,
  "parentId": 0,
  "child": [
    {}
  ],
  "bizVid": 0,
  "productId": 0,
  "channel": 0,
  "channelName": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|classifyId|integer|false|none||商品分组id|
|name|string|false|none||商品分组名称|
|classifyLevel|integer|false|none||当前分组等级|
|parentId|integer|false|none||父分组id|
|child|[object]|false|none||二级分组|
|bizVid|integer|false|none||none|
|productId|integer|false|none||适用对象所属的产品id|
|channel|integer|false|none||适用对象所属的渠道id|
|channelName|string|false|none||none|

<h2 id="tocS_SkuInfo">SkuInfo</h2>

<a id="schemaskuinfo"></a>
<a id="schema_SkuInfo"></a>
<a id="tocSskuinfo"></a>
<a id="tocsskuinfo"></a>

```json
{
  "skuId": 0,
  "goodsId": 0,
  "vid": 0,
  "itemTitle": "string",
  "specValueInfo": "string",
  "salePrice": 0,
  "productId": 145,
  "channel": 0,
  "channelName": "string",
  "defaultImageUrl": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|skuId|integer|false|none||商品 skuid|
|goodsId|integer|false|none||商品 id|
|vid|integer|false|none||节点 id|
|itemTitle|string|false|none||sku名称|
|specValueInfo|string|false|none||sku信息|
|salePrice|number|false|none||销售价|
|productId|integer|false|none||适用对象所属的产品id|
|channel|integer|false|none||适用对象所属的渠道id，扩展字段|
|channelName|string|false|none||渠道名称，扩展字段|
|defaultImageUrl|string|false|none||默认图片|

<h2 id="tocS_AcceptTypeDTO">AcceptTypeDTO</h2>

<a id="schemaaccepttypedto"></a>
<a id="schema_AcceptTypeDTO"></a>
<a id="tocSaccepttypedto"></a>
<a id="tocsaccepttypedto"></a>

```json
{
  "basicInfo": {
    "merchantId": 0,
    "bosId": 0,
    "vid": 0,
    "vidType": 0,
    "rootVid": 0,
    "productId": 0,
    "productVersionId": 0,
    "productInstanceId": 0,
    "cid": 0,
    "tcode": "string"
  },
  "produceId": 0,
  "bosId": 0,
  "belongVid": 0,
  "belongVidType": 0,
  "acceptStoreType": 0,
  "acceptStoreIds": [
    0
  ],
  "acceptStores": [
    {
      "merchantId": 0,
      "bosId": 0,
      "vid": 0,
      "vidName": "string",
      "vidType": 0
    }
  ],
  "vidInfos": [
    {
      "merchantId": 0,
      "bosId": 0,
      "vid": 0,
      "vidName": "string",
      "vidType": 0
    }
  ],
  "acceptGoodsType": 0,
  "acceptGoodsIds": [
    0
  ],
  "acceptObjects": [
    {
      "acceptObjectId": 0,
      "productId": 0,
      "channel": 0,
      "bizVid": 0
    }
  ],
  "existExcludeGoods": true,
  "excludeGoodsIds": [
    0
  ],
  "excludeAcceptObjects": [
    {
      "acceptObjectId": 0,
      "productId": 0,
      "channel": 0,
      "bizVid": 0
    }
  ],
  "existExcludeStore": true,
  "excludeStoreIds": [
    0
  ],
  "includeStoreGoods": true,
  "acceptGoodGroups": [
    {
      "classifyId": 0,
      "name": "string",
      "classifyLevel": 0,
      "parentId": 0,
      "child": [
        {}
      ],
      "bizVid": 0,
      "productId": 0,
      "channel": 0,
      "channelName": "string"
    }
  ],
  "skuInfos": [
    {
      "skuId": 0,
      "goodsId": 0,
      "vid": 0,
      "itemTitle": "string",
      "specValueInfo": "string",
      "salePrice": 0,
      "productId": 145,
      "channel": 0,
      "channelName": "string",
      "defaultImageUrl": "string"
    }
  ],
  "skuIdInfos": [
    {
      "skuId": 0,
      "goodsId": 0,
      "vid": 0,
      "itemTitle": "string",
      "specValueInfo": "string",
      "salePrice": 0,
      "productId": 145,
      "channel": 0,
      "channelName": "string",
      "defaultImageUrl": "string"
    }
  ],
  "excludeSkuInfos": [
    {
      "skuId": 0,
      "goodsId": 0,
      "vid": 0,
      "itemTitle": "string",
      "specValueInfo": "string",
      "salePrice": 0,
      "productId": 145,
      "channel": 0,
      "channelName": "string",
      "defaultImageUrl": "string"
    }
  ],
  "excludeSkuIdInfos": [
    {
      "skuId": 0,
      "goodsId": 0,
      "vid": 0,
      "itemTitle": "string",
      "specValueInfo": "string",
      "salePrice": 0,
      "productId": 145,
      "channel": 0,
      "channelName": "string",
      "defaultImageUrl": "string"
    }
  ],
  "goodsNum": 0,
  "skuNum": 0,
  "productIds": [
    0
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|basicInfo|[BasicInfo](#schemabasicinfo)|false|none||创建券的basicInfo信息<br />查的时候有些需要通过创建的basicInfo信息查<br />比如区域的分组，在品牌需要通过区域的vid才能查到|
|produceId|integer|false|none||产品实例id|
|bosId|integer|false|none||商家id|
|belongVid|integer|false|none||券归属的vid|
|belongVidType|integer|false|none||归属节点类型|
|acceptStoreType|integer|false|none||适用门店类型（1:全部门店适用；2指定区域适用 3 指定门店适用 4门店标签， 5混选）|
|acceptStoreIds|[integer]|false|none||适用门店列表 老结构|
|acceptStores|[[VidInfo](#schemavidinfo)]|false|none||适用门店列表<br />建券入参|
|vidInfos|[[VidInfo](#schemavidinfo)]|false|none||适用门店信息|
|acceptGoodsType|integer|false|none||适用商品类型（1:全部商品适用；2:部分商品适用;3:部分商品不适用;5:部分类目适用;7:部分分组适用）|
|acceptGoodsIds|[integer]|false|none||适用商品列表|
|acceptObjects|[[AcceptObject](#schemaacceptobject)]|false|none||适用对象列表<br />「已废弃」|
|existExcludeGoods|boolean|false|none||是否存在排除商品|
|excludeGoodsIds|[integer]|false|none||排除商品列表|
|excludeAcceptObjects|[[AcceptObject](#schemaacceptobject)]|false|none||排除适用对象列表<br />「已废弃」|
|existExcludeStore|boolean|false|none||是否存在排除门店|
|excludeStoreIds|[integer]|false|none||排除的门店列表|
|includeStoreGoods|boolean|false|none||是否包含门店自建商品|
|acceptGoodGroups|[[GoodGroup](#schemagoodgroup)]|false|none||建券时，商品分组|
|skuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||建券支持sku级别|
|skuIdInfos|[[SkuInfo](#schemaskuinfo)]|false|none||创建sku<br />优先级高于skuInfos，若skuIdInfos未传入则用skuInfos|
|excludeSkuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||建券支持sku级别（排除）|
|excludeSkuIdInfos|[[SkuInfo](#schemaskuinfo)]|false|none||排除sku<br />优先级高于excludeSkuInfos，若id未传入则用优先级高于excludeSkuInfos|
|goodsNum|integer|false|none||如果acceptStoreType是5或者6|
|skuNum|integer|false|none||如果acceptStoreType是5或者6|
|productIds|[integer]|false|none||参与对象有些productId|

<h2 id="tocS_OpenExportResponseListCouponTemplateVO">OpenExportResponseListCouponTemplateVO</h2>

<a id="schemaopenexportresponselistcoupontemplatevo"></a>
<a id="schema_OpenExportResponseListCouponTemplateVO"></a>
<a id="tocSopenexportresponselistcoupontemplatevo"></a>
<a id="tocsopenexportresponselistcoupontemplatevo"></a>

```json
{
  "code": {
    "errcode": "string",
    "errmsg": "string",
    "bizErrmsg": "string"
  },
  "data": [
    {
      "tcode": "string",
      "pid": 0,
      "merchantId": 0,
      "bosId": 0,
      "vid": 0,
      "vidType": 0,
      "sourceProdInstanceId": 0,
      "sourceProductId": 0,
      "sourceProductVersionId": 0,
      "vids": [
        0
      ],
      "couponTemplateId": 0,
      "belongVid": 0,
      "basicTemplateId": 0,
      "name": "string",
      "subName": "string",
      "couponType": 0,
      "validDate": {
        "useTimeType": 0,
        "subUseTimeType": 0,
        "useStartTime": "string",
        "useEndTime": "string",
        "useDelayDays": 0,
        "validDays": 0,
        "validDateDesc": "string"
      },
      "status": 0,
      "publishChannels": [
        0
      ],
      "platformType": 0,
      "stock": 0,
      "totalStock": 0,
      "stockUnlimited": true,
      "explain": "string",
      "logo": "string",
      "useRule": "string",
      "createStoreId": 0,
      "reducePriceType": 0,
      "cashTicketAmt": 0,
      "minCashTicketAmt": 0,
      "maxCashTicketAmt": 0,
      "discount": 0,
      "discountAmount": 0,
      "reduceDuration": 0,
      "durationThreshold": 0,
      "preferentialWay": 0,
      "hasUseThreshold": true,
      "canCashTicket": true,
      "canGoodsNumber": true,
      "minGoodsNumber": 0,
      "maxGoodsNumber": 0,
      "cashTicketCondition": 0,
      "discountLimitType": 0,
      "discountLimitValue": 0,
      "userTakeLimit": 0,
      "canStoreLaunch": true,
      "isEnable": true,
      "createType": 0,
      "createTypeName": "string",
      "isExternalCoupon": true,
      "createAreaCode": "string",
      "desc": "string",
      "acceptTypeDTO": {
        "basicInfo": {
          "merchantId": 0,
          "bosId": 0,
          "vid": 0,
          "vidType": 0,
          "rootVid": 0,
          "productId": 0,
          "productVersionId": 0,
          "productInstanceId": 0,
          "cid": 0,
          "tcode": "string"
        },
        "produceId": 0,
        "bosId": 0,
        "belongVid": 0,
        "belongVidType": 0,
        "acceptStoreType": 0,
        "acceptStoreIds": [
          0
        ],
        "acceptStores": [
          {
            "merchantId": null,
            "bosId": null,
            "vid": null,
            "vidName": null,
            "vidType": null
          }
        ],
        "vidInfos": [
          {
            "merchantId": null,
            "bosId": null,
            "vid": null,
            "vidName": null,
            "vidType": null
          }
        ],
        "acceptGoodsType": 0,
        "acceptGoodsIds": [
          0
        ],
        "acceptObjects": [
          {
            "acceptObjectId": null,
            "productId": null,
            "channel": null,
            "bizVid": null
          }
        ],
        "existExcludeGoods": true,
        "excludeGoodsIds": [
          0
        ],
        "excludeAcceptObjects": [
          {
            "acceptObjectId": null,
            "productId": null,
            "channel": null,
            "bizVid": null
          }
        ],
        "existExcludeStore": true,
        "excludeStoreIds": [
          0
        ],
        "includeStoreGoods": true,
        "acceptGoodGroups": [
          {
            "classifyId": null,
            "name": null,
            "classifyLevel": null,
            "parentId": null,
            "child": null,
            "bizVid": null,
            "productId": null,
            "channel": null,
            "channelName": null
          }
        ],
        "skuInfos": [
          {
            "skuId": null,
            "goodsId": null,
            "vid": null,
            "itemTitle": null,
            "specValueInfo": null,
            "salePrice": null,
            "productId": null,
            "channel": null,
            "channelName": null,
            "defaultImageUrl": null
          }
        ],
        "skuIdInfos": [
          {
            "skuId": null,
            "goodsId": null,
            "vid": null,
            "itemTitle": null,
            "specValueInfo": null,
            "salePrice": null,
            "productId": null,
            "channel": null,
            "channelName": null,
            "defaultImageUrl": null
          }
        ],
        "excludeSkuInfos": [
          {
            "skuId": null,
            "goodsId": null,
            "vid": null,
            "itemTitle": null,
            "specValueInfo": null,
            "salePrice": null,
            "productId": null,
            "channel": null,
            "channelName": null,
            "defaultImageUrl": null
          }
        ],
        "excludeSkuIdInfos": [
          {
            "skuId": null,
            "goodsId": null,
            "vid": null,
            "itemTitle": null,
            "specValueInfo": null,
            "salePrice": null,
            "productId": null,
            "channel": null,
            "channelName": null,
            "defaultImageUrl": null
          }
        ],
        "goodsNum": 0,
        "skuNum": 0,
        "productIds": [
          0
        ]
      },
      "recommendStartTime": "string",
      "recommendEndTime": "string",
      "imageUrl": "string",
      "shareImageUrl": "string",
      "stockCreatorMchid": "string",
      "serviceMchid": "string",
      "isPayment": true,
      "sourceMerchantName": "string",
      "couponScopeList": [
        {
          "couponScopeType": 0,
          "couponScopeText": "string"
        }
      ],
      "canGiveFriend": true,
      "codeGenerateType": 0,
      "createTime": "string",
      "updateTime": "string",
      "publishCount": 0,
      "isInPackage": 0,
      "couponExtDTO": {},
      "share": {
        "title": "string",
        "content": "string",
        "imageUrl": "string",
        "shareUrl": {
          "h5Url": "string",
          "miniUrl": "string"
        }
      },
      "userReceiveInfo": {
        "publishCount": 0,
        "receiveStatus": 0,
        "condition": "string",
        "isExpired": true,
        "weChatSendCouponResult": {
          "sendUrl": "string",
          "sign": "string",
          "sendCouponMerchant": "string",
          "sendCouponParams": "string",
          "left": 0
        }
      },
      "redirectType": 0,
      "freightReduceType": 0,
      "thirdTemplateId": "string",
      "goodsCashTicket": 0,
      "cashConditionStr": "string",
      "wechatLiveNickName": "string",
      "wechatLiveSyncMsg": "string",
      "acceptGoodsTypeDesc": "string",
      "acceptStoreTypeDesc": "string",
      "reducePriceDesc": "string",
      "couponTypeDesc": "string",
      "goodsAdapterUrl": "string",
      "storeAdapterUrl": "string",
      "couponCostType": 0,
      "couponCost": 0,
      "usageDesType": 0
    }
  ],
  "globalTicket": "string",
  "monitorTrackId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|data|[[CouponTemplateVO](#schemacoupontemplatevo)]|false|none||业务数据|
|globalTicket|string|false|none||全局跟踪id，无业务意义|
|monitorTrackId|string|false|none||单次跟踪id，无业务意义|

<h2 id="tocS_CouponTemplateVO">CouponTemplateVO</h2>

<a id="schemacoupontemplatevo"></a>
<a id="schema_CouponTemplateVO"></a>
<a id="tocScoupontemplatevo"></a>
<a id="tocscoupontemplatevo"></a>

```json
{
  "tcode": "string",
  "pid": 0,
  "merchantId": 0,
  "bosId": 0,
  "vid": 0,
  "vidType": 0,
  "sourceProdInstanceId": 0,
  "sourceProductId": 0,
  "sourceProductVersionId": 0,
  "vids": [
    0
  ],
  "couponTemplateId": 0,
  "belongVid": 0,
  "basicTemplateId": 0,
  "name": "string",
  "subName": "string",
  "couponType": 0,
  "validDate": {
    "useTimeType": 0,
    "subUseTimeType": 0,
    "useStartTime": "string",
    "useEndTime": "string",
    "useDelayDays": 0,
    "validDays": 0,
    "validDateDesc": "string"
  },
  "status": 0,
  "publishChannels": [
    0
  ],
  "platformType": 0,
  "stock": 0,
  "totalStock": 0,
  "stockUnlimited": true,
  "explain": "string",
  "logo": "string",
  "useRule": "string",
  "createStoreId": 0,
  "reducePriceType": 0,
  "cashTicketAmt": 0,
  "minCashTicketAmt": 0,
  "maxCashTicketAmt": 0,
  "discount": 0,
  "discountAmount": 0,
  "reduceDuration": 0,
  "durationThreshold": 0,
  "preferentialWay": 0,
  "hasUseThreshold": true,
  "canCashTicket": true,
  "canGoodsNumber": true,
  "minGoodsNumber": 0,
  "maxGoodsNumber": 0,
  "cashTicketCondition": 0,
  "discountLimitType": 0,
  "discountLimitValue": 0,
  "userTakeLimit": 0,
  "canStoreLaunch": true,
  "isEnable": true,
  "createType": 0,
  "createTypeName": "string",
  "isExternalCoupon": true,
  "createAreaCode": "string",
  "desc": "string",
  "acceptTypeDTO": {
    "basicInfo": {
      "merchantId": 0,
      "bosId": 0,
      "vid": 0,
      "vidType": 0,
      "rootVid": 0,
      "productId": 0,
      "productVersionId": 0,
      "productInstanceId": 0,
      "cid": 0,
      "tcode": "string"
    },
    "produceId": 0,
    "bosId": 0,
    "belongVid": 0,
    "belongVidType": 0,
    "acceptStoreType": 0,
    "acceptStoreIds": [
      0
    ],
    "acceptStores": [
      {
        "merchantId": 0,
        "bosId": 0,
        "vid": 0,
        "vidName": "string",
        "vidType": 0
      }
    ],
    "vidInfos": [
      {
        "merchantId": 0,
        "bosId": 0,
        "vid": 0,
        "vidName": "string",
        "vidType": 0
      }
    ],
    "acceptGoodsType": 0,
    "acceptGoodsIds": [
      0
    ],
    "acceptObjects": [
      {
        "acceptObjectId": 0,
        "productId": 0,
        "channel": 0,
        "bizVid": 0
      }
    ],
    "existExcludeGoods": true,
    "excludeGoodsIds": [
      0
    ],
    "excludeAcceptObjects": [
      {
        "acceptObjectId": 0,
        "productId": 0,
        "channel": 0,
        "bizVid": 0
      }
    ],
    "existExcludeStore": true,
    "excludeStoreIds": [
      0
    ],
    "includeStoreGoods": true,
    "acceptGoodGroups": [
      {
        "classifyId": 0,
        "name": "string",
        "classifyLevel": 0,
        "parentId": 0,
        "child": [
          {}
        ],
        "bizVid": 0,
        "productId": 0,
        "channel": 0,
        "channelName": "string"
      }
    ],
    "skuInfos": [
      {
        "skuId": 0,
        "goodsId": 0,
        "vid": 0,
        "itemTitle": "string",
        "specValueInfo": "string",
        "salePrice": 0,
        "productId": 145,
        "channel": 0,
        "channelName": "string",
        "defaultImageUrl": "string"
      }
    ],
    "skuIdInfos": [
      {
        "skuId": 0,
        "goodsId": 0,
        "vid": 0,
        "itemTitle": "string",
        "specValueInfo": "string",
        "salePrice": 0,
        "productId": 145,
        "channel": 0,
        "channelName": "string",
        "defaultImageUrl": "string"
      }
    ],
    "excludeSkuInfos": [
      {
        "skuId": 0,
        "goodsId": 0,
        "vid": 0,
        "itemTitle": "string",
        "specValueInfo": "string",
        "salePrice": 0,
        "productId": 145,
        "channel": 0,
        "channelName": "string",
        "defaultImageUrl": "string"
      }
    ],
    "excludeSkuIdInfos": [
      {
        "skuId": 0,
        "goodsId": 0,
        "vid": 0,
        "itemTitle": "string",
        "specValueInfo": "string",
        "salePrice": 0,
        "productId": 145,
        "channel": 0,
        "channelName": "string",
        "defaultImageUrl": "string"
      }
    ],
    "goodsNum": 0,
    "skuNum": 0,
    "productIds": [
      0
    ]
  },
  "recommendStartTime": "string",
  "recommendEndTime": "string",
  "imageUrl": "string",
  "shareImageUrl": "string",
  "stockCreatorMchid": "string",
  "serviceMchid": "string",
  "isPayment": true,
  "sourceMerchantName": "string",
  "couponScopeList": [
    {
      "couponScopeType": 0,
      "couponScopeText": "string"
    }
  ],
  "canGiveFriend": true,
  "codeGenerateType": 0,
  "createTime": "string",
  "updateTime": "string",
  "publishCount": 0,
  "isInPackage": 0,
  "couponExtDTO": {},
  "share": {
    "title": "string",
    "content": "string",
    "imageUrl": "string",
    "shareUrl": {
      "h5Url": "string",
      "miniUrl": "string"
    }
  },
  "userReceiveInfo": {
    "publishCount": 0,
    "receiveStatus": 0,
    "condition": "string",
    "isExpired": true,
    "weChatSendCouponResult": {
      "sendUrl": "string",
      "sign": "string",
      "sendCouponMerchant": "string",
      "sendCouponParams": "string",
      "left": 0
    }
  },
  "redirectType": 0,
  "freightReduceType": 0,
  "thirdTemplateId": "string",
  "goodsCashTicket": 0,
  "cashConditionStr": "string",
  "wechatLiveNickName": "string",
  "wechatLiveSyncMsg": "string",
  "acceptGoodsTypeDesc": "string",
  "acceptStoreTypeDesc": "string",
  "reducePriceDesc": "string",
  "couponTypeDesc": "string",
  "goodsAdapterUrl": "string",
  "storeAdapterUrl": "string",
  "couponCostType": 0,
  "couponCost": 0,
  "usageDesType": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|tcode|string|true|none||租户编码，扩展字段|
|pid|integer|false|none||商家id，扩展字段|
|merchantId|integer|true|none||商户ID，对应 mnAppId|
|bosId|integer|true|none||组织架构树编号|
|vid|integer|true|none||模版归属组织节点id|
|vidType|integer|true|none||模版归属组织节点id类型|
|sourceProdInstanceId|integer|true|none||产品实例id，扩展字段|
|sourceProductId|integer|true|none||数据在某产品ID下生成，扩展字段|
|sourceProductVersionId|integer|true|none||数据在某产品的具体版本下生成，扩展字段|
|vids|[integer]|false|none||vid所有上级节点ids（券归属上级的vid，包括叶子节点)<br />例如A->B->C  选的C，这里面就是[A,B,C]|
|couponTemplateId|integer|false|none||优惠券模板id|
|belongVid|integer|false|none||归属节点vid|
|basicTemplateId|integer|false|none||基础模板id|
|name|string|false|none||优惠券标题|
|subName|string|false|none||优惠券副标题|
|couponType|integer|false|none||优惠券类型 （1:代金券；2:折扣券；3:兑换券; 5随机券）|
|validDate|[UseValidDate](#schemausevaliddate)|false|none||券的有效期|
|status|integer|false|none||优惠券状态(0不可用；1可用；2已过期；10已解除绑定)|
|publishChannels|[integer]|false|none||优惠券渠道(201链接和二维码 202商详页 203营销活动)|
|platformType|integer|false|none||券平台类型 1微盟，2微信 3支付宝|
|stock|integer|false|none||剩余库存|
|totalStock|integer|false|none||总库存|
|stockUnlimited|boolean|false|none||是否无库存限制|
|explain|string|false|none||使用说明|
|logo|string|false|none||description 店铺logo|
|useRule|string|false|none||使用规则|
|createStoreId|integer|false|none||所属门店|
|reducePriceType|integer|false|none||减免类型|
|cashTicketAmt|number|false|none||优惠券减免金额|
|minCashTicketAmt|number|false|none||随机金额券 最低减免金额|
|maxCashTicketAmt|number|false|none||随机金额券 最高减免金额|
|discount|number|false|none||优惠券减免折扣|
|discountAmount|number|false|none||折扣券值同 discount  代金券值同 cashTicketAmt|
|reduceDuration|number|false|none||减免时长 单位分钟|
|durationThreshold|number|false|none||时长门槛 单位分钟|
|preferentialWay|integer|false|none||减免类型 1金额 2时长|
|hasUseThreshold|boolean|false|none||是否使用有门槛|
|canCashTicket|boolean|false|none||是否开启满元门槛|
|canGoodsNumber|boolean|false|none||是否开启满件门槛|
|minGoodsNumber|integer|false|none||满件最低|
|maxGoodsNumber|integer|false|none||满件最高|
|cashTicketCondition|number|false|none||优惠券减免满足条件金额|
|discountLimitType|integer|false|none||折扣券：优惠上限类型 (1无上限；2最多优惠件；3最多优惠元)|
|discountLimitValue|integer|false|none||折扣券优惠上限值|
|userTakeLimit|integer|false|none||用户限领优惠券张数|
|canStoreLaunch|boolean|false|none||是否允许下级投放|
|isEnable|boolean|false|none||是否可用<br />true:可用,false:不可用<br />调用停止发放 1 => 0|
|createType|integer|false|none||券归属类型,1:商家,2:区域,3:门店|
|createTypeName|string|false|none||券归属名称（商家店名称/区域名称/门店名称）|
|isExternalCoupon|boolean|false|none||是否是外部券，默认内部券<br />null / false：内部券<br />true：外部券|
|createAreaCode|string|false|none||【基础信息】归属区域码值|
|desc|string|false|none||优惠券描述信息|
|acceptTypeDTO|[AcceptTypeDTO](#schemaaccepttypedto)|false|none||适用门店/商品类型|
|recommendStartTime|string|false|none||推荐领取开始时间，时间 yyyy-MM-dd HH:mm:ss|
|recommendEndTime|string|false|none||推荐领取结束时间，时间 yyyy-MM-dd HH:mm:ss|
|imageUrl|string|false|none||优惠券活动默认图片地址|
|shareImageUrl|string|false|none||优惠券活动默认分享图片地址|
|stockCreatorMchid|string|false|none||商户号|
|serviceMchid|string|false|none||服务商号|
|isPayment|boolean|false|none||是否付费购买|
|sourceMerchantName|string|false|none||来源商户名称|
|couponScopeList|[[CouponScope](#schemacouponscope)]|false|none||优惠券适用范围信息 用于前端展示<br />-----------------------<br />适用门店:全部适用<br />适用商品:全部适用<br />领券后可查看更多使用信息<br />-----------------------<br />couponScopeType:1 门店 2商品 3商品,门店<br />couponScopeText：有3种：<br />type=1时，可能的值为：部分门店可用/全部门店可用/领券后可查看更多使用信息<br />type=2时，可能的值为：部分商品可用/全部商品可用/领券后可查看更多使用信息<br />type=3时，可能的值为：部分商品可用，部分门店可用（门店和商品几种组合）/领券后可查看更多使用信息|
|canGiveFriend|boolean|false|none||是否支持转赠|
|codeGenerateType|integer|false|none||code生成类型0系统生成 1自定义 2导入|
|createTime|string|false|none||创建时间，时间 yyyy-MM-dd HH:mm:ss|
|updateTime|string|false|none||更新时间，时间 yyyy-MM-dd HH:mm:ss|
|publishCount|integer|false|none||用户已领取优惠券张数|
|isInPackage|integer|false|none||是否在券包中|
|couponExtDTO|[CouponExtDTO](#schemacouponextdto)|false|none||券扩展信息|
|share|[Share](#schemashare)|false|none||分享信息|
|userReceiveInfo|[UserReceiveInfo](#schemauserreceiveinfo)|false|none||用户领券信息|
|redirectType|integer|false|none||跳转类型(正常0微信1)|
|freightReduceType|integer|false|none||运费券减免类型<br />FIX_REDUCE(1, "固定减免特定金额运费"),<br />EXCLUDE_SPECIFIC_AMOUNTS(2, "排除超过特定金额的运费"),<br />FREE_OF_POSTAGE(3, "整单免邮");|
|thirdTemplateId|string|false|none||外部映射id|
|goodsCashTicket|number|false|none||金额门槛|
|cashConditionStr|string|false|none||满元门槛字符串|
|wechatLiveNickName|string|false|none||视频号昵称，券是视频号发券渠道时必有|
|wechatLiveSyncMsg|string|false|none||券同步微信视频号渠道错误信息|
|acceptGoodsTypeDesc|string|false|none||适用商品描述|
|acceptStoreTypeDesc|string|false|none||适用门店描述|
|reducePriceDesc|string|false|none||优惠描述|
|couponTypeDesc|string|false|none||券类型描述|
|goodsAdapterUrl|string|false|none||适用商品页面链接<br />入参queryGoodsAdapterUrl=true时有值|
|storeAdapterUrl|string|false|none||适用门店页面链接<br />入参queryStoreAdapterUrl=true时有值|
|couponCostType|integer|false|none||成本类型：1-固定金额；2-固定成本|
|couponCost|number|false|none||成本金额 or 比例；支持 2 位小数|
|usageDesType|integer|false|none||扩展字段|

#### 枚举值

|属性|值|
|---|---|
|status|0|
|status|1|
|status|2|
|status|3|
|status|4|
|status|5|
|status|-999|

<h2 id="tocS_UserReceiveInfo">UserReceiveInfo</h2>

<a id="schemauserreceiveinfo"></a>
<a id="schema_UserReceiveInfo"></a>
<a id="tocSuserreceiveinfo"></a>
<a id="tocsuserreceiveinfo"></a>

```json
{
  "publishCount": 0,
  "receiveStatus": 0,
  "condition": "string",
  "isExpired": true,
  "weChatSendCouponResult": {
    "sendUrl": "string",
    "sign": "string",
    "sendCouponMerchant": "string",
    "sendCouponParams": "string",
    "left": 0
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|publishCount|integer|false|none||用户已领取优惠券张数|
|receiveStatus|integer|false|none||用户能否领取(1:可领取;2:已领取;3:已领完)|
|condition|string|false|none||使用条件|
|isExpired|boolean|false|none||优惠券是否已过期|
|weChatSendCouponResult|[WeChatSendCouponResult](#schemawechatsendcouponresult)|false|none||商家券小程序领券参数|

<h2 id="tocS_WeChatSendCouponResult">WeChatSendCouponResult</h2>

<a id="schemawechatsendcouponresult"></a>
<a id="schema_WeChatSendCouponResult"></a>
<a id="tocSwechatsendcouponresult"></a>
<a id="tocswechatsendcouponresult"></a>

```json
{
  "sendUrl": "string",
  "sign": "string",
  "sendCouponMerchant": "string",
  "sendCouponParams": "string",
  "left": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|sendUrl|string|false|none||签名|
|sign|string|false|none||签名|
|sendCouponMerchant|string|false|none||发券商户号|
|sendCouponParams|string|false|none||小程序发券json|
|left|integer|false|none||库存|

<h2 id="tocS_Share">Share</h2>

<a id="schemashare"></a>
<a id="schema_Share"></a>
<a id="tocSshare"></a>
<a id="tocsshare"></a>

```json
{
  "title": "string",
  "content": "string",
  "imageUrl": "string",
  "shareUrl": {
    "h5Url": "string",
    "miniUrl": "string"
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|title|string|false|none||分享标题|
|content|string|false|none||分享简介|
|imageUrl|string|false|none||分享图片地址|
|shareUrl|[Url](#schemaurl)|false|none||分享链接H5、小程序地址|

<h2 id="tocS_Url">Url</h2>

<a id="schemaurl"></a>
<a id="schema_Url"></a>
<a id="tocSurl"></a>
<a id="tocsurl"></a>

```json
{
  "h5Url": "string",
  "miniUrl": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|h5Url|string|false|none||h5跳转的url|
|miniUrl|string|false|none||小程序跳转的url|

<h2 id="tocS_CouponExtDTO">CouponExtDTO</h2>

<a id="schemacouponextdto"></a>
<a id="schema_CouponExtDTO"></a>
<a id="tocScouponextdto"></a>
<a id="tocscouponextdto"></a>

```json
{}

```

### 属性

*None*

<h2 id="tocS_CouponScope">CouponScope</h2>

<a id="schemacouponscope"></a>
<a id="schema_CouponScope"></a>
<a id="tocScouponscope"></a>
<a id="tocscouponscope"></a>

```json
{
  "couponScopeType": 0,
  "couponScopeText": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|couponScopeType|integer|false|none||none|
|couponScopeText|string|false|none||none|

<h2 id="tocS_BatchCouponVO">BatchCouponVO</h2>

<a id="schemabatchcouponvo"></a>
<a id="schema_BatchCouponVO"></a>
<a id="tocSbatchcouponvo"></a>
<a id="tocsbatchcouponvo"></a>

```json
{
  "couponTemplateId": 0,
  "num": 0,
  "requestId": "string",
  "code": "string",
  "effectStartTime": "string",
  "effectEndTime": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|couponTemplateId|integer|true|none||券模板id|
|num|integer|true|none||领取数量|
|requestId|string|true|none||幂等id|
|code|string|false|none||待发券的优惠券码值。可通过 weimob_crm/v2.0/coupon/template/search 接口返回参数中的 data.pageList.code 获取该码值。|
|effectStartTime|string|false|none||有效期的开始时间，有效期类型为“领取后生效”时，则可使用本接口设置有效期。格式为日期字符串“yyyy-MM-dd HH:mm:ss”。可通过 “weimob_crm/v2.0/coupon/template/detail/get”接口返回参数中的 data.useRule.useValidDate.useTimeType 获取改时间。|
|effectEndTime|string|false|none||有效期的结束时间，有效期类型为“领取后生效”时，则可使用本接口设置有效期。格式为日期字符串“yyyy-MM-dd HH:mm:ss”。可通过 weimob_crm/v2.0/coupon/template/detail/get 接口返回参数中的 data.useRule.useValidDate.useEndTime 获取改时间。|

<h2 id="tocS_OpenExportResponseBatchReceiveCouponResponseVO">OpenExportResponseBatchReceiveCouponResponseVO</h2>

<a id="schemaopenexportresponsebatchreceivecouponresponsevo"></a>
<a id="schema_OpenExportResponseBatchReceiveCouponResponseVO"></a>
<a id="tocSopenexportresponsebatchreceivecouponresponsevo"></a>
<a id="tocsopenexportresponsebatchreceivecouponresponsevo"></a>

```json
{
  "code": {
    "errcode": "string",
    "errmsg": "string",
    "bizErrmsg": "string"
  },
  "data": {
    "couponResultList": [
      {
        "couponTemplateId": 0,
        "name": "string",
        "expDate": "string",
        "wid": 0,
        "isSuccess": true,
        "failureNum": 0,
        "errCode": "string",
        "errMsg": "string",
        "codes": [
          "string"
        ],
        "canReceive": 0
      }
    ],
    "successCount": 0,
    "failedCount": 0,
    "status": 0,
    "applyNo": "string"
  },
  "globalTicket": "string",
  "monitorTrackId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|data|[BatchReceiveCouponResponseVO](#schemabatchreceivecouponresponsevo)|false|none||业务数据|
|globalTicket|string|false|none||全局跟踪id，无业务意义|
|monitorTrackId|string|false|none||单次跟踪id，无业务意义|

<h2 id="tocS_BatchReceiveCouponResponseVO">BatchReceiveCouponResponseVO</h2>

<a id="schemabatchreceivecouponresponsevo"></a>
<a id="schema_BatchReceiveCouponResponseVO"></a>
<a id="tocSbatchreceivecouponresponsevo"></a>
<a id="tocsbatchreceivecouponresponsevo"></a>

```json
{
  "couponResultList": [
    {
      "couponTemplateId": 0,
      "name": "string",
      "expDate": "string",
      "wid": 0,
      "isSuccess": true,
      "failureNum": 0,
      "errCode": "string",
      "errMsg": "string",
      "codes": [
        "string"
      ],
      "canReceive": 0
    }
  ],
  "successCount": 0,
  "failedCount": 0,
  "status": 0,
  "applyNo": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|couponResultList|[[BatchReceiveCouponResultVO](#schemabatchreceivecouponresultvo)]|false|none||优惠券列表|
|successCount|integer|false|none||成功发放数量|
|failedCount|integer|false|none||失败发放数量|
|status|integer|false|none||领取结果<br />1 全部领取成功 2部分领取成功 3全部领取失败|
|applyNo|string|false|none||预发标识 (预发券时生成)|

<h2 id="tocS_BatchReceiveCouponResultVO">BatchReceiveCouponResultVO</h2>

<a id="schemabatchreceivecouponresultvo"></a>
<a id="schema_BatchReceiveCouponResultVO"></a>
<a id="tocSbatchreceivecouponresultvo"></a>
<a id="tocsbatchreceivecouponresultvo"></a>

```json
{
  "couponTemplateId": 0,
  "name": "string",
  "expDate": "string",
  "wid": 0,
  "isSuccess": true,
  "failureNum": 0,
  "errCode": "string",
  "errMsg": "string",
  "codes": [
    "string"
  ],
  "canReceive": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|couponTemplateId|integer|false|none||优惠券模板id|
|name|string|false|none||优惠券模板名称|
|expDate|string|false|none||过期时间|
|wid|integer|false|none||用户id|
|isSuccess|boolean|false|none||当前券模板是否领取成功|
|failureNum|integer|false|none||失败数量|
|errCode|string|false|none||赠送失败的code<br />见文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP|
|errMsg|string|false|none||赠送失败的原因<br />见文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP|
|codes|[string]|false|none||当前券模板下的codes|
|canReceive|integer|false|none||是否可继续领取|

<h2 id="tocS_OpenExportResponseBoolean">OpenExportResponseBoolean</h2>

<a id="schemaopenexportresponseboolean"></a>
<a id="schema_OpenExportResponseBoolean"></a>
<a id="tocSopenexportresponseboolean"></a>
<a id="tocsopenexportresponseboolean"></a>

```json
{
  "code": {
    "errcode": "string",
    "errmsg": "string",
    "bizErrmsg": "string"
  },
  "data": true,
  "globalTicket": "string",
  "monitorTrackId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|data|boolean|false|none||业务数据|
|globalTicket|string|false|none||全局跟踪id；无业务意义|
|monitorTrackId|string|false|none||单次跟踪id；无业务意义|

<h2 id="tocS_GoodsInfoDTO">GoodsInfoDTO</h2>

<a id="schemagoodsinfodto"></a>
<a id="schema_GoodsInfoDTO"></a>
<a id="tocSgoodsinfodto"></a>
<a id="tocsgoodsinfodto"></a>

```json
{
  "id": 0,
  "skus": [
    {
      "id": 0,
      "price": 0,
      "num": 0,
      "selected": true
    }
  ],
  "categoryIds": [
    0
  ],
  "tags": [
    "string"
  ],
  "tagIds": [
    0
  ],
  "groupIds": [
    0
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|integer|false|none||商品ID|
|skus|[[SkuInfoDTO](#schemaskuinfodto)]|false|none||SKU集合|
|categoryIds|[integer]|false|none||类目ids|
|tags|[string]|false|none||商品标签 ID，与用户的tags类似，我们不感知具体业务含义，仅用来做规则筛选与校验等内容|
|tagIds|[integer]|false|none||标签id|
|groupIds|[integer]|false|none||分组id集合|

<h2 id="tocS_SkuInfoDTO">SkuInfoDTO</h2>

<a id="schemaskuinfodto"></a>
<a id="schema_SkuInfoDTO"></a>
<a id="tocSskuinfodto"></a>
<a id="tocsskuinfodto"></a>

```json
{
  "id": 0,
  "price": 0,
  "num": 0,
  "selected": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|integer|false|none||商品sku的 id|
|price|number|false|none||商品 sku 价格|
|num|integer|false|none||sku 数量|
|selected|boolean|false|none||是否选中。是为true，否为false。|

<h2 id="tocS_OpenExportResponseCouponOperateResponseVO">OpenExportResponseCouponOperateResponseVO</h2>

<a id="schemaopenexportresponsecouponoperateresponsevo"></a>
<a id="schema_OpenExportResponseCouponOperateResponseVO"></a>
<a id="tocSopenexportresponsecouponoperateresponsevo"></a>
<a id="tocsopenexportresponsecouponoperateresponsevo"></a>

```json
{
  "code": {
    "errcode": "string",
    "errmsg": "string",
    "bizErrmsg": "string"
  },
  "data": {
    "result": true
  },
  "globalTicket": "string",
  "monitorTrackId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|data|[CouponOperateResponseVO](#schemacouponoperateresponsevo)|false|none||业务数据|
|globalTicket|string|false|none||全局跟踪id|
|monitorTrackId|string|false|none||单次跟踪id|

<h2 id="tocS_CouponOperateResponseVO">CouponOperateResponseVO</h2>

<a id="schemacouponoperateresponsevo"></a>
<a id="schema_CouponOperateResponseVO"></a>
<a id="tocScouponoperateresponsevo"></a>
<a id="tocscouponoperateresponsevo"></a>

```json
{
  "result": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|result|boolean|false|none||结果|

<h2 id="tocS_TextImageVO">TextImageVO</h2>

<a id="schematextimagevo"></a>
<a id="schema_TextImageVO"></a>
<a id="tocStextimagevo"></a>
<a id="tocstextimagevo"></a>

```json
{
  "imageUrl": "string",
  "wechatImageUrl": "string",
  "text": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|imageUrl|string|false|none||图片地址|
|wechatImageUrl|string|false|none||微信图片地址|
|text|string|false|none||图片描述|

<h2 id="tocS_MapObject">MapObject</h2>

<a id="schemamapobject"></a>
<a id="schema_MapObject"></a>
<a id="tocSmapobject"></a>
<a id="tocsmapobject"></a>

```json
{
  "key": {}
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|key|[key](#schemakey)|false|none||none|

<h2 id="tocS_key">key</h2>

<a id="schemakey"></a>
<a id="schema_key"></a>
<a id="tocSkey"></a>
<a id="tocskey"></a>

```json
{}

```

### 属性

*None*

<h2 id="tocS_AcceptItem">AcceptItem</h2>

<a id="schemaacceptitem"></a>
<a id="schema_AcceptItem"></a>
<a id="tocSacceptitem"></a>
<a id="tocsacceptitem"></a>

```json
{
  "acceptId": 0,
  "bizVid": 0,
  "acceptExt": {
    "key": {}
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|acceptId|integer|false|none||none|
|bizVid|integer|false|none||商圈用vid|
|acceptExt|[MapObject](#schemamapobject)|false|none||适用信息附属信息|

<h2 id="tocS_ShowInfo">ShowInfo</h2>

<a id="schemashowinfo"></a>
<a id="schema_ShowInfo"></a>
<a id="tocSshowinfo"></a>
<a id="tocsshowinfo"></a>

```json
{
  "acceptId": 0,
  "name": "string",
  "level": 0,
  "parentId": 0,
  "child": [
    {
      "acceptId": 0,
      "name": "string",
      "level": 0,
      "parentId": 0,
      "child": [
        {
          "acceptId": 0,
          "name": "string",
          "level": 0,
          "parentId": 0,
          "child": [
            {}
          ],
          "imgUrl": "string",
          "extInfo": {
            "key": null
          },
          "isDeleted": true
        }
      ],
      "imgUrl": "string",
      "extInfo": {
        "key": {}
      },
      "isDeleted": true
    }
  ],
  "imgUrl": "string",
  "extInfo": {
    "key": {}
  },
  "isDeleted": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|acceptId|integer|false|none||适用id|
|name|string|false|none||名称|
|level|integer|false|none||等级|
|parentId|integer|false|none||父节点|
|child|[[ShowInfo](#schemashowinfo)]|false|none||子节点信息|
|imgUrl|string|false|none||图片url|
|extInfo|[MapObject](#schemamapobject)|false|none||适用信息附属信息|
|isDeleted|boolean|false|none||标记是否已删除|

<h2 id="tocS_MapLong">MapLong</h2>

<a id="schemamaplong"></a>
<a id="schema_MapLong"></a>
<a id="tocSmaplong"></a>
<a id="tocsmaplong"></a>

```json
{
  "0": 0
}

```

map<long, long>结构

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|0|integer|false|none||key 是 long 型|

<h2 id="tocS_AcceptGoodsInfo">AcceptGoodsInfo</h2>

<a id="schemaacceptgoodsinfo"></a>
<a id="schema_AcceptGoodsInfo"></a>
<a id="tocSacceptgoodsinfo"></a>
<a id="tocsacceptgoodsinfo"></a>

```json
{
  "productId": 0,
  "sourceId": 0,
  "channelShopName": "string",
  "channelName": "string",
  "acceptType": 0,
  "acceptItems": [
    {
      "acceptId": 0,
      "bizVid": 0,
      "acceptExt": {
        "key": {}
      }
    }
  ],
  "excludeType": 0,
  "includeStoreGoods": true,
  "showAcceptItems": [
    {
      "acceptId": 0,
      "name": "string",
      "level": 0,
      "parentId": 0,
      "child": [
        {
          "acceptId": 0,
          "name": "string",
          "level": 0,
          "parentId": 0,
          "child": [
            {}
          ],
          "imgUrl": "string",
          "extInfo": {
            "key": null
          },
          "isDeleted": true
        }
      ],
      "imgUrl": "string",
      "extInfo": {
        "key": {}
      },
      "isDeleted": true
    }
  ],
  "excludeAcceptItems": [
    {
      "acceptId": 0,
      "bizVid": 0,
      "acceptExt": {
        "key": {}
      }
    }
  ],
  "showExcludeAcceptItems": [
    {
      "acceptId": 0,
      "name": "string",
      "level": 0,
      "parentId": 0,
      "child": [
        {
          "acceptId": 0,
          "name": "string",
          "level": 0,
          "parentId": 0,
          "child": [
            {}
          ],
          "imgUrl": "string",
          "extInfo": {
            "key": null
          },
          "isDeleted": true
        }
      ],
      "imgUrl": "string",
      "extInfo": {
        "key": {}
      },
      "isDeleted": true
    }
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|productId|integer|false|none||产品id|
|sourceId|integer|false|none||资源id|
|channelShopName|string|false|none||小店名称|
|channelName|string|false|none||渠道名称|
|acceptType|integer|false|none||适用类型|
|acceptItems|[[AcceptItem](#schemaacceptitem)]|false|none||适用id|
|excludeType|integer|false|none||是否包含排除参与对象（目前支持排除商品|sku）|
|includeStoreGoods|boolean|false|none||是否包含自建商品|
|showAcceptItems|[[ShowInfo](#schemashowinfo)]|false|none||回显适用商品信息|
|excludeAcceptItems|[[AcceptItem](#schemaacceptitem)]|false|none||排除商品id|
|showExcludeAcceptItems|[[ShowInfo](#schemashowinfo)]|false|none||排除商品回显信息|

<h2 id="tocS_OpenExportResponseCreateSendCouponTaskResponseVO">OpenExportResponseCreateSendCouponTaskResponseVO</h2>

<a id="schemaopenexportresponsecreatesendcoupontaskresponsevo"></a>
<a id="schema_OpenExportResponseCreateSendCouponTaskResponseVO"></a>
<a id="tocSopenexportresponsecreatesendcoupontaskresponsevo"></a>
<a id="tocsopenexportresponsecreatesendcoupontaskresponsevo"></a>

```json
{
  "code": {
    "errcode": "string",
    "errmsg": "string",
    "bizErrmsg": "string"
  },
  "data": {
    "taskId": 0
  },
  "globalTicket": "string",
  "monitorTrackId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|data|[CreateSendCouponTaskResponseVO](#schemacreatesendcoupontaskresponsevo)|false|none||业务数据|
|globalTicket|string|false|none||全局跟踪id|
|monitorTrackId|string|false|none||单次跟踪id|

<h2 id="tocS_CreateSendCouponTaskResponseVO">CreateSendCouponTaskResponseVO</h2>

<a id="schemacreatesendcoupontaskresponsevo"></a>
<a id="schema_CreateSendCouponTaskResponseVO"></a>
<a id="tocScreatesendcoupontaskresponsevo"></a>
<a id="tocscreatesendcoupontaskresponsevo"></a>

```json
{
  "taskId": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|taskId|integer|true|none||任务id|

<h2 id="tocS_AcceptInfoVO">AcceptInfoVO</h2>

<a id="schemaacceptinfovo"></a>
<a id="schema_AcceptInfoVO"></a>
<a id="tocSacceptinfovo"></a>
<a id="tocsacceptinfovo"></a>

```json
{
  "noLimitGoods": true,
  "goodsProductIds": [
    0
  ],
  "sourceIds": [
    0
  ],
  "acceptGoodsInfos": [
    {
      "productId": 0,
      "sourceId": 0,
      "channelShopName": "string",
      "channelName": "string",
      "acceptType": 0,
      "acceptItems": [
        {
          "acceptId": 0,
          "bizVid": 0,
          "acceptExt": {
            "key": null
          }
        }
      ],
      "excludeType": 0,
      "includeStoreGoods": true,
      "showAcceptItems": [
        {
          "acceptId": 0,
          "name": "string",
          "level": 0,
          "parentId": 0,
          "child": [
            {}
          ],
          "imgUrl": "string",
          "extInfo": {
            "key": null
          },
          "isDeleted": true
        }
      ],
      "excludeAcceptItems": [
        {
          "acceptId": 0,
          "bizVid": 0,
          "acceptExt": {
            "key": null
          }
        }
      ],
      "showExcludeAcceptItems": [
        {
          "acceptId": 0,
          "name": "string",
          "level": 0,
          "parentId": 0,
          "child": [
            {}
          ],
          "imgUrl": "string",
          "extInfo": {
            "key": null
          },
          "isDeleted": true
        }
      ]
    }
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|noLimitGoods|boolean|false|none||不限商品|
|goodsProductIds|[integer]|false|none||适用商品列表产品id|
|sourceIds|[integer]|false|none||线下商品资源id列表|
|acceptGoodsInfos|[[AcceptGoodsInfo](#schemaacceptgoodsinfo)]|false|none||适用商品信息|

<h2 id="tocS_TimeSegmentDTO">TimeSegmentDTO</h2>

<a id="schematimesegmentdto"></a>
<a id="schema_TimeSegmentDTO"></a>
<a id="tocStimesegmentdto"></a>
<a id="tocstimesegmentdto"></a>

```json
{
  "beginHour": 0,
  "endHour": 0,
  "beginMinute": 0,
  "endMinute": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|beginHour|integer|false|none||开始时间点，小时，0-23|
|endHour|integer|false|none||结束时间点，小时，0-23|
|beginMinute|integer|false|none||开始时间点，分钟，0-59|
|endMinute|integer|false|none||结束时间点，分钟，0-59|

<h2 id="tocS_UsableTimeRuleDTO">UsableTimeRuleDTO</h2>

<a id="schemausabletimeruledto"></a>
<a id="schema_UsableTimeRuleDTO"></a>
<a id="tocSusabletimeruledto"></a>
<a id="tocsusabletimeruledto"></a>

```json
{
  "weekDay": [
    0
  ],
  "timeSegment": [
    {
      "beginHour": 0,
      "endHour": 0,
      "beginMinute": 0,
      "endMinute": 0
    }
  ],
  "dates": [
    "string"
  ],
  "festivals": [
    "L0101"
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|weekDay|[integer]|false|none||适用时段的周期时间。1 至 7 对应周一至周日，多天用,隔开。|
|timeSegment|[[TimeSegmentDTO](#schematimesegmentdto)]|false|none||时间段|
|dates|[string]|false|none||日期（日期是不包含时间的）<br />如：2023-06-14|
|festivals|[string]|false|none||节日|

<h2 id="tocS_AllSceneDTO">AllSceneDTO</h2>

<a id="schemaallscenedto"></a>
<a id="schema_AllSceneDTO"></a>
<a id="tocSallscenedto"></a>
<a id="tocsallscenedto"></a>

```json
{
  "productIds": [
    0
  ],
  "shoppingMallSceneList": [
    "MICRO_MALL"
  ],
  "forHereSceneList": [
    0
  ],
  "takeOutSceneList": [
    0
  ],
  "WineTourSceneList": [
    0
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|productIds|[integer]|false|none||业务线的枚举|
|shoppingMallSceneList|[integer]|false|none||商城的核销场景   枚举：扫码购  网上订单  商家开单  卖家直接消费  商家直接消费  APP&收银台核销  API核销|
|forHereSceneList|[integer]|false|none||堂食的核销场景|
|takeOutSceneList|[integer]|false|none||外卖的核销场景|
|WineTourSceneList|[integer]|false|none||酒旅的核销场景|

<h2 id="tocS_PreSendFailCouponVO">PreSendFailCouponVO</h2>

<a id="schemapresendfailcouponvo"></a>
<a id="schema_PreSendFailCouponVO"></a>
<a id="tocSpresendfailcouponvo"></a>
<a id="tocspresendfailcouponvo"></a>

```json
{
  "couponTemplateId": 0,
  "errorCode": "string",
  "errorMsg": "string",
  "num": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|couponTemplateId|integer|false|none||券模板id|
|errorCode|string|false|none||失败code|
|errorMsg|string|false|none||失败原因|
|num|integer|false|none||失败券数量|

<h2 id="tocS_RevealCouponBO">RevealCouponBO</h2>

<a id="schemarevealcouponbo"></a>
<a id="schema_RevealCouponBO"></a>
<a id="tocSrevealcouponbo"></a>
<a id="tocsrevealcouponbo"></a>

```json
{
  "code": "string",
  "couponTemplateId": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|string|false|none||none|
|couponTemplateId|integer|false|none||none|

<h2 id="tocS_SendCouponFailBO">SendCouponFailBO</h2>

<a id="schemasendcouponfailbo"></a>
<a id="schema_SendCouponFailBO"></a>
<a id="tocSsendcouponfailbo"></a>
<a id="tocssendcouponfailbo"></a>

```json
{
  "couponTemplateId": 0,
  "code": "string",
  "errCode": "string",
  "errMsg": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|couponTemplateId|integer|false|none||券模板id|
|code|string|false|none||码值|
|errCode|string|false|none||赠送失败的code<br />见文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP|
|errMsg|string|false|none||赠送失败的原因<br />见文档：https://docs.qq.com/doc/DRGN0YmRtd2diSnZP|

<h2 id="tocS_OpenExportResponseCouponTemplateDetailResponseVO">OpenExportResponseCouponTemplateDetailResponseVO</h2>

<a id="schemaopenexportresponsecoupontemplatedetailresponsevo"></a>
<a id="schema_OpenExportResponseCouponTemplateDetailResponseVO"></a>
<a id="tocSopenexportresponsecoupontemplatedetailresponsevo"></a>
<a id="tocsopenexportresponsecoupontemplatedetailresponsevo"></a>

```json
{
  "code": {
    "errcode": "string",
    "errmsg": "string",
    "bizErrmsg": "string"
  },
  "data": {
    "baseInfo": {},
    "setting": {},
    "reduceRule": {},
    "sendRule": {},
    "useRule": {},
    "otherSetting": {},
    "createInfo": {},
    "wxInfo": {
      "merchantName": "string",
      "colorType": 0,
      "textImageList": [
        {
          "imageUrl": "string",
          "wechatImageUrl": "string",
          "text": "string"
        }
      ],
      "partnerMode": "string",
      "channelType": "string",
      "originalId": "string",
      "useMethod": "string",
      "centerScene": {
        "index": 0,
        "isOpen": true,
        "sceneType": 0,
        "sceneTitle": "string",
        "sceneSubTitle": "string",
        "sceneUrl": "string",
        "sceneId": 0,
        "scenePageId": 0,
        "h5Url": "string",
        "miniUrl": "string",
        "sceneTypeUrlText": "string"
      },
      "customScene": {
        "index": 0,
        "isOpen": true,
        "sceneType": 0,
        "sceneTitle": "string",
        "sceneSubTitle": "string",
        "sceneUrl": "string",
        "sceneId": 0,
        "scenePageId": 0,
        "h5Url": "string",
        "miniUrl": "string",
        "sceneTypeUrlText": "string"
      },
      "logoImg": {
        "imgId": 0,
        "imgUrl": "string",
        "wechatImgUrl": "string"
      },
      "surfaceImg": {
        "imgId": 0,
        "imgUrl": "string",
        "wechatImgUrl": "string"
      },
      "userGuide": "string",
      "surfaceTitle": "string",
      "centerSceneType": 0,
      "centerSceneUrl": "string",
      "centerSceneUrlName": "string",
      "customSceneSwitch": false,
      "customSceneTitle": "string",
      "customSceneSubTitle": "string",
      "customSceneUrl": "string",
      "customSceneUrlName": "string",
      "miniprogAppId": "string",
      "publicAppId": "string",
      "appUserName": "string"
    },
    "status": 0
  },
  "globalTicket": "string",
  "monitorTrackId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|data|[CouponTemplateDetailResponseVO](#schemacoupontemplatedetailresponsevo)|false|none||业务数据|
|globalTicket|string|false|none||全局跟踪id，无业务意义|
|monitorTrackId|string|false|none||单次跟踪id，无业务意义|

<h2 id="tocS_CouponTemplateDetailResponseVO">CouponTemplateDetailResponseVO</h2>

<a id="schemacoupontemplatedetailresponsevo"></a>
<a id="schema_CouponTemplateDetailResponseVO"></a>
<a id="tocScoupontemplatedetailresponsevo"></a>
<a id="tocscoupontemplatedetailresponsevo"></a>

```json
{
  "baseInfo": {},
  "setting": {},
  "reduceRule": {},
  "sendRule": {},
  "useRule": {},
  "otherSetting": {},
  "createInfo": {},
  "wxInfo": {
    "merchantName": "string",
    "colorType": 0,
    "textImageList": [
      {
        "imageUrl": "string",
        "wechatImageUrl": "string",
        "text": "string"
      }
    ],
    "partnerMode": "string",
    "channelType": "string",
    "originalId": "string",
    "useMethod": "string",
    "centerScene": {
      "index": 0,
      "isOpen": true,
      "sceneType": 0,
      "sceneTitle": "string",
      "sceneSubTitle": "string",
      "sceneUrl": "string",
      "sceneId": 0,
      "scenePageId": 0,
      "h5Url": "string",
      "miniUrl": "string",
      "sceneTypeUrlText": "string"
    },
    "customScene": {
      "index": 0,
      "isOpen": true,
      "sceneType": 0,
      "sceneTitle": "string",
      "sceneSubTitle": "string",
      "sceneUrl": "string",
      "sceneId": 0,
      "scenePageId": 0,
      "h5Url": "string",
      "miniUrl": "string",
      "sceneTypeUrlText": "string"
    },
    "logoImg": {
      "imgId": 0,
      "imgUrl": "string",
      "wechatImgUrl": "string"
    },
    "surfaceImg": {
      "imgId": 0,
      "imgUrl": "string",
      "wechatImgUrl": "string"
    },
    "userGuide": "string",
    "surfaceTitle": "string",
    "centerSceneType": 0,
    "centerSceneUrl": "string",
    "centerSceneUrlName": "string",
    "customSceneSwitch": false,
    "customSceneTitle": "string",
    "customSceneSubTitle": "string",
    "customSceneUrl": "string",
    "customSceneUrlName": "string",
    "miniprogAppId": "string",
    "publicAppId": "string",
    "appUserName": "string"
  },
  "status": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|baseInfo|object|false|none||券模板基础信息|
|setting|object|false|none||券码设置|
|reduceRule|object|false|none||券模板优惠规则|
|sendRule|object|false|none||券模板发放规则|
|useRule|object|false|none||券模板使用规则|
|otherSetting|object|false|none||模板其他设置|
|createInfo|object|false|none||模板创建信息|
|wxInfo|[CouponTemplateWxInfoVO](#schemacoupontemplatewxinfovo)|false|none||微信|
|status|integer|false|none||券模板状态|

<h2 id="tocS_CouponTemplateWxInfoVO">CouponTemplateWxInfoVO</h2>

<a id="schemacoupontemplatewxinfovo"></a>
<a id="schema_CouponTemplateWxInfoVO"></a>
<a id="tocScoupontemplatewxinfovo"></a>
<a id="tocscoupontemplatewxinfovo"></a>

```json
{
  "merchantName": "string",
  "colorType": 0,
  "textImageList": [
    {
      "imageUrl": "string",
      "wechatImageUrl": "string",
      "text": "string"
    }
  ],
  "partnerMode": "string",
  "channelType": "string",
  "originalId": "string",
  "useMethod": "string",
  "centerScene": {
    "index": 0,
    "isOpen": true,
    "sceneType": 0,
    "sceneTitle": "string",
    "sceneSubTitle": "string",
    "sceneUrl": "string",
    "sceneId": 0,
    "scenePageId": 0,
    "h5Url": "string",
    "miniUrl": "string",
    "sceneTypeUrlText": "string"
  },
  "customScene": {
    "index": 0,
    "isOpen": true,
    "sceneType": 0,
    "sceneTitle": "string",
    "sceneSubTitle": "string",
    "sceneUrl": "string",
    "sceneId": 0,
    "scenePageId": 0,
    "h5Url": "string",
    "miniUrl": "string",
    "sceneTypeUrlText": "string"
  },
  "logoImg": {
    "imgId": 0,
    "imgUrl": "string",
    "wechatImgUrl": "string"
  },
  "surfaceImg": {
    "imgId": 0,
    "imgUrl": "string",
    "wechatImgUrl": "string"
  },
  "userGuide": "string",
  "surfaceTitle": "string",
  "centerSceneType": 0,
  "centerSceneUrl": "string",
  "centerSceneUrlName": "string",
  "customSceneSwitch": false,
  "customSceneTitle": "string",
  "customSceneSubTitle": "string",
  "customSceneUrl": "string",
  "customSceneUrlName": "string",
  "miniprogAppId": "string",
  "publicAppId": "string",
  "appUserName": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|merchantName|string|false|none||商户名称|
|colorType|integer|false|none||优惠券颜色<br />1, "#FF4C50"<br />2, "#FF963D"<br />3, "#FFCF3D"<br />4, "#73D13D"<br />5, "#4FB2FF"<br />6, "#4F77FF"<br />7, "#8B4FFF"|
|textImageList|[[TextImageVO](#schematextimagevo)]|false|none||图文列表|
|partnerMode|string|false|none||合作模式，业务自行选择 “DIRECT_SERVICER” OR “STORE_SERVICER”|
|channelType|string|false|none||支付场景|
|originalId|string|false|none||appId|
|useMethod|string|false|none||核销方式枚举值：<br />OFF_LINE：线下滴码核销，点击券“立即使用”跳转展示券二维码详情。<br />MINI_PROGRAMS：线上小程序核销，点击券“立即使用”跳转至配置的商家小程序（需要添加小程序appid和path）。<br />PAYMENT_CODE：微信支付付款码核销，点击券“立即使用”跳转至微信支付钱包付款码。<br />SELF_CONSUME：用户自助核销，点击券“立即使用”跳转至用户自助操作核销界面（当前暂不支持用户自助核销）。<br />示例值：OFF_LINE|
|centerScene|[SceneVO](#schemascenevo)|false|none||中心入口（立即使用）|
|customScene|[SceneVO](#schemascenevo)|false|none||中心入口（立即使用）|
|logoImg|[ImageUnit](#schemaimageunit)|false|none||logo图片|
|surfaceImg|[ImageUnit](#schemaimageunit)|false|none||logo图片|
|userGuide|string|false|none||操作说明|
|surfaceTitle|string|false|none||封面简介|
|centerSceneType|integer|false|none||"立即使用"入口跳转方式{@link com.weimob.saas.ec.coupon.model.request.constant.UseMethodEnum}|
|centerSceneUrl|string|false|none||"立即使用"入口跳转链接|
|centerSceneUrlName|string|false|none||"立即使用"入口跳转链接名称|
|customSceneSwitch|boolean|false|none||自定义入口开关（默认关闭）|
|customSceneTitle|string|false|none||自定义入口名称|
|customSceneSubTitle|string|false|none||自定义入口引导|
|customSceneUrl|string|false|none||自定义入口跳转链接|
|customSceneUrlName|string|false|none||自定义入口跳转链接名称|
|miniprogAppId|string|false|none||小程序appid|
|publicAppId|string|false|none||公众号appid|
|appUserName|string|false|none||已发布的小程序名称|

<h2 id="tocS_ImageUnit">ImageUnit</h2>

<a id="schemaimageunit"></a>
<a id="schema_ImageUnit"></a>
<a id="tocSimageunit"></a>
<a id="tocsimageunit"></a>

```json
{
  "imgId": 0,
  "imgUrl": "string",
  "wechatImgUrl": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|imgId|integer|false|none||图片Id|
|imgUrl|string|false|none||图片地址|
|wechatImgUrl|string|false|none||微信图片地址|

<h2 id="tocS_SceneVO">SceneVO</h2>

<a id="schemascenevo"></a>
<a id="schema_SceneVO"></a>
<a id="tocSscenevo"></a>
<a id="tocsscenevo"></a>

```json
{
  "index": 0,
  "isOpen": true,
  "sceneType": 0,
  "sceneTitle": "string",
  "sceneSubTitle": "string",
  "sceneUrl": "string",
  "sceneId": 0,
  "scenePageId": 0,
  "h5Url": "string",
  "miniUrl": "string",
  "sceneTypeUrlText": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|index|integer|false|none||索引字段(1中心入口 2下方第一个入口 3下方第二个入口)|
|isOpen|boolean|false|none||是否开启入口|
|sceneType|integer|false|none||场景类型（1:店铺首页；2:活动商品页面；3:活动商品页面；4:活动商品页面；5:活动商品页面；）|
|sceneTitle|string|false|none||场景名称|
|sceneSubTitle|string|false|none||场景提示语|
|sceneUrl|string|false|none||场景链接地址|
|sceneId|integer|false|none||场景id|
|scenePageId|integer|false|none||页面id|
|h5Url|string|false|none||场景链接地址h5|
|miniUrl|string|false|none||场景链接地址小程序|
|sceneTypeUrlText|string|false|none||场景跳转链接描述|

<h2 id="tocS_CouponTemplateCreateInfoVO">CouponTemplateCreateInfoVO</h2>

<a id="schemacoupontemplatecreateinfovo"></a>
<a id="schema_CouponTemplateCreateInfoVO"></a>
<a id="tocScoupontemplatecreateinfovo"></a>
<a id="tocscoupontemplatecreateinfovo"></a>

```json
{
  "createTime": "string",
  "createAreaId": 0,
  "createAreaCode": "string",
  "createType": 0,
  "createChannel": 0,
  "operatorId": 0,
  "requestChannel": 0,
  "source": "MALL"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|createTime|string|false|none||创建时间|
|createAreaId|integer|false|none||【基础信息】归属区域|
|createAreaCode|string|false|none||【基础信息】归属区域码值|
|createType|integer|false|none||【基础信息】归属类型,1:商家,2:区域,3:门店|
|createChannel|integer|false|none||创建渠道<br />1:B端后台,2:openapi,3:旺铺迁移,4:直播APP,5:异业平台-计划申领|
|operatorId|integer|false|none||操作人id|
|requestChannel|integer|false|none||请求渠道<br />目前用于业务方告知请求渠道信息，发送OpenAPI消息|
|source|string|false|none||来源|

#### 枚举值

|属性|值|
|---|---|
|source|MALL|
|source|FOR_HERE|
|source|TAKE_OUT|
|source|WINE_TOUR|

<h2 id="tocS_CouponTemplateOtherSettingVO">CouponTemplateOtherSettingVO</h2>

<a id="schemacoupontemplateothersettingvo"></a>
<a id="schema_CouponTemplateOtherSettingVO"></a>
<a id="tocScoupontemplateothersettingvo"></a>
<a id="tocscoupontemplateothersettingvo"></a>

```json
{
  "hasMemberTag": true,
  "memberTagIds": [
    {
      "id": 0,
      "name": "string",
      "type": 0,
      "list": [
        {
          "id": 0,
          "name": "string",
          "startValue": "string",
          "endValue": "string"
        }
      ]
    }
  ],
  "explain": "string",
  "imageUrl": {
    "iconUrl": "string",
    "wechatIconUrl": "string",
    "shareImgUrl": "string",
    "logoUrl": "string",
    "wechatLogoUrl": "string"
  },
  "abstractTitle": "string",
  "isOpenMessage": true,
  "messageStockNum": 0,
  "wechatLiveNickName": "string",
  "wechatLiveSyncMsg": "string",
  "canWeimobEdit": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|hasMemberTag|boolean|false|none||是否为用户打标签|
|memberTagIds|[[MemberTagId](#schemamembertagid)]|false|none||会员标签集合|
|explain|string|false|none||使用说明|
|imageUrl|[ImageUrl](#schemaimageurl)|false|none||图片相关url|
|abstractTitle|string|false|none||封面简介|
|isOpenMessage|boolean|false|none||是否开启短信提醒|
|messageStockNum|integer|false|none||短信提醒的库存数量|
|wechatLiveNickName|string|false|none||视频号昵称，券是视频号发券渠道时必有|
|wechatLiveSyncMsg|string|false|none||券同步微信视频号渠道错误信息|
|canWeimobEdit|boolean|false|none||是否允许微盟系统编辑,默认可以|

<h2 id="tocS_ImageUrl">ImageUrl</h2>

<a id="schemaimageurl"></a>
<a id="schema_ImageUrl"></a>
<a id="tocSimageurl"></a>
<a id="tocsimageurl"></a>

```json
{
  "iconUrl": "string",
  "wechatIconUrl": "string",
  "shareImgUrl": "string",
  "logoUrl": "string",
  "wechatLogoUrl": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|iconUrl|string|false|none||封面图片地址|
|wechatIconUrl|string|false|none||微信封面图片地址|
|shareImgUrl|string|false|none||分享图片URL|
|logoUrl|string|false|none||优惠券Logo图片地址|
|wechatLogoUrl|string|false|none||微信卡券logo|

<h2 id="tocS_MemberTagId">MemberTagId</h2>

<a id="schemamembertagid"></a>
<a id="schema_MemberTagId"></a>
<a id="tocSmembertagid"></a>
<a id="tocsmembertagid"></a>

```json
{
  "id": 0,
  "name": "string",
  "type": 0,
  "list": [
    {
      "id": 0,
      "name": "string",
      "startValue": "string",
      "endValue": "string"
    }
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|integer|false|none||标签id|
|name|string|false|none||标签名称|
|type|integer|false|none||标签类型|
|list|[[TagVale](#schematagvale)]|false|none||标签属性列表|

<h2 id="tocS_TagVale">TagVale</h2>

<a id="schematagvale"></a>
<a id="schema_TagVale"></a>
<a id="tocStagvale"></a>
<a id="tocstagvale"></a>

```json
{
  "id": 0,
  "name": "string",
  "startValue": "string",
  "endValue": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|integer|false|none||属性id|
|name|string|false|none||属性名称|
|startValue|string|false|none||none|
|endValue|string|false|none||none|

<h2 id="tocS_CouponTemplateUseRuleVO">CouponTemplateUseRuleVO</h2>

<a id="schemacoupontemplateuserulevo"></a>
<a id="schema_CouponTemplateUseRuleVO"></a>
<a id="tocScoupontemplateuserulevo"></a>
<a id="tocscoupontemplateuserulevo"></a>

```json
{
  "useValidDate": {
    "useTimeType": 0,
    "subUseTimeType": 0,
    "useStartTime": "string",
    "useEndTime": "string",
    "useDelayDays": 0,
    "validDays": 0,
    "validDateDesc": "string"
  },
  "hasUseThreshold": true,
  "durationThreshold": 0,
  "canCashTicket": true,
  "goodsCashTicket": 0,
  "canGoodsNumber": true,
  "minGoodsNumber": 0,
  "maxGoodsNumber": 0,
  "acceptTypeDTO": {},
  "acceptInfo": {
    "noLimitGoods": true,
    "goodsProductIds": [
      0
    ],
    "sourceIds": [
      0
    ],
    "acceptGoodsInfos": [
      {
        "productId": 0,
        "sourceId": 0,
        "channelShopName": "string",
        "channelName": "string",
        "acceptType": 0,
        "acceptItems": [
          {
            "acceptId": null,
            "bizVid": null,
            "acceptExt": null
          }
        ],
        "excludeType": 0,
        "includeStoreGoods": true,
        "showAcceptItems": [
          {
            "acceptId": null,
            "name": null,
            "level": null,
            "parentId": null,
            "child": null,
            "imgUrl": null,
            "extInfo": null,
            "isDeleted": null
          }
        ],
        "excludeAcceptItems": [
          {
            "acceptId": null,
            "bizVid": null,
            "acceptExt": null
          }
        ],
        "showExcludeAcceptItems": [
          {
            "acceptId": null,
            "name": null,
            "level": null,
            "parentId": null,
            "child": null,
            "imgUrl": null,
            "extInfo": null,
            "isDeleted": null
          }
        ]
      }
    ]
  },
  "acceptGoodsTypeDesc": "string",
  "acceptStoreTypeDesc": "string",
  "isAllUseScene": true,
  "allSceneDTO": {
    "productIds": [
      0
    ],
    "shoppingMallSceneList": [
      "MICRO_MALL"
    ],
    "forHereSceneList": [
      0
    ],
    "takeOutSceneList": [
      0
    ],
    "WineTourSceneList": [
      0
    ]
  },
  "usageDesType": 0,
  "isAllTimeUse": true,
  "cycleUseRule": [
    {
      "weekDay": [
        0
      ],
      "timeSegment": [
        {
          "beginHour": 0,
          "endHour": 0,
          "beginMinute": 0,
          "endMinute": 0
        }
      ],
      "dates": [
        "string"
      ],
      "festivals": [
        "L0101"
      ]
    }
  ],
  "hasUnuseTime": true,
  "cycleUnuseRule": [
    {
      "weekDay": [
        0
      ],
      "timeSegment": [
        {
          "beginHour": 0,
          "endHour": 0,
          "beginMinute": 0,
          "endMinute": 0
        }
      ],
      "dates": [
        "string"
      ],
      "festivals": [
        "L0101"
      ]
    }
  ],
  "superpositionRule": {
    "isSuperposition": true,
    "sameSuperposition": true,
    "differentSuperposition": true,
    "limit": 0,
    "differentSuperpositionType": 0,
    "resourceTemplateIds": [
      0
    ]
  },
  "canUseDiscount": {
    "canUseWithOtherDiscount": true,
    "shoppingMallDiscount": [
      0
    ],
    "forHereDiscount": [
      0
    ],
    "takeOutDiscount": [
      0
    ],
    "wineTourDiscount": [
      0
    ]
  },
  "orderDeductList": [
    "INTEGRAL"
  ],
  "importGoodsFlag": true,
  "importGoodsFileName": "string",
  "addOfflineWhiteList": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|useValidDate|[UseValidDate](#schemausevaliddate)|false|none||券的有效期|
|hasUseThreshold|boolean|false|none||是否使用有门槛|
|durationThreshold|number|false|none||时长门槛 单位分|
|canCashTicket|boolean|false|none||是否开启满元门槛|
|goodsCashTicket|number|false|none||商品金额满元门槛|
|canGoodsNumber|boolean|false|none||是否开启满件门槛|
|minGoodsNumber|integer|false|none||满件最低|
|maxGoodsNumber|integer|false|none||满件最高|
|acceptTypeDTO|object|false|none||适用类型dto|
|acceptInfo|[AcceptInfoVO](#schemaacceptinfovo)|false|none||适用信息<br />巴拉线下商品二期引入|
|acceptGoodsTypeDesc|string|false|none||适用商品描述|
|acceptStoreTypeDesc|string|false|none||适用门店描述|
|isAllUseScene|boolean|false|none||是否是全部核销场景|
|allSceneDTO|[AllSceneDTO](#schemaallscenedto)|false|none||核销场景：商城、堂食、外卖、酒旅|
|usageDesType|integer|false|none||none|
|isAllTimeUse|boolean|false|none||可用时段类型核销<br />是否是全部时段|
|cycleUseRule|[[UsableTimeRuleDTO](#schemausabletimeruledto)]|false|none||部分时段可核销|
|hasUnuseTime|boolean|false|none||是否有部分时段不可用|
|cycleUnuseRule|[[UsableTimeRuleDTO](#schemausabletimeruledto)]|false|none||部分时段不可核销|
|superpositionRule|[SuperpositionRuleDTO](#schemasuperpositionruledto)|false|none||叠加规则|
|canUseDiscount|[CanUseDiscountDTO](#schemacanusediscountdto)|false|none||可共享的优惠|
|orderDeductList|[integer]|false|none||下单可同时使用抵扣(1积分;2余额;3礼品卡)|
|importGoodsFlag|boolean|false|none||是否是导入商品|
|importGoodsFileName|string|false|none||导入文件名|
|addOfflineWhiteList|boolean|false|none||增加到线下商品白名单内|

<h2 id="tocS_CanUseDiscountDTO">CanUseDiscountDTO</h2>

<a id="schemacanusediscountdto"></a>
<a id="schema_CanUseDiscountDTO"></a>
<a id="tocScanusediscountdto"></a>
<a id="tocscanusediscountdto"></a>

```json
{
  "canUseWithOtherDiscount": true,
  "shoppingMallDiscount": [
    0
  ],
  "forHereDiscount": [
    0
  ],
  "takeOutDiscount": [
    0
  ],
  "wineTourDiscount": [
    0
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|canUseWithOtherDiscount|boolean|false|none||是否与其他活动共享优惠|
|shoppingMallDiscount|[integer]|false|none||商城可共享优惠|
|forHereDiscount|[integer]|false|none||堂食可共享优惠|
|takeOutDiscount|[integer]|false|none||外卖可共享优惠|
|wineTourDiscount|[integer]|false|none||酒旅可共享优惠|

<h2 id="tocS_SuperpositionRuleDTO">SuperpositionRuleDTO</h2>

<a id="schemasuperpositionruledto"></a>
<a id="schema_SuperpositionRuleDTO"></a>
<a id="tocSsuperpositionruledto"></a>
<a id="tocssuperpositionruledto"></a>

```json
{
  "isSuperposition": true,
  "sameSuperposition": true,
  "differentSuperposition": true,
  "limit": 0,
  "differentSuperpositionType": 0,
  "resourceTemplateIds": [
    0
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|isSuperposition|boolean|false|none||允许叠加|
|sameSuperposition|boolean|false|none||允许相同叠加 0不允许，1允许|
|differentSuperposition|boolean|false|none||允许不同叠加|
|limit|integer|false|none||单笔订单叠加上限|
|differentSuperpositionType|integer|false|none||允许不同券叠加时，是指定券叠加还是全部券可叠加|
|resourceTemplateIds|[integer]|false|none||允许不同券叠加时，指定可以叠加的券id，不指定则是全部券都可叠加|

<h2 id="tocS_TradeCouponInfo">TradeCouponInfo</h2>

<a id="schematradecouponinfo"></a>
<a id="schema_TradeCouponInfo"></a>
<a id="tocStradecouponinfo"></a>
<a id="tocstradecouponinfo"></a>

```json
{
  "bosId": 0,
  "vid": 0,
  "name": "string",
  "couponTemplateId": 0,
  "thirdTemplateId": "string",
  "receiveCouponInfos": [
    {
      "code": "string",
      "name": "string",
      "couponTemplateId": 0,
      "discountAmount": 0,
      "useThreshold": 0,
      "discountDuration": 0,
      "useDurationThreshold": 0,
      "wid": 0,
      "publishTime": "string",
      "expireTime": "string",
      "effectTime": "string"
    }
  ],
  "desc": "string",
  "platformType": 0,
  "couponType": 0,
  "couponSubType": 0,
  "couponTemplateStatus": 0,
  "subName": "string",
  "explain": "string",
  "orderDeductList": [
    0
  ],
  "canUseWithOtherDiscount": true,
  "pricingType": 0,
  "validDate": {
    "useTimeType": 0,
    "subUseTimeType": 0,
    "useStartTime": "string",
    "useEndTime": "string",
    "useDelayDays": 0,
    "validDays": 0,
    "validDateDesc": "string"
  },
  "canCashTicket": true,
  "reducePriceType": 0,
  "skuInfos": [
    {
      "skuId": 0,
      "goodsId": 0,
      "vid": 0,
      "itemTitle": "string",
      "specValueInfo": "string",
      "salePrice": 0,
      "productId": 145,
      "channel": 0,
      "channelName": "string",
      "defaultImageUrl": "string"
    }
  ],
  "vidInfos": [
    {
      "merchantId": 0,
      "bosId": 0,
      "vid": 0,
      "vidType": 0,
      "parentVids": [
        {
          "vid": 0,
          "vidCode": "string",
          "vidType": 0
        }
      ]
    }
  ],
  "minGoodsNumber": 0,
  "maxGoodsNumber": 0,
  "minCashTicketAmt": 0,
  "maxCashTicketAmt": 0,
  "conditionType": 0,
  "useConditionValue": 0,
  "errorCode": "string",
  "errorMessage": "string",
  "isCanSend": true,
  "canUseDiscountDTO": {
    "canUseWithOtherDiscount": true,
    "shoppingMallDiscount": [
      0
    ],
    "forHereDiscount": [
      0
    ],
    "takeOutDiscount": [
      0
    ],
    "wineTourDiscount": [
      0
    ]
  },
  "superpositionRule": {
    "isSuperposition": true,
    "sameSuperposition": true,
    "differentSuperposition": true,
    "limit": 0,
    "differentSuperpositionType": 0,
    "resourceTemplateIds": [
      "ALL"
    ]
  },
  "discountLimitType": 0,
  "discountLimitValue": 0,
  "tradeType": 0,
  "shippingMethods": [
    "MERCHANT_DELIVERY"
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|bosId|integer|false|none||none|
|vid|integer|false|none||none|
|name|string|false|none||券名称|
|couponTemplateId|integer|false|none||券模板id|
|thirdTemplateId|string|false|none||三方券id|
|receiveCouponInfos|[[TradeReceivedCouponInfo](#schematradereceivedcouponinfo)]|false|none||券实例信息|
|desc|string|false|none||券描述|
|platformType|integer|false|none||券平台类型|
|couponType|integer|false|none||券类型|
|couponSubType|integer|false|none||券子类型|
|couponTemplateStatus|integer|false|none||券模板状态|
|subName|string|false|none||副标题|
|explain|string|false|none||券说明|
|orderDeductList|[integer]|false|none||下单可使用抵扣|
|canUseWithOtherDiscount|boolean|false|none||是否与其他优惠共享|
|pricingType|integer|false|none||计价类型|
|validDate|[UseValidDate](#schemausevaliddate)|false|none||券的有效期|
|canCashTicket|boolean|false|none||是否开启满元门槛|
|reducePriceType|integer|false|none||减免的类型|
|skuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||商品信息|
|vidInfos|[[VidInfo1](#schemavidinfo1)]|false|none||优惠券作用的vid|
|minGoodsNumber|integer|false|none||满件最低|
|maxGoodsNumber|integer|false|none||满件最高|
|minCashTicketAmt|number|false|none||随机金额券 最低减免金额|
|maxCashTicketAmt|number|false|none||随机金额券 最高减免金额|
|conditionType|integer|false|none||门槛类型 满元/满件|
|useConditionValue|number|false|none||门槛值|
|errorCode|string|false|none||错误码|
|errorMessage|string|false|none||错误信息|
|isCanSend|boolean|false|none||是否可领取|
|canUseDiscountDTO|[CanUseDiscountDTO](#schemacanusediscountdto)|false|none||可共享的优惠|
|superpositionRule|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)|false|none||叠加规则|
|discountLimitType|integer|false|none||折扣券优惠上限类型|
|discountLimitValue|number|false|none||折扣券优惠上限|
|tradeType|integer|false|none||是否可跨店结算使用|
|shippingMethods|[integer]|false|none||商品配送类型|

<h2 id="tocS_VidInfo1">VidInfo1</h2>

<a id="schemavidinfo1"></a>
<a id="schema_VidInfo1"></a>
<a id="tocSvidinfo1"></a>
<a id="tocsvidinfo1"></a>

```json
{
  "merchantId": 0,
  "bosId": 0,
  "vid": 0,
  "vidType": 0,
  "parentVids": [
    {
      "vid": 0,
      "vidCode": "string",
      "vidType": 0
    }
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|merchantId|integer|false|none||none|
|bosId|integer|false|none||none|
|vid|integer|false|none||none|
|vidType|integer|false|none||none|
|parentVids|[[VidTypeInfo](#schemavidtypeinfo)]|false|none||none|

<h2 id="tocS_VidTypeInfo">VidTypeInfo</h2>

<a id="schemavidtypeinfo"></a>
<a id="schema_VidTypeInfo"></a>
<a id="tocSvidtypeinfo"></a>
<a id="tocsvidtypeinfo"></a>

```json
{
  "vid": 0,
  "vidCode": "string",
  "vidType": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|vid|integer|false|none||none|
|vidCode|string|false|none||vid优先|
|vidType|integer|false|none||none|

<h2 id="tocS_SuperpositionRuleDTO2">SuperpositionRuleDTO2</h2>

<a id="schemasuperpositionruledto2"></a>
<a id="schema_SuperpositionRuleDTO2"></a>
<a id="tocSsuperpositionruledto2"></a>
<a id="tocssuperpositionruledto2"></a>

```json
{
  "isSuperposition": true,
  "sameSuperposition": true,
  "differentSuperposition": true,
  "limit": 0,
  "differentSuperpositionType": 0,
  "resourceTemplateIds": [
    "ALL"
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|isSuperposition|boolean|false|none||是否支持叠加<br />默认不支持|
|sameSuperposition|boolean|false|none||允许相同券叠加|
|differentSuperposition|boolean|false|none||允许不相同券叠加|
|limit|integer|false|none||单笔订单叠加上限|
|differentSuperpositionType|integer|false|none||允许不同券叠加时，是指定券叠加还是全部券可叠加<br />1均可叠加 2指定可叠加<br />当differentSuperposition=true时有值|
|resourceTemplateIds|[integer]|false|none||实例里面允许不通过券叠加指定叠加的实例id 设置均可叠加时无此字段|

<h2 id="tocS_TradeReceivedCouponInfo">TradeReceivedCouponInfo</h2>

<a id="schematradereceivedcouponinfo"></a>
<a id="schema_TradeReceivedCouponInfo"></a>
<a id="tocStradereceivedcouponinfo"></a>
<a id="tocstradereceivedcouponinfo"></a>

```json
{
  "code": "string",
  "name": "string",
  "couponTemplateId": 0,
  "discountAmount": 0,
  "useThreshold": 0,
  "discountDuration": 0,
  "useDurationThreshold": 0,
  "wid": 0,
  "publishTime": "string",
  "expireTime": "string",
  "effectTime": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|string|false|none||优惠券码|
|name|string|false|none||名称|
|couponTemplateId|integer|false|none||券模板id|
|discountAmount|number|false|none||优惠金额|
|useThreshold|number|false|none||使用门槛|
|discountDuration|number|false|none||减免时长 单位分|
|useDurationThreshold|number|false|none||减免时长门槛 单位分|
|wid|integer|false|none||领取用户wid|
|publishTime|string|false|none||领取时间|
|expireTime|string|false|none||过期时间|
|effectTime|string|false|none||有效开始时间|

<h2 id="tocS_AcceptTypeVO">AcceptTypeVO</h2>

<a id="schemaaccepttypevo"></a>
<a id="schema_AcceptTypeVO"></a>
<a id="tocSaccepttypevo"></a>
<a id="tocsaccepttypevo"></a>

```json
{
  "acceptStoreType": 0,
  "acceptStoreIds": [
    0
  ],
  "acceptGoodsType": 0,
  "acceptGoodsIds": [
    0
  ],
  "existExcludeGoods": true,
  "excludeGoodsIds": [
    0
  ],
  "existExcludeStore": true,
  "excludeStoreIds": [
    0
  ],
  "includeStoreGoods": true,
  "acceptGoodGroups": [
    {
      "classifyId": 0,
      "name": "string",
      "classifyLevel": 0,
      "parentId": 0,
      "child": [
        {}
      ],
      "bizVid": 0,
      "productId": 0,
      "channel": 0,
      "channelName": "string"
    }
  ],
  "skuInfos": [
    {
      "skuId": 0,
      "goodsId": 0,
      "vid": 0,
      "itemTitle": "string",
      "specValueInfo": "string",
      "salePrice": 0,
      "productId": 145,
      "channel": 0,
      "channelName": "string",
      "defaultImageUrl": "string"
    }
  ],
  "excludeSkuInfos": [
    {
      "skuId": 0,
      "goodsId": 0,
      "vid": 0,
      "itemTitle": "string",
      "specValueInfo": "string",
      "salePrice": 0,
      "productId": 145,
      "channel": 0,
      "channelName": "string",
      "defaultImageUrl": "string"
    }
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|acceptStoreType|integer|false|none||适用门店类型（1或6:全部门店适用；2指定区域适用 3 指定门店适用 4门店标签， 5混选）|
|acceptStoreIds|[integer]|false|none||适用门店列表|
|acceptGoodsType|integer|false|none||适用商品类型（1:全部商品适用；2:部分商品适用;3:部分商品不适用;5:部分类目适用;7:部分分组适用）|
|acceptGoodsIds|[integer]|false|none||适用商品列表|
|existExcludeGoods|boolean|false|none||是否存在排除商品|
|excludeGoodsIds|[integer]|false|none||排除商品列表|
|existExcludeStore|boolean|false|none||是否存在排除门店|
|excludeStoreIds|[integer]|false|none||排除的门店列表|
|includeStoreGoods|boolean|false|none||是否包含门店自建商品|
|acceptGoodGroups|[[GoodGroup](#schemagoodgroup)]|false|none||建券时，商品分组|
|skuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||建券支持sku级别|
|excludeSkuInfos|[[SkuInfo](#schemaskuinfo)]|false|none||建券支持sku级别（排除）|

<h2 id="tocS_CouponTemplateSendRuleVO">CouponTemplateSendRuleVO</h2>

<a id="schemacoupontemplatesendrulevo"></a>
<a id="schema_CouponTemplateSendRuleVO"></a>
<a id="tocScoupontemplatesendrulevo"></a>
<a id="tocscoupontemplatesendrulevo"></a>

```json
{
  "sendTimeType": 0,
  "sendStartDate": "string",
  "sendEndDate": "string",
  "isPayment": true,
  "sendChannels": [
    "DEFAULT_CHANNEL"
  ],
  "recommendStartTime": "string",
  "recommendEndTime": "string",
  "isAcceptAllCrowd": true,
  "crowd": {
    "ruleContent": "string",
    "selectedData": "string",
    "ruleId": 0
  },
  "hasUserTakeLimit": true,
  "userTakeLimit": 0,
  "hasUserTakeDayLimit": false,
  "userTakeDayLimit": 0,
  "canStoreLaunch": true,
  "canGift": true,
  "canShare": true,
  "storeLimitNum": 0,
  "hasGuideLimit": false,
  "guideLimitNum": 0,
  "merchantIssueChannels": [
    0
  ],
  "merchantPublish": true,
  "shoppingPublish": true,
  "customerListPublish": true,
  "servicePublish": true,
  "activityPublish": true,
  "customerDirectReceive": true,
  "scanByIssue": true,
  "enterpriseAssistant": true,
  "merchantDelivery": false,
  "limitedTimeDelivery": false,
  "wechatLiveIssue": true,
  "hasGiftLimit": true,
  "giftCountLimit": 0,
  "canReserve": true,
  "isOpenRecommend": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|sendTimeType|integer|false|none||发放时间类型 (1无限制；2固定时间)|
|sendStartDate|string|false|none||发放开始时间|
|sendEndDate|string|false|none||发放结束时间|
|isPayment|boolean|false|none||是否付费|
|sendChannels|[integer]|false|none||发放场景：1 店铺直接领取；2 活动发券；3 商家发券；4 导购发券；5 客户列表发券；6 客服送券|
|recommendStartTime|string|false|none||推荐领取开始时间|
|recommendEndTime|string|false|none||推荐领取结束时间|
|isAcceptAllCrowd|boolean|false|none||适用人群类型<br />是否适用全部人群|
|crowd|[Crowd](#schemacrowd)|false|none||适用人群|
|hasUserTakeLimit|boolean|false|none||是否有限领|
|userTakeLimit|integer|false|none||用户限领优惠券张数|
|hasUserTakeDayLimit|boolean|false|none||是否有每日限领|
|userTakeDayLimit|integer|false|none||用户每日限领|
|canStoreLaunch|boolean|false|none||是否允许下级投放|
|canGift|boolean|false|none||是否可以转赠（SaaS券、微信券）|
|canShare|boolean|false|none||是否可以分享领取|
|storeLimitNum|integer|false|none||单店最多发放|
|hasGuideLimit|boolean|false|none||是否开启导购发券次数限制|
|guideLimitNum|integer|false|none||导购发券数量限制 0表示不限制|
|merchantIssueChannels|[integer]|false|none||商家发券渠道二级渠道|
|merchantPublish|boolean|false|none||商家发券|
|shoppingPublish|boolean|false|none||导购发券|
|customerListPublish|boolean|false|none||客户列表发券|
|servicePublish|boolean|false|none||客服发券|
|activityPublish|boolean|false|none||活动发券|
|customerDirectReceive|boolean|false|none||是否客户直接领取|
|scanByIssue|boolean|false|none||扫码购|
|enterpriseAssistant|boolean|false|none||企微助手|
|merchantDelivery|boolean|false|none||运费券的配送方式：商家配送|
|limitedTimeDelivery|boolean|false|none||运费券的配送方式：同城限时达|
|wechatLiveIssue|boolean|false|none||是否是视频号渠道发券|
|hasGiftLimit|boolean|false|none||是否限制转增次数，true为限制|
|giftCountLimit|integer|false|none||当限制转增次数时，券的转增次数|
|canReserve|boolean|false|none||是否开启预约领券|
|isOpenRecommend|boolean|false|none||是否开启推荐|

#### 枚举值

|属性|值|
|---|---|
|merchantDelivery|false|
|merchantDelivery|false|
|limitedTimeDelivery|false|
|limitedTimeDelivery|false|

<h2 id="tocS_Crowd">Crowd</h2>

<a id="schemacrowd"></a>
<a id="schema_Crowd"></a>
<a id="tocScrowd"></a>
<a id="tocscrowd"></a>

```json
{
  "ruleContent": "string",
  "selectedData": "string",
  "ruleId": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|ruleContent|string|false|none||规则内容 json|
|selectedData|string|false|none||选择内容 json|
|ruleId|integer|false|none||人群id|

<h2 id="tocS_CouponTemplateReduceRuleVO">CouponTemplateReduceRuleVO</h2>

<a id="schemacoupontemplatereducerulevo"></a>
<a id="schema_CouponTemplateReduceRuleVO"></a>
<a id="tocScoupontemplatereducerulevo"></a>
<a id="tocscoupontemplatereducerulevo"></a>

```json
{
  "reducePriceType": 0,
  "maxReducePrice": 0,
  "cashTicketAmt": 0,
  "reduceDuration": 0,
  "discount": 0,
  "discountLimitType": 0,
  "discountLimitValue": 0,
  "maxDiscountNum": 0,
  "minCashTicketAmt": 0,
  "maxCashTicketAmt": 0,
  "couponCostType": 0,
  "couponCost": 0,
  "pricingType": 0,
  "exchangeGoodsType": 0,
  "exchangeGoodsIds": [
    0
  ],
  "exchangeGoodsNum": 0,
  "costOfOrganization": 0,
  "costOfStore": 0,
  "freightReduceType": 0,
  "reducePriceDesc": "string",
  "goodsDiscountThreshold": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|reducePriceType|integer|false|none||减免的类型<br />1130期增加|
|maxReducePrice|number|false|none||最大减免金额(满减券才有)|
|cashTicketAmt|number|false|none||代金券减免金额|
|reduceDuration|number|false|none||减免时长单位分钟|
|discount|number|false|none||折扣券减免折扣|
|discountLimitType|integer|false|none||折扣码：优惠上限类型 (1无上限；2最多优惠件；3最多优惠元)|
|discountLimitValue|number|false|none||折扣优惠上限值|
|maxDiscountNum|integer|false|none||折扣券 最大折扣数 （元或者件）|
|minCashTicketAmt|number|false|none||随机金额券 最低减免金额|
|maxCashTicketAmt|number|false|none||随机金额券 最高减免金额|
|couponCostType|integer|false|none||成本类型： 1.固定金额 2.固定成本|
|couponCost|number|false|none||成本金额 or 比例|
|pricingType|integer|false|none||计价方式 默认销售价 (兑换券无此字段)|
|exchangeGoodsType|integer|false|none||*<br />兑换券 兑换商品类型(指定线上商品；指定线下实物商品)|
|exchangeGoodsIds|[integer]|false|none||兑换券 兑换商指定线上商品id集合|
|exchangeGoodsNum|integer|false|none||兑换券 任选n件商品兑换|
|costOfOrganization|number|false|none||成本分摊<br />归属组织|
|costOfStore|number|false|none||成本分摊<br />归属门店|
|freightReduceType|integer|false|none||运费券减免类型<br />FIX_REDUCE(1, "固定减免特定金额运费"),<br />EXCLUDE_SPECIFIC_AMOUNTS(2, "排除超过特定金额的运费"),<br />FREE_OF_POSTAGE(3, "整单免邮");|
|reducePriceDesc|string|false|none||优惠描述|
|goodsDiscountThreshold|number|false|none||商品折扣门店<br />适用商品参与单品活动后价格需高于此折扣才可使用优惠券<br />1折则返回1|

<h2 id="tocS_CouponTemplateSettingVO">CouponTemplateSettingVO</h2>

<a id="schemacoupontemplatesettingvo"></a>
<a id="schema_CouponTemplateSettingVO"></a>
<a id="tocScoupontemplatesettingvo"></a>
<a id="tocscoupontemplatesettingvo"></a>

```json
{
  "stock": 0,
  "stockUnlimited": true,
  "codeGenerateType": 0,
  "customCodeSetting": {
    "customEndNum": 0,
    "customStartNum": 0,
    "fixLeft": "string",
    "fixRight": "string",
    "codeLength": 0,
    "isLetter": 0
  },
  "totalStock": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|stock|integer|false|none||优惠券库存|
|stockUnlimited|boolean|false|none||是否无库存限制|
|codeGenerateType|integer|true|none||code生成类型 0系统生成 1自定义 2导入|
|customCodeSetting|[CustomCodeSetting](#schemacustomcodesetting)|false|none||自定义号段设置|
|totalStock|integer|false|none||总库存|

<h2 id="tocS_CustomCodeSetting">CustomCodeSetting</h2>

<a id="schemacustomcodesetting"></a>
<a id="schema_CustomCodeSetting"></a>
<a id="tocScustomcodesetting"></a>
<a id="tocscustomcodesetting"></a>

```json
{
  "customEndNum": 0,
  "customStartNum": 0,
  "fixLeft": "string",
  "fixRight": "string",
  "codeLength": 0,
  "isLetter": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|customEndNum|integer|false|none||自定义号段结束|
|customStartNum|integer|false|none||自定义号段开始|
|fixLeft|string|false|none||code固定开头|
|fixRight|string|false|none||code固定结尾|
|codeLength|integer|false|none||长度|
|isLetter|integer|false|none||含字母(0不含字母;1含字母)|

<h2 id="tocS_CouponTemplateBaseInfoVO">CouponTemplateBaseInfoVO</h2>

<a id="schemacoupontemplatebaseinfovo"></a>
<a id="schema_CouponTemplateBaseInfoVO"></a>
<a id="tocScoupontemplatebaseinfovo"></a>
<a id="tocscoupontemplatebaseinfovo"></a>

```json
{
  "basicTemplateIds": [
    0
  ],
  "couponTemplateId": 0,
  "couponType": 0,
  "platformType": 0,
  "name": "string",
  "subName": "string",
  "couponDesc": "string",
  "couponSubType": 0,
  "merchantName": "string",
  "belongVid": 0,
  "belongVidName": "string",
  "thirdId": "string",
  "thirdTemplateId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|basicTemplateIds|[integer]|false|none||基础模板Id|
|couponTemplateId|integer|false|none||券模板Id|
|couponType|integer|true|none||优惠券类型(1.代金券;2.折扣券;3.兑换券)|
|platformType|integer|true|none||平台类型  1:微盟 ;2 微信 3: 支付宝|
|name|string|true|none||优惠券标题|
|subName|string|false|none||优惠券副标题|
|couponDesc|string|false|none||优惠券描述信息|
|couponSubType|integer|false|none||优惠券子类型|
|merchantName|string|false|none||商户名称|
|belongVid|integer|false|none||券归属vid|
|belongVidName|string|false|none||券归属vid名称|
|thirdId|string|false|none||第三方id<br />优先用thirdTemplateId<br />「已废弃」|
|thirdTemplateId|string|false|none||none|

<h2 id="tocS_CouponTemplateUseRuleVO3">CouponTemplateUseRuleVO3</h2>

<a id="schemacoupontemplateuserulevo3"></a>
<a id="schema_CouponTemplateUseRuleVO3"></a>
<a id="tocScoupontemplateuserulevo3"></a>
<a id="tocscoupontemplateuserulevo3"></a>

```json
{
  "useValidDate": {
    "useTimeType": 0,
    "subUseTimeType": 0,
    "useStartTime": "string",
    "useEndTime": "string",
    "useDelayDays": 0,
    "validDays": 0,
    "validDateDesc": "string"
  },
  "hasUseThreshold": true,
  "canCashTicket": true,
  "goodsCashTicket": 0,
  "canGoodsNumber": true,
  "minGoodsNumber": 0,
  "maxGoodsNumber": 0,
  "acceptTypeDTO": {},
  "isAllUseScene": true,
  "allSceneDTO": {
    "productIds": [
      0
    ],
    "shoppingMallSceneList": [
      "MICRO_MALL"
    ],
    "forHereSceneList": [
      0
    ],
    "takeOutSceneList": [
      0
    ],
    "WineTourSceneList": [
      0
    ]
  },
  "isAllTimeUse": true,
  "cycleUseRule": [
    {
      "weekDay": [
        0
      ],
      "timeSegment": [
        {
          "beginHour": 0,
          "endHour": 0,
          "beginMinute": 0,
          "endMinute": 0
        }
      ],
      "dates": [
        "string"
      ],
      "festivals": [
        "L0101"
      ]
    }
  ],
  "superpositionRule": {
    "isSuperposition": true,
    "sameSuperposition": true,
    "differentSuperposition": true,
    "limit": 0,
    "differentSuperpositionType": 0,
    "resourceTemplateIds": [
      "ALL"
    ]
  },
  "canUseDiscount": {
    "canUseWithOtherDiscount": true,
    "shoppingMallDiscount": [
      0
    ],
    "forHereDiscount": [
      0
    ],
    "takeOutDiscount": [
      0
    ],
    "wineTourDiscount": [
      0
    ]
  },
  "orderDeductList": [
    "INTEGRAL"
  ],
  "importGoodsFlag": true,
  "importGoodsFileName": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|useValidDate|[UseValidDate4](#schemausevaliddate4)|true|none||券使用有效期|
|hasUseThreshold|boolean|false|none||是否使用有门槛|
|canCashTicket|boolean|false|none||是否开启满元门槛|
|goodsCashTicket|number|false|none||商品金额满元门槛；支持 2 位小数|
|canGoodsNumber|boolean|false|none||是否开启满件门槛|
|minGoodsNumber|integer|false|none||满件最低|
|maxGoodsNumber|integer|false|none||满件最高|
|acceptTypeDTO|object|true|none||适用类型dto|
|isAllUseScene|boolean|false|none||是否是全部核销场景|
|allSceneDTO|[AllSceneDTO](#schemaallscenedto)|false|none||核销场景：商城、堂食、外卖、酒旅|
|isAllTimeUse|boolean|false|none||可用时段类型核销<br />是否是全部时段|
|cycleUseRule|[[UsableTimeRuleDTO](#schemausabletimeruledto)]|false|none||部分时段可核销|
|superpositionRule|[SuperpositionRuleDTO2](#schemasuperpositionruledto2)|false|none||叠加规则|
|canUseDiscount|[CanUseDiscountVO](#schemacanusediscountvo)|false|none||可共享的优惠|
|orderDeductList|[integer]|false|none||下单可同时使用抵扣(1积分;2余额;3礼品卡)|
|importGoodsFlag|boolean|false|none||是否是导入商品；不支持|
|importGoodsFileName|string|false|none||导入文件名；不支持|

<h2 id="tocS_CanUseDiscountVO">CanUseDiscountVO</h2>

<a id="schemacanusediscountvo"></a>
<a id="schema_CanUseDiscountVO"></a>
<a id="tocScanusediscountvo"></a>
<a id="tocscanusediscountvo"></a>

```json
{
  "canUseWithOtherDiscount": true,
  "shoppingMallDiscount": [
    0
  ],
  "forHereDiscount": [
    0
  ],
  "takeOutDiscount": [
    0
  ],
  "wineTourDiscount": [
    0
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|canUseWithOtherDiscount|boolean|false|none||是否与其他活动共享优惠|
|shoppingMallDiscount|[integer]|false|none||商城可共享优惠|
|forHereDiscount|[integer]|false|none||堂食可共享优惠|
|takeOutDiscount|[integer]|false|none||外卖可共享优惠|
|wineTourDiscount|[integer]|false|none||酒旅可共享优惠|

<h2 id="tocS_UseValidDate4">UseValidDate4</h2>

<a id="schemausevaliddate4"></a>
<a id="schema_UseValidDate4"></a>
<a id="tocSusevaliddate4"></a>
<a id="tocsusevaliddate4"></a>

```json
{
  "useTimeType": 0,
  "subUseTimeType": 0,
  "useStartTime": "string",
  "useEndTime": "string",
  "useDelayDays": 0,
  "validDays": 0,
  "validDateDesc": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|useTimeType|integer|false|none||时间类型，1：固定，2：动态，3：周期|
|subUseTimeType|integer|false|none||可用时间子类型；/**<br />     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，<br />     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 12:30:30<br />     * <p/><br />     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，<br />     * 则券生效时间为2023-07-26 12:30:30~2023-07-28 12:30:30<br />     */<br />    DYNAMIC(2, "动态(指定时间：N天内有效)"),<br />    /**<br />     * 若2023-07-25 12:30:30领取，领取后0天生效，有效期3天，<br />     * 则券生效时间为2023-07-25 12:30:30~2023-07-27 23:59:59<br />     * <p/><br />     * 若2023-07-25 12:30:30领取，领取后1天生效，有效期3天，<br />     * 则券生效时间为2023-07-26 00:00:00~2023-07-28 23:59:59<br />     */<br />    DYNAMIC_NATURAL_DAY(21, "动态(指定时间：N天自然日内有效)"),<br />    AFTER_MONTH(4, "动态（指定时间：n个月内有效）"),<br />    CURRENT_MONTH(5, "动态（指定时间：当前月有效)"),<br />    PERMANENT(6, "永久有效"),|
|useStartTime|string|false|none||使用开始时间，单位时间戳(精确毫秒)|
|useEndTime|string|false|none||使用结束时间，单位时间戳(精确毫秒)|
|useDelayDays|integer|false|none||领取后几天生效，正整数|
|validDays|integer|false|none||有效天数，正整数|
|validDateDesc|string|false|none||有效期时间描述<br />eg:领取后3天有效<br />2021/08/12 00:00-2022/08/12 23:59|

<h2 id="tocS_CouponTemplateSendRuleVO5">CouponTemplateSendRuleVO5</h2>

<a id="schemacoupontemplatesendrulevo5"></a>
<a id="schema_CouponTemplateSendRuleVO5"></a>
<a id="tocScoupontemplatesendrulevo5"></a>
<a id="tocscoupontemplatesendrulevo5"></a>

```json
{
  "sendTimeType": 1,
  "sendStartDate": "string",
  "sendEndDate": "string",
  "isPayment": false,
  "sendChannels": [
    "DEFAULT_CHANNEL"
  ],
  "recommendStartTime": "string",
  "recommendEndTime": "string",
  "isAcceptAllCrowd": true,
  "crowd": {
    "ruleContent": "string",
    "selectedData": "string",
    "ruleId": 0
  },
  "canStoreLaunch": false,
  "hasUserTakeLimit": true,
  "userTakeLimit": 0,
  "hasUserTakeDayLimit": true,
  "userTakeDayLimit": 0,
  "canGift": false,
  "canShare": false,
  "storeLimitNum": 0,
  "merchantIssueChannels": [
    0
  ],
  "merchantPublish": true,
  "shoppingPublish": true,
  "customerListPublish": true,
  "servicePublish": true,
  "activityPublish": true,
  "customerDirectReceive": true,
  "scanByIssue": true,
  "enterpriseAssistant": true,
  "wechatLiveIssue": true,
  "merchantDelivery": false,
  "limitedTimeDelivery": false,
  "hasGiftLimit": true,
  "giftCountLimit": 0,
  "isOpenRecommend": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|sendTimeType|integer|false|none||发放时间类型 (1无限制；2固定时间)|
|sendStartDate|string|false|none||发放开始时间，格式为时间戳，单位：毫秒。发放时间类型为固定时间时必填。|
|sendEndDate|string|false|none||发放结束时间，格式为时间戳，单位：毫秒。发放时间类型为固定时间时必填。|
|isPayment|boolean|true|none||是否付费|
|sendChannels|[integer]|false|none||发放场景：1 店铺直接领取；2 活动发券；3 商家发券；4 导购发券；5 客户列表发券；6 客服送券|
|recommendStartTime|string|false|none||推荐领取开始时间，单位时间戳(精确毫秒)|
|recommendEndTime|string|false|none||推荐领取结束时间，单位时间戳(精确毫秒)|
|isAcceptAllCrowd|boolean|false|none||适用人群类型：是否适用全部人群（付费券为全部人群）|
|crowd|[Crowd](#schemacrowd)|false|none||适用人群|
|canStoreLaunch|boolean|false|none||是否允许下级投放|
|hasUserTakeLimit|boolean|false|none||是否有限领，默认true|
|userTakeLimit|integer|false|none||用户限领优惠券张数|
|hasUserTakeDayLimit|boolean|false|none||用户每日限领|
|userTakeDayLimit|integer|false|none||用户每日限领数量|
|canGift|boolean|false|none||是否可以转赠（SaaS券、微信券）|
|canShare|boolean|false|none||是否可以分享领取|
|storeLimitNum|integer|false|none||单店最多发放数量|
|merchantIssueChannels|[integer]|false|none||商家发券渠道二级渠道<br />仅详情/编辑,用来给前端展示（扩展字段）|
|merchantPublish|boolean|false|none||商家发券|
|shoppingPublish|boolean|false|none||导购发券|
|customerListPublish|boolean|false|none||客户列表发券|
|servicePublish|boolean|false|none||客服发券|
|activityPublish|boolean|false|none||活动发券|
|customerDirectReceive|boolean|false|none||是否客户直接领取|
|scanByIssue|boolean|false|none||扫码购|
|enterpriseAssistant|boolean|false|none||企微助手|
|wechatLiveIssue|boolean|false|none||视频号发券渠道|
|merchantDelivery|boolean|false|none||运费券的配送方式：商家配送|
|limitedTimeDelivery|boolean|false|none||运费券的配送方式：同城限时达|
|hasGiftLimit|boolean|false|none||是否限制转增次数，true为限制|
|giftCountLimit|integer|false|none||当限制转增次数时，券的转增次数|
|isOpenRecommend|boolean|false|none||是否开启推荐|

#### 枚举值

|属性|值|
|---|---|
|merchantDelivery|false|
|merchantDelivery|false|
|limitedTimeDelivery|false|
|limitedTimeDelivery|false|

<h2 id="tocS_CouponTemplateReduceRuleVO6">CouponTemplateReduceRuleVO6</h2>

<a id="schemacoupontemplatereducerulevo6"></a>
<a id="schema_CouponTemplateReduceRuleVO6"></a>
<a id="tocScoupontemplatereducerulevo6"></a>
<a id="tocscoupontemplatereducerulevo6"></a>

```json
{
  "reducePriceType": 0,
  "cashTicketAmt": 0,
  "maxReducePrice": 0,
  "discount": 0,
  "discountLimitType": 0,
  "discountLimitValue": 0,
  "minCashTicketAmt": 0,
  "maxCashTicketAmt": 0,
  "couponCostType": 0,
  "couponCost": 0,
  "pricingType": 0,
  "costOfOrganization": 0,
  "costOfStore": 0,
  "freeOfPostage": true,
  "freightReduceType": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|reducePriceType|integer|false|none||减免的类型<br />0 无门槛固定减免金额<br />1 固定减免金额<br />2 每满多少减多少|
|cashTicketAmt|number|false|none||代金券减免金额，支持小数点后 2位小数|
|maxReducePrice|number|false|none||最大减免金额(每满减券才有)，支持小数点后 2位小数|
|discount|number|false|none||折扣券减免折扣，支持小数点后 2位小数|
|discountLimitType|integer|false|none||折扣券：优惠上限类型 (1无上限；2最多优惠件；3最多优惠元)|
|discountLimitValue|number|false|none||折扣券优惠上限值，支持小数点后 2位小数|
|minCashTicketAmt|number|false|none||随机金额券 最低减免金额，支持小数点后 2位小数|
|maxCashTicketAmt|number|false|none||随机金额券 最高减免金额，支持小数点后 2位小数|
|couponCostType|integer|false|none||成本类型： 1.固定金额 2.百分比 (传显示的数值)|
|couponCost|number|false|none||成本金额 or 比例，支持小数点后 2位小数|
|pricingType|integer|false|none||计价方式 默认销售价 (兑换券无此字段) ；(1, "市场价"),(2, "销售价");|
|costOfOrganization|number|false|none||成本分摊，归属组织；支持小数点后 2位小数|
|costOfStore|number|false|none||成本分摊，归属门店；支持小数点后 2位小数|
|freeOfPostage|boolean|false|none||运费券是否整单包邮|
|freightReduceType|integer|false|none||运费券减免类型，(1, "满X元减N元运费"),(2, "固定减免特定金额运费【即无门槛减N元运费】"),(3, "满X元包邮"),(4, "整单免邮"),(5, "排除超过特定金额的运费");|

<h2 id="tocS_CouponTemplateBaseInfoVO7">CouponTemplateBaseInfoVO7</h2>

<a id="schemacoupontemplatebaseinfovo7"></a>
<a id="schema_CouponTemplateBaseInfoVO7"></a>
<a id="tocScoupontemplatebaseinfovo7"></a>
<a id="tocscoupontemplatebaseinfovo7"></a>

```json
{
  "basicCouponTemplateId": 0,
  "couponTemplateId": 0,
  "couponType": 0,
  "platformType": 0,
  "couponSubType": 0,
  "name": "string",
  "couponDesc": "string",
  "merchantName": "string",
  "belongVid": 0,
  "belongVidCode": "string",
  "belongVidName": "string",
  "thirdId": "string",
  "thirdTemplateId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|basicCouponTemplateId|integer|false|none||券父模板Id，用于更新基础模板是的参数；更新基础模板时必填|
|couponTemplateId|integer|false|none||券模板Id，用于更新模板时的参数；更新模板时必填|
|couponType|integer|true|none||优惠券类型(1.代金券;2.折扣券;3.兑换券)|
|platformType|integer|true|none||平台类型  1:蒙牛;2 微信 3: 支付宝；（目前统一填 1，代表蒙牛券）|
|couponSubType|integer|false|none||优惠券子类型 13 商家券  14 无资金 11 线上券 12 线下券 10 默认值（默认填 13，代表蒙牛商家券）|
|name|string|true|none||优惠券标题|
|couponDesc|string|false|none||优惠券描述信息|
|merchantName|string|false|none||商户名称|
|belongVid|integer|false|none||券归属vid|
|belongVidCode|string|false|none||belongVid优先|
|belongVidName|string|false|none||券归属vid名称|
|thirdId|string|false|none||第三方id扩展字段|
|thirdTemplateId|string|false|none||是三方券id<br />优先取此字段|

<h2 id="tocS_OpenExportResponseCreateBasicCouponTemplateVO">OpenExportResponseCreateBasicCouponTemplateVO</h2>

<a id="schemaopenexportresponsecreatebasiccoupontemplatevo"></a>
<a id="schema_OpenExportResponseCreateBasicCouponTemplateVO"></a>
<a id="tocSopenexportresponsecreatebasiccoupontemplatevo"></a>
<a id="tocsopenexportresponsecreatebasiccoupontemplatevo"></a>

```json
{
  "code": {
    "errcode": "string",
    "errmsg": "string",
    "bizErrmsg": "string"
  },
  "data": {
    "basicCouponTemplateId": 0
  },
  "globalTicket": "string",
  "monitorTrackId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|data|[CreateBasicCouponTemplateVO](#schemacreatebasiccoupontemplatevo)|false|none||业务数据|
|globalTicket|string|false|none||全局跟踪id，无业务意义|
|monitorTrackId|string|false|none||单次跟踪id，无业务意义|

<h2 id="tocS_CreateBasicCouponTemplateVO">CreateBasicCouponTemplateVO</h2>

<a id="schemacreatebasiccoupontemplatevo"></a>
<a id="schema_CreateBasicCouponTemplateVO"></a>
<a id="tocScreatebasiccoupontemplatevo"></a>
<a id="tocscreatebasiccoupontemplatevo"></a>

```json
{
  "basicCouponTemplateId": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|basicCouponTemplateId|integer|false|none||券模板ID|

<h2 id="tocS_CouponTemplateOtherSettingVO8">CouponTemplateOtherSettingVO8</h2>

<a id="schemacoupontemplateothersettingvo8"></a>
<a id="schema_CouponTemplateOtherSettingVO8"></a>
<a id="tocScoupontemplateothersettingvo8"></a>
<a id="tocscoupontemplateothersettingvo8"></a>

```json
{
  "memberTagIds": [
    {
      "id": 0,
      "name": "string",
      "type": 0,
      "list": [
        {
          "id": 0,
          "name": "string",
          "startValue": "string",
          "endValue": "string"
        }
      ]
    }
  ],
  "hasMemberTag": true,
  "explain": "string",
  "imageUrl": {
    "iconUrl": "string",
    "wechatIconUrl": "string",
    "shareImgUrl": "string",
    "logoUrl": "string",
    "wechatLogoUrl": "string"
  },
  "abstractTitle": "string",
  "isOpenMessage": true,
  "messageStockNum": 0,
  "canWeimobEdit": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|memberTagIds|[[MemberTagId](#schemamembertagid)]|false|none||会员标签集合|
|hasMemberTag|boolean|false|none||是否为用户打标签|
|explain|string|false|none||使用说明|
|imageUrl|[ImageUrl](#schemaimageurl)|false|none||图片相关url|
|abstractTitle|string|false|none||封面简介|
|isOpenMessage|boolean|false|none||是否开启短信提醒；不支持|
|messageStockNum|integer|false|none||短信提醒的库存数量；不支持|
|canWeimobEdit|boolean|false|none||是否允许后台系统修改，默认允许（true:允许 false:不允许）|

<h2 id="tocS_OpenExportResponseCreateCouponTemplateVO">OpenExportResponseCreateCouponTemplateVO</h2>

<a id="schemaopenexportresponsecreatecoupontemplatevo"></a>
<a id="schema_OpenExportResponseCreateCouponTemplateVO"></a>
<a id="tocSopenexportresponsecreatecoupontemplatevo"></a>
<a id="tocsopenexportresponsecreatecoupontemplatevo"></a>

```json
{
  "code": {
    "errcode": "string",
    "errmsg": "string",
    "bizErrmsg": "string"
  },
  "data": {
    "couponTemplateIds": [
      0
    ]
  },
  "globalTicket": "string",
  "monitorTrackId": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|[OpenExportError](#schemaopenexporterror)|false|none||异常code|
|data|[CreateCouponTemplateVO](#schemacreatecoupontemplatevo)|false|none||业务数据|
|globalTicket|string|false|none||全局跟踪id，无业务意义|
|monitorTrackId|string|false|none||单次跟踪id，无业务意义|

<h2 id="tocS_CreateCouponTemplateVO">CreateCouponTemplateVO</h2>

<a id="schemacreatecoupontemplatevo"></a>
<a id="schema_CreateCouponTemplateVO"></a>
<a id="tocScreatecoupontemplatevo"></a>
<a id="tocscreatecoupontemplatevo"></a>

```json
{
  "couponTemplateIds": [
    0
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|couponTemplateIds|[integer]|false|none||none|

